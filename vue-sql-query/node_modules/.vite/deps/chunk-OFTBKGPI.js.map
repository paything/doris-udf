{
  "version": 3,
  "sources": ["../../eventemitter3/index.js", "../../js-binary-schema-parser/lib/index.js", "../../js-binary-schema-parser/lib/parsers/uint8.js", "../../js-binary-schema-parser/lib/schemas/gif.js", "../../gifuct-js/lib/deinterlace.js", "../../gifuct-js/lib/lzw.js", "../../gifuct-js/lib/index.js", "../../lottie-web/build/player/lottie.js", "../../topojson-client/src/reverse.js", "../../topojson-client/src/identity.js", "../../topojson-client/src/transform.js", "../../topojson-client/src/feature.js", "../../topojson-client/src/bbox.js", "../../topojson-client/src/stitch.js", "../../topojson-client/src/mesh.js", "../../topojson-client/src/merge.js", "../../topojson-client/src/bisect.js", "../../topojson-client/src/neighbors.js", "../../topojson-client/src/untransform.js", "../../topojson-client/src/quantize.js", "../../topojson-client/src/index.js", "../../topojson-server/src/object.js", "../../topojson-server/src/bounds.js", "../../topojson-server/src/hash/hashset.js", "../../topojson-server/src/hash/hashmap.js", "../../topojson-server/src/hash/point-equal.js", "../../topojson-server/src/hash/point-hash.js", "../../topojson-server/src/join.js", "../../topojson-server/src/cut.js", "../../topojson-server/src/dedup.js", "../../topojson-server/src/delta.js", "../../topojson-server/src/extract.js", "../../topojson-server/src/geometry.js", "../../topojson-server/src/prequantize.js", "../../topojson-server/src/topology.js", "../../topojson-server/src/index.js", "../../geojson-linestring-dissolve/index.js", "../../geojson-dissolve/node_modules/@turf/meta/index.js", "../../geojson-flatten/index.js", "../../geojson-dissolve/index.js", "../../simplify-geometry/lib/line.js", "../../simplify-geometry/lib/index.js", "../../simplify-geojson/index.js", "../../geobuf/encode.js", "../../geobuf/decode.js", "../../geobuf/index.js", "../../ieee754/index.js", "../../pbf/index.js", "../../@visactor/vutils/es/src/common/isType.ts", "../../@visactor/vutils/es/src/common/isBoolean.ts", "../../@visactor/vutils/es/src/common/isFunction.ts", "../../@visactor/vutils/es/src/common/isNil.ts", "../../@visactor/vutils/es/src/common/isValid.ts", "../../@visactor/vutils/es/src/common/isObject.ts", "../../@visactor/vutils/es/src/common/isObjectLike.ts", "../../@visactor/vutils/es/src/common/isPlainObject.ts", "../../@visactor/vutils/es/src/common/isUndefined.ts", "../../@visactor/vutils/es/src/common/isString.ts", "../../@visactor/vutils/es/src/common/isArray.ts", "../../@visactor/vutils/es/src/common/isNumber.ts", "../../@visactor/vutils/es/src/common/isNumeric.ts", "../../@visactor/vutils/es/src/common/isValidNumber.ts", "../../@visactor/vutils/es/src/common/isArrayLike.ts", "../../@visactor/vutils/es/src/common/getType.ts", "../../@visactor/vutils/es/common/isPrototype.js", "../../@visactor/vutils/es/src/common/isEmpty.ts", "../../@visactor/vutils/es/src/common/get.ts", "../../@visactor/vutils/es/src/common/isDate.ts", "../../@visactor/vutils/es/src/common/cloneDeep.ts", "../../@visactor/vutils/es/src/common/merge.ts", "../../@visactor/vutils/es/src/common/pickWithout.ts", "../../@visactor/vutils/es/src/common/isEqual.ts", "../../@visactor/vutils/es/src/common/mixin.ts", "../../@visactor/vutils/es/src/common/array.ts", "../../@visactor/vutils/src/logger.ts", "../../@visactor/vutils/es/common/ascending.js", "../../@visactor/vutils/es/src/common/bisect.ts", "../../@visactor/vutils/es/src/common/clamp.ts", "../../@visactor/vutils/es/src/common/clamper.ts", "../../@visactor/vutils/es/src/common/debounce.ts", "../../@visactor/vutils/es/src/common/throttle.ts", "../../@visactor/vutils/es/src/common/isValidUrl.ts", "../../@visactor/vutils/es/src/common/isBase64.ts", "../../@visactor/vutils/es/src/common/has.ts", "../../@visactor/vutils/es/src/common/range.ts", "../../@visactor/vutils/es/src/common/toNumber.ts", "../../@visactor/vutils/es/src/common/quantileSorted.ts", "../../@visactor/vutils/es/src/common/median.ts", "../../@visactor/vutils/es/src/common/tickStep.ts", "../../@visactor/vutils/es/src/common/number.ts", "../../@visactor/vutils/es/src/common/memoize.ts", "../../@visactor/vutils/es/src/common/clampRange.ts", "../../@visactor/vutils/es/common/interpolate.js", "../../@visactor/vutils/es/src/common/toValidNumber.ts", "../../@visactor/vutils/es/src/common/random.ts", "../../@visactor/vutils/src/math.ts", "../../@visactor/vutils/es/src/data-structure/point.ts", "../../@visactor/vutils/es/angle.js", "../../@visactor/vutils/es/graphics/src/graphics/algorithm/intersect.ts", "../../@visactor/vutils/es/graphics/src/graphics/algorithm/aabb.ts", "../../@visactor/vutils/es/src/graphics/polygon.ts", "../../@visactor/vutils/es/graphics/text/src/graphics/text/measure/util.ts", "../../@visactor/vutils/es/graphics/src/graphics/text/stringWidth.ts", "../../@visactor/vutils/es/graphics/text/src/graphics/text/measure/textMeasure.ts", "../../@visactor/vutils/es/src/graphics/bounds-util.ts", "../../@visactor/vutils/es/src/data-structure/bounds.ts", "../../@visactor/vutils/es/src/data-structure/matrix.ts", "../../@visactor/vutils/es/src/color/hslToRgb.ts", "../../@visactor/vutils/es/src/color/rgbToHsl.ts", "../../@visactor/vutils/es/src/color/Color.ts", "../../@visactor/vutils/es/src/color/index.ts", "../../@visactor/vutils/es/src/color/hexToRgb.ts", "../../@visactor/vutils/es/src/color/rgbToHex.ts", "../../@visactor/vutils/es/src/color/interpolate.ts", "../../@visactor/vutils/src/padding.ts", "../../@visactor/vutils/src/dom.ts", "../../@visactor/vutils/es/src/format/time.ts", "../../@visactor/vutils/es/format/src/format/number/specifier.ts", "../../@visactor/vutils/es/format/src/format/number/formatDecimal.ts", "../../@visactor/vutils/es/format/src/format/number/formatGroup.ts", "../../@visactor/vutils/es/format/src/format/number/formatPrefixAuto.ts", "../../@visactor/vutils/es/format/src/format/number/formatRounded.ts", "../../@visactor/vutils/es/format/src/format/number/formatTrim.ts", "../../@visactor/vutils/es/format/src/format/number/number.ts", "../../@visactor/vutils/src/index.ts", "../../@visactor/vutils/src/lru.ts", "../../@visactor/vutils/es/src/time/interval.ts", "../../@turf/helpers/dist/es/index.js", "../../@visactor/vutils/es/src/geo/invariant.ts", "../../@visactor/vutils/es/src/geo/constant.ts", "../../@visactor/vutils/es/src/geo/circle-intersection.ts", "../../@visactor/vutils/es/src/fmin/blas1.ts", "../../@visactor/vutils/es/src/fmin/nelder-mead.ts", "../../@visactor/vutils/es/src/fmin/linesearch.ts", "../../@visactor/vutils/es/src/fmin/conjugate-gradient.ts", "../../d3-dsv/src/dsv.js", "../../d3-dsv/src/csv.js", "../../d3-dsv/src/tsv.js", "../../d3-dsv/src/autoType.js", "../../d3-hexbin/src/hexbin.js", "../../d3-geo/src/identity.js", "../../d3-geo/src/stream.js", "../../d3-geo/src/adder.js", "../../d3-geo/src/math.js", "../../d3-geo/src/noop.js", "../../d3-geo/src/path/area.js", "../../d3-geo/src/path/bounds.js", "../../d3-geo/src/path/centroid.js", "../../d3-geo/src/path/context.js", "../../d3-geo/src/path/measure.js", "../../d3-geo/src/path/string.js", "../../d3-geo/src/path/index.js", "../../d3-geo/src/clip/buffer.js", "../../d3-geo/src/pointEqual.js", "../../d3-geo/src/clip/rejoin.js", "../../d3-geo/src/cartesian.js", "../../d3-geo/src/polygonContains.js", "../../d3-array/src/ascending.js", "../../d3-array/src/bisector.js", "../../d3-array/src/bisect.js", "../../d3-array/src/array.js", "../../d3-array/src/ticks.js", "../../d3-array/src/merge.js", "../../d3-geo/src/clip/index.js", "../../d3-geo/src/clip/antimeridian.js", "../../d3-geo/src/compose.js", "../../d3-geo/src/rotation.js", "../../d3-geo/src/circle.js", "../../d3-geo/src/clip/circle.js", "../../d3-geo/src/clip/line.js", "../../d3-geo/src/clip/rectangle.js", "../../d3-geo/src/transform.js", "../../d3-geo/src/projection/fit.js", "../../d3-geo/src/projection/resample.js", "../../d3-geo/src/projection/index.js", "../../d3-geo/src/projection/conic.js", "../../d3-geo/src/projection/cylindricalEqualArea.js", "../../d3-geo/src/projection/conicEqualArea.js", "../../d3-geo/src/projection/albers.js", "../../d3-geo/src/projection/albersUsa.js", "../../d3-geo/src/projection/azimuthal.js", "../../d3-geo/src/projection/azimuthalEqualArea.js", "../../d3-geo/src/projection/azimuthalEquidistant.js", "../../d3-geo/src/projection/mercator.js", "../../d3-geo/src/projection/conicConformal.js", "../../d3-geo/src/projection/equirectangular.js", "../../d3-geo/src/projection/conicEquidistant.js", "../../d3-geo/src/projection/equalEarth.js", "../../d3-geo/src/projection/gnomonic.js", "../../d3-geo/src/projection/identity.js", "../../d3-geo/src/projection/naturalEarth1.js", "../../d3-geo/src/projection/orthographic.js", "../../d3-geo/src/projection/stereographic.js", "../../d3-geo/src/projection/transverseMercator.js", "../../d3-geo/src/area.js", "../../d3-geo/src/bounds.js", "../../d3-geo/src/length.js", "../../simple-statistics/src/linear_regression.js", "../../simple-statistics/src/linear_regression_line.js", "../../simple-statistics/src/sum.js", "../../simple-statistics/src/mean.js", "../../simple-statistics/src/sum_nth_power_deviations.js", "../../simple-statistics/src/variance.js", "../../simple-statistics/src/standard_deviation.js", "../../simple-statistics/src/r_squared.js", "../../simple-statistics/src/mode_sorted.js", "../../simple-statistics/src/numeric_sort.js", "../../simple-statistics/src/mode.js", "../../simple-statistics/src/mode_fast.js", "../../simple-statistics/src/min.js", "../../simple-statistics/src/max.js", "../../simple-statistics/src/extent.js", "../../simple-statistics/src/min_sorted.js", "../../simple-statistics/src/max_sorted.js", "../../simple-statistics/src/extent_sorted.js", "../../simple-statistics/src/sum_simple.js", "../../simple-statistics/src/product.js", "../../simple-statistics/src/quantile_sorted.js", "../../simple-statistics/src/quickselect.js", "../../simple-statistics/src/quantile.js", "../../simple-statistics/src/quantile_rank_sorted.js", "../../simple-statistics/src/quantile_rank.js", "../../simple-statistics/src/interquartile_range.js", "../../simple-statistics/src/median.js", "../../simple-statistics/src/median_absolute_deviation.js", "../../simple-statistics/src/chunk.js", "../../simple-statistics/src/sample_with_replacement.js", "../../simple-statistics/src/shuffle_in_place.js", "../../simple-statistics/src/shuffle.js", "../../simple-statistics/src/sample.js", "../../simple-statistics/src/make_matrix.js", "../../simple-statistics/src/unique_count_sorted.js", "../../simple-statistics/src/ckmeans.js", "../../simple-statistics/src/jenks_breaks.js", "../../simple-statistics/src/jenks_matrices.js", "../../simple-statistics/src/jenks.js", "../../simple-statistics/src/equal_interval_breaks.js", "../../simple-statistics/src/sample_covariance.js", "../../simple-statistics/src/sample_variance.js", "../../simple-statistics/src/sample_standard_deviation.js", "../../simple-statistics/src/sample_correlation.js", "../../simple-statistics/src/sample_rank_correlation.js", "../../simple-statistics/src/sample_skewness.js", "../../simple-statistics/src/sample_kurtosis.js", "../../simple-statistics/src/permutations_heap.js", "../../simple-statistics/src/combinations.js", "../../simple-statistics/src/combinations_replacement.js", "../../simple-statistics/src/add_to_mean.js", "../../simple-statistics/src/combine_means.js", "../../simple-statistics/src/combine_variances.js", "../../simple-statistics/src/geometric_mean.js", "../../simple-statistics/src/log_average.js", "../../simple-statistics/src/harmonic_mean.js", "../../simple-statistics/src/mean_simple.js", "../../simple-statistics/src/median_sorted.js", "../../simple-statistics/src/subtract_from_mean.js", "../../simple-statistics/src/root_mean_square.js", "../../simple-statistics/src/coefficient_of_variation.js", "../../simple-statistics/src/t_test.js", "../../simple-statistics/src/t_test_two_sample.js", "../../simple-statistics/src/wilcoxon_rank_sum.js", "../../simple-statistics/src/bayesian_classifier.js", "../../simple-statistics/src/perceptron.js", "../../simple-statistics/src/epsilon.js", "../../simple-statistics/src/factorial.js", "../../simple-statistics/src/gamma.js", "../../simple-statistics/src/gammaln.js", "../../simple-statistics/src/bernoulli_distribution.js", "../../simple-statistics/src/binomial_distribution.js", "../../simple-statistics/src/poisson_distribution.js", "../../simple-statistics/src/chi_squared_distribution_table.js", "../../simple-statistics/src/chi_squared_goodness_of_fit.js", "../../simple-statistics/src/kernel_density_estimation.js", "../../simple-statistics/src/z_score.js", "../../simple-statistics/src/standard_normal_table.js", "../../simple-statistics/src/cumulative_std_normal_probability.js", "../../simple-statistics/src/cumulative_std_logistic_probability.js", "../../simple-statistics/src/error_function.js", "../../simple-statistics/src/inverse_error_function.js", "../../simple-statistics/src/probit.js", "../../simple-statistics/src/logit.js", "../../simple-statistics/src/permutation_test.js", "../../simple-statistics/src/sign.js", "../../simple-statistics/src/bisect.js", "../../simple-statistics/src/euclidean_distance.js", "../../simple-statistics/src/k_means_cluster.js", "../../simple-statistics/src/silhouette.js", "../../simple-statistics/src/silhouette_metric.js", "../../simple-statistics/src/relative_error.js", "../../simple-statistics/src/approx_equal.js", "../../@turf/clone/dist/es/index.js", "../../@turf/invariant/dist/es/index.js", "../../@turf/boolean-clockwise/dist/es/index.js", "../../@turf/meta/dist/es/index.js", "../../@turf/rewind/dist/es/index.js", "../../@turf/flatten/dist/es/index.js", "../../d3-hierarchy/src/hierarchy/count.js", "../../d3-hierarchy/src/hierarchy/each.js", "../../d3-hierarchy/src/hierarchy/eachBefore.js", "../../d3-hierarchy/src/hierarchy/eachAfter.js", "../../d3-hierarchy/src/hierarchy/find.js", "../../d3-hierarchy/src/hierarchy/sum.js", "../../d3-hierarchy/src/hierarchy/sort.js", "../../d3-hierarchy/src/hierarchy/path.js", "../../d3-hierarchy/src/hierarchy/ancestors.js", "../../d3-hierarchy/src/hierarchy/descendants.js", "../../d3-hierarchy/src/hierarchy/leaves.js", "../../d3-hierarchy/src/hierarchy/links.js", "../../d3-hierarchy/src/hierarchy/iterator.js", "../../d3-hierarchy/src/hierarchy/index.js", "../../d3-hierarchy/src/treemap/dice.js", "../../d3-hierarchy/src/tree.js", "../../d3-hierarchy/src/treemap/slice.js", "../../d3-hierarchy/src/treemap/squarify.js", "../../d3-hierarchy/src/treemap/resquarify.js", "../../roughjs/bundled/rough.esm.js"],
  "sourcesContent": ["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loop = exports.conditional = exports.parse = void 0;\n\nvar parse = function parse(stream, schema) {\n  var result = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : result;\n\n  if (Array.isArray(schema)) {\n    schema.forEach(function (partSchema) {\n      return parse(stream, partSchema, result, parent);\n    });\n  } else if (typeof schema === 'function') {\n    schema(stream, result, parent, parse);\n  } else {\n    var key = Object.keys(schema)[0];\n\n    if (Array.isArray(schema[key])) {\n      parent[key] = {};\n      parse(stream, schema[key], result, parent[key]);\n    } else {\n      parent[key] = schema[key](stream, result, parent, parse);\n    }\n  }\n\n  return result;\n};\n\nexports.parse = parse;\n\nvar conditional = function conditional(schema, conditionFunc) {\n  return function (stream, result, parent, parse) {\n    if (conditionFunc(stream, result, parent)) {\n      parse(stream, schema, result, parent);\n    }\n  };\n};\n\nexports.conditional = conditional;\n\nvar loop = function loop(schema, continueFunc) {\n  return function (stream, result, parent, parse) {\n    var arr = [];\n    var lastStreamPos = stream.pos;\n\n    while (continueFunc(stream, result, parent)) {\n      var newParent = {};\n      parse(stream, schema, result, newParent); // cases when whole file is parsed but no termination is there and stream position is not getting updated as well\n      // it falls into infinite recursion, null check to avoid the same\n\n      if (stream.pos === lastStreamPos) {\n        break;\n      }\n\n      lastStreamPos = stream.pos;\n      arr.push(newParent);\n    }\n\n    return arr;\n  };\n};\n\nexports.loop = loop;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.readBits = exports.readArray = exports.readUnsigned = exports.readString = exports.peekBytes = exports.readBytes = exports.peekByte = exports.readByte = exports.buildStream = void 0;\n\n// Default stream and parsers for Uint8TypedArray data type\nvar buildStream = function buildStream(uint8Data) {\n  return {\n    data: uint8Data,\n    pos: 0\n  };\n};\n\nexports.buildStream = buildStream;\n\nvar readByte = function readByte() {\n  return function (stream) {\n    return stream.data[stream.pos++];\n  };\n};\n\nexports.readByte = readByte;\n\nvar peekByte = function peekByte() {\n  var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return function (stream) {\n    return stream.data[stream.pos + offset];\n  };\n};\n\nexports.peekByte = peekByte;\n\nvar readBytes = function readBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos += length);\n  };\n};\n\nexports.readBytes = readBytes;\n\nvar peekBytes = function peekBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos + length);\n  };\n};\n\nexports.peekBytes = peekBytes;\n\nvar readString = function readString(length) {\n  return function (stream) {\n    return Array.from(readBytes(length)(stream)).map(function (value) {\n      return String.fromCharCode(value);\n    }).join('');\n  };\n};\n\nexports.readString = readString;\n\nvar readUnsigned = function readUnsigned(littleEndian) {\n  return function (stream) {\n    var bytes = readBytes(2)(stream);\n    return littleEndian ? (bytes[1] << 8) + bytes[0] : (bytes[0] << 8) + bytes[1];\n  };\n};\n\nexports.readUnsigned = readUnsigned;\n\nvar readArray = function readArray(byteSize, totalOrFunc) {\n  return function (stream, result, parent) {\n    var total = typeof totalOrFunc === 'function' ? totalOrFunc(stream, result, parent) : totalOrFunc;\n    var parser = readBytes(byteSize);\n    var arr = new Array(total);\n\n    for (var i = 0; i < total; i++) {\n      arr[i] = parser(stream);\n    }\n\n    return arr;\n  };\n};\n\nexports.readArray = readArray;\n\nvar subBitsTotal = function subBitsTotal(bits, startIndex, length) {\n  var result = 0;\n\n  for (var i = 0; i < length; i++) {\n    result += bits[startIndex + i] && Math.pow(2, length - i - 1);\n  }\n\n  return result;\n};\n\nvar readBits = function readBits(schema) {\n  return function (stream) {\n    var _byte = readByte()(stream); // convert the byte to bit array\n\n\n    var bits = new Array(8);\n\n    for (var i = 0; i < 8; i++) {\n      bits[7 - i] = !!(_byte & 1 << i);\n    } // convert the bit array to values based on the schema\n\n\n    return Object.keys(schema).reduce(function (res, key) {\n      var def = schema[key];\n\n      if (def.length) {\n        res[key] = subBitsTotal(bits, def.index, def.length);\n      } else {\n        res[key] = bits[def.index];\n      }\n\n      return res;\n    }, {});\n  };\n};\n\nexports.readBits = readBits;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _ = require(\"../\");\n\nvar _uint = require(\"../parsers/uint8\");\n\n// a set of 0x00 terminated subblocks\nvar subBlocksSchema = {\n  blocks: function blocks(stream) {\n    var terminator = 0x00;\n    var chunks = [];\n    var streamSize = stream.data.length;\n    var total = 0;\n\n    for (var size = (0, _uint.readByte)()(stream); size !== terminator; size = (0, _uint.readByte)()(stream)) {\n      // size becomes undefined for some case when file is corrupted and  terminator is not proper \n      // null check to avoid recursion\n      if (!size) break; // catch corrupted files with no terminator\n\n      if (stream.pos + size >= streamSize) {\n        var availableSize = streamSize - stream.pos;\n        chunks.push((0, _uint.readBytes)(availableSize)(stream));\n        total += availableSize;\n        break;\n      }\n\n      chunks.push((0, _uint.readBytes)(size)(stream));\n      total += size;\n    }\n\n    var result = new Uint8Array(total);\n    var offset = 0;\n\n    for (var i = 0; i < chunks.length; i++) {\n      result.set(chunks[i], offset);\n      offset += chunks[i].length;\n    }\n\n    return result;\n  }\n}; // global control extension\n\nvar gceSchema = (0, _.conditional)({\n  gce: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    byteSize: (0, _uint.readByte)()\n  }, {\n    extras: (0, _uint.readBits)({\n      future: {\n        index: 0,\n        length: 3\n      },\n      disposal: {\n        index: 3,\n        length: 3\n      },\n      userInput: {\n        index: 6\n      },\n      transparentColorGiven: {\n        index: 7\n      }\n    })\n  }, {\n    delay: (0, _uint.readUnsigned)(true)\n  }, {\n    transparentColorIndex: (0, _uint.readByte)()\n  }, {\n    terminator: (0, _uint.readByte)()\n  }]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xf9;\n}); // image pipeline block\n\nvar imageSchema = (0, _.conditional)({\n  image: [{\n    code: (0, _uint.readByte)()\n  }, {\n    descriptor: [{\n      left: (0, _uint.readUnsigned)(true)\n    }, {\n      top: (0, _uint.readUnsigned)(true)\n    }, {\n      width: (0, _uint.readUnsigned)(true)\n    }, {\n      height: (0, _uint.readUnsigned)(true)\n    }, {\n      lct: (0, _uint.readBits)({\n        exists: {\n          index: 0\n        },\n        interlaced: {\n          index: 1\n        },\n        sort: {\n          index: 2\n        },\n        future: {\n          index: 3,\n          length: 2\n        },\n        size: {\n          index: 5,\n          length: 3\n        }\n      })\n    }]\n  }, (0, _.conditional)({\n    lct: (0, _uint.readArray)(3, function (stream, result, parent) {\n      return Math.pow(2, parent.descriptor.lct.size + 1);\n    })\n  }, function (stream, result, parent) {\n    return parent.descriptor.lct.exists;\n  }), {\n    data: [{\n      minCodeSize: (0, _uint.readByte)()\n    }, subBlocksSchema]\n  }]\n}, function (stream) {\n  return (0, _uint.peekByte)()(stream) === 0x2c;\n}); // plain text block\n\nvar textSchema = (0, _.conditional)({\n  text: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    preData: function preData(stream, result, parent) {\n      return (0, _uint.readBytes)(parent.text.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0x01;\n}); // application block\n\nvar applicationSchema = (0, _.conditional)({\n  application: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    id: function id(stream, result, parent) {\n      return (0, _uint.readString)(parent.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xff;\n}); // comment block\n\nvar commentSchema = (0, _.conditional)({\n  comment: [{\n    codes: (0, _uint.readBytes)(2)\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xfe;\n});\nvar schema = [{\n  header: [{\n    signature: (0, _uint.readString)(3)\n  }, {\n    version: (0, _uint.readString)(3)\n  }]\n}, {\n  lsd: [{\n    width: (0, _uint.readUnsigned)(true)\n  }, {\n    height: (0, _uint.readUnsigned)(true)\n  }, {\n    gct: (0, _uint.readBits)({\n      exists: {\n        index: 0\n      },\n      resolution: {\n        index: 1,\n        length: 3\n      },\n      sort: {\n        index: 4\n      },\n      size: {\n        index: 5,\n        length: 3\n      }\n    })\n  }, {\n    backgroundColorIndex: (0, _uint.readByte)()\n  }, {\n    pixelAspectRatio: (0, _uint.readByte)()\n  }]\n}, (0, _.conditional)({\n  gct: (0, _uint.readArray)(3, function (stream, result) {\n    return Math.pow(2, result.lsd.gct.size + 1);\n  })\n}, function (stream, result) {\n  return result.lsd.gct.exists;\n}), // content frames\n{\n  frames: (0, _.loop)([gceSchema, applicationSchema, commentSchema, imageSchema, textSchema], function (stream) {\n    var nextCode = (0, _uint.peekByte)()(stream); // rather than check for a terminator, we should check for the existence\n    // of an ext or image block to avoid infinite loops\n    //var terminator = 0x3B;\n    //return nextCode !== terminator;\n\n    return nextCode === 0x21 || nextCode === 0x2c;\n  })\n}];\nvar _default = schema;\nexports[\"default\"] = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deinterlace = void 0;\n\n/**\r\n * Deinterlace function from https://github.com/shachaf/jsgif\r\n */\nvar deinterlace = function deinterlace(pixels, width) {\n  var newPixels = new Array(pixels.length);\n  var rows = pixels.length / width;\n\n  var cpRow = function cpRow(toRow, fromRow) {\n    var fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n    newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n  }; // See appendix E.\n\n\n  var offsets = [0, 4, 2, 1];\n  var steps = [8, 8, 4, 2];\n  var fromRow = 0;\n\n  for (var pass = 0; pass < 4; pass++) {\n    for (var toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n      cpRow(toRow, fromRow);\n      fromRow++;\n    }\n  }\n\n  return newPixels;\n};\n\nexports.deinterlace = deinterlace;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lzw = void 0;\n\n/**\r\n * javascript port of java LZW decompression\r\n * Original java author url: https://gist.github.com/devunwired/4479231\r\n */\nvar lzw = function lzw(minCodeSize, data, pixelCount) {\n  var MAX_STACK_SIZE = 4096;\n  var nullCode = -1;\n  var npix = pixelCount;\n  var available, clear, code_mask, code_size, end_of_information, in_code, old_code, bits, code, i, datum, data_size, first, top, bi, pi;\n  var dstPixels = new Array(pixelCount);\n  var prefix = new Array(MAX_STACK_SIZE);\n  var suffix = new Array(MAX_STACK_SIZE);\n  var pixelStack = new Array(MAX_STACK_SIZE + 1); // Initialize GIF data stream decoder.\n\n  data_size = minCodeSize;\n  clear = 1 << data_size;\n  end_of_information = clear + 1;\n  available = clear + 2;\n  old_code = nullCode;\n  code_size = data_size + 1;\n  code_mask = (1 << code_size) - 1;\n\n  for (code = 0; code < clear; code++) {\n    prefix[code] = 0;\n    suffix[code] = code;\n  } // Decode GIF pixel stream.\n\n\n  var datum, bits, count, first, top, pi, bi;\n  datum = bits = count = first = top = pi = bi = 0;\n\n  for (i = 0; i < npix;) {\n    if (top === 0) {\n      if (bits < code_size) {\n        // get the next byte\n        datum += data[bi] << bits;\n        bits += 8;\n        bi++;\n        continue;\n      } // Get the next code.\n\n\n      code = datum & code_mask;\n      datum >>= code_size;\n      bits -= code_size; // Interpret the code\n\n      if (code > available || code == end_of_information) {\n        break;\n      }\n\n      if (code == clear) {\n        // Reset decoder.\n        code_size = data_size + 1;\n        code_mask = (1 << code_size) - 1;\n        available = clear + 2;\n        old_code = nullCode;\n        continue;\n      }\n\n      if (old_code == nullCode) {\n        pixelStack[top++] = suffix[code];\n        old_code = code;\n        first = code;\n        continue;\n      }\n\n      in_code = code;\n\n      if (code == available) {\n        pixelStack[top++] = first;\n        code = old_code;\n      }\n\n      while (code > clear) {\n        pixelStack[top++] = suffix[code];\n        code = prefix[code];\n      }\n\n      first = suffix[code] & 0xff;\n      pixelStack[top++] = first; // add a new string to the table, but only if space is available\n      // if not, just continue with current table until a clear code is found\n      // (deferred clear code implementation as per GIF spec)\n\n      if (available < MAX_STACK_SIZE) {\n        prefix[available] = old_code;\n        suffix[available] = first;\n        available++;\n\n        if ((available & code_mask) === 0 && available < MAX_STACK_SIZE) {\n          code_size++;\n          code_mask += available;\n        }\n      }\n\n      old_code = in_code;\n    } // Pop a pixel off the pixel stack.\n\n\n    top--;\n    dstPixels[pi++] = pixelStack[top];\n    i++;\n  }\n\n  for (i = pi; i < npix; i++) {\n    dstPixels[i] = 0; // clear missing pixels\n  }\n\n  return dstPixels;\n};\n\nexports.lzw = lzw;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decompressFrames = exports.decompressFrame = exports.parseGIF = void 0;\n\nvar _gif = _interopRequireDefault(require(\"js-binary-schema-parser/lib/schemas/gif\"));\n\nvar _jsBinarySchemaParser = require(\"js-binary-schema-parser\");\n\nvar _uint = require(\"js-binary-schema-parser/lib/parsers/uint8\");\n\nvar _deinterlace = require(\"./deinterlace\");\n\nvar _lzw = require(\"./lzw\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar parseGIF = function parseGIF(arrayBuffer) {\n  var byteData = new Uint8Array(arrayBuffer);\n  return (0, _jsBinarySchemaParser.parse)((0, _uint.buildStream)(byteData), _gif[\"default\"]);\n};\n\nexports.parseGIF = parseGIF;\n\nvar generatePatch = function generatePatch(image) {\n  var totalPixels = image.pixels.length;\n  var patchData = new Uint8ClampedArray(totalPixels * 4);\n\n  for (var i = 0; i < totalPixels; i++) {\n    var pos = i * 4;\n    var colorIndex = image.pixels[i];\n    var color = image.colorTable[colorIndex] || [0, 0, 0];\n    patchData[pos] = color[0];\n    patchData[pos + 1] = color[1];\n    patchData[pos + 2] = color[2];\n    patchData[pos + 3] = colorIndex !== image.transparentIndex ? 255 : 0;\n  }\n\n  return patchData;\n};\n\nvar decompressFrame = function decompressFrame(frame, gct, buildImagePatch) {\n  if (!frame.image) {\n    console.warn('gif frame does not have associated image.');\n    return;\n  }\n\n  var image = frame.image; // get the number of pixels\n\n  var totalPixels = image.descriptor.width * image.descriptor.height; // do lzw decompression\n\n  var pixels = (0, _lzw.lzw)(image.data.minCodeSize, image.data.blocks, totalPixels); // deal with interlacing if necessary\n\n  if (image.descriptor.lct.interlaced) {\n    pixels = (0, _deinterlace.deinterlace)(pixels, image.descriptor.width);\n  }\n\n  var resultImage = {\n    pixels: pixels,\n    dims: {\n      top: frame.image.descriptor.top,\n      left: frame.image.descriptor.left,\n      width: frame.image.descriptor.width,\n      height: frame.image.descriptor.height\n    }\n  }; // color table\n\n  if (image.descriptor.lct && image.descriptor.lct.exists) {\n    resultImage.colorTable = image.lct;\n  } else {\n    resultImage.colorTable = gct;\n  } // add per frame relevant gce information\n\n\n  if (frame.gce) {\n    resultImage.delay = (frame.gce.delay || 10) * 10; // convert to ms\n\n    resultImage.disposalType = frame.gce.extras.disposal; // transparency\n\n    if (frame.gce.extras.transparentColorGiven) {\n      resultImage.transparentIndex = frame.gce.transparentColorIndex;\n    }\n  } // create canvas usable imagedata if desired\n\n\n  if (buildImagePatch) {\n    resultImage.patch = generatePatch(resultImage);\n  }\n\n  return resultImage;\n};\n\nexports.decompressFrame = decompressFrame;\n\nvar decompressFrames = function decompressFrames(parsedGif, buildImagePatches) {\n  return parsedGif.frames.filter(function (f) {\n    return f.image;\n  }).map(function (f) {\n    return decompressFrame(f, parsedGif.gct, buildImagePatches);\n  });\n};\n\nexports.decompressFrames = decompressFrames;", "(typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n\n      return createRegularArray(type, len);\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n\n    return createRegularArray;\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var expressionsInterfaces = null;\n  var idPrefix$1 = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface$1() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n\n    return value;\n  }\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix$1 + '__lottie_element_' + _count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n\n      default:\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n\n      default:\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n\n  var setExpressionInterfaces = function setExpressionInterfaces(value) {\n    expressionsInterfaces = value;\n  };\n\n  var getExpressionInterfaces = function getExpressionInterfaces() {\n    return expressionsInterfaces;\n  };\n\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix$1 = value;\n  };\n\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix$1;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\n\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n\n      workerFn = fn;\n      return workerProxy;\n    }\n\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n\n                i += 1;\n              }\n\n              return null;\n            }\n\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n\n              return null;\n            }\n\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n\n              return null;\n            }\n\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\n              }\n            }\n\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n\n                return null;\n              }\n\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\n\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n\n                try {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), path, true);\n                } catch (error) {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), fullPath + '/' + path, true);\n                }\n\n                xhr.send();\n              }\n\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n\n            _workerSelf.dataManager.completeData(animation);\n\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n\n          clearInterval(intervalId);\n        }\n\n        _count += 1;\n      }.bind(this), 50);\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n\n      return null;\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n\n      if (keysCount === 0) {\n        throw new Error();\n      }\n\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i].cm\n            };\n          }\n        }\n\n        markers.push(markerData);\n      }\n\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n\n  function getRenderer(key) {\n    return renderers[key];\n  }\n\n  function getRegisteredRenderer() {\n    // Returns canvas by default for compatibility\n    if (renderers.canvas) {\n      return 'canvas';\n    } // Returns any renderer that is registered\n\n\n    for (var key in renderers) {\n      if (renderers[key]) {\n        return key;\n      }\n    }\n\n    return '';\n  }\n\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\n    this.expressionsPlugin = getExpressionsPlugin();\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = 'svg';\n\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : getRegisteredRenderer() || 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    if (!params.path) {\n      this.trigger('destroy');\n    } else {\n      this.setParams(params);\n    }\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function (width, height) {\n    // Adding this validation for backwards compatibility in case an event object was being passed down\n    var _width = typeof width === 'number' ? width : undefined;\n\n    var _height = typeof height === 'number' ? height : undefined;\n\n    this.renderer.updateContainerSize(_width, _height);\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n\n    try {\n      if (this.expressionsPlugin) {\n        this.expressionsPlugin.resetFrame();\n      }\n\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.trigger('_play');\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this.trigger('_pause');\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n\n      if (marker.payload && marker.payload.name === markerName) {\n        return marker;\n      }\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.expressionsPlugin = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setLoop = function (isLooping) {\n    this.loop = isLooping;\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\n    try {\n      var element = this.renderer.getElementByPath(path);\n      element.updateDocumentData(documentData, index);\n    } catch (error) {// TODO: decide how to handle catch case\n    }\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'drawnFrame':\n          this.drawnFrameEvent.currentTime = this.currentFrame;\n          this.drawnFrameEvent.totalTime = this.totalFrames;\n          this.drawnFrameEvent.direction = this.frameModifier;\n          this.triggerEvent(name, this.drawnFrameEvent);\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; // moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n\n          flag = false;\n        }\n      }\n\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n\n      return bezierSegmentPoints;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  var initFrame = initialDefaultFrame;\n  var mathAbs = Math.abs;\n\n  function interpolateValue(frameNum, caching) {\n    var offsetTime = this.offsetTime;\n    var newValue;\n\n    if (this.propType === 'multidimensional') {\n      newValue = createTypedArray('float32', this.pv.length);\n    }\n\n    var iterationIndex = caching.lastIndex;\n    var i = iterationIndex;\n    var len = this.keyframes.length - 1;\n    var flag = true;\n    var keyData;\n    var nextKeyData;\n    var keyframeMetadata;\n\n    while (flag) {\n      keyData = this.keyframes[i];\n      nextKeyData = this.keyframes[i + 1];\n\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n        if (keyData.h) {\n          keyData = nextKeyData;\n        }\n\n        iterationIndex = 0;\n        break;\n      }\n\n      if (nextKeyData.t - offsetTime > frameNum) {\n        iterationIndex = i;\n        break;\n      }\n\n      if (i < len - 1) {\n        i += 1;\n      } else {\n        iterationIndex = 0;\n        flag = false;\n      }\n    }\n\n    keyframeMetadata = this.keyframesMetadata[i] || {};\n    var k;\n    var kLen;\n    var perc;\n    var jLen;\n    var j;\n    var fnc;\n    var nextKeyTime = nextKeyData.t - offsetTime;\n    var keyTime = keyData.t - offsetTime;\n    var endValue;\n\n    if (keyData.to) {\n      if (!keyframeMetadata.bezierData) {\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n      }\n\n      var bezierData = keyframeMetadata.bezierData;\n\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n        kLen = bezierData.points[ind].point.length;\n\n        for (k = 0; k < kLen; k += 1) {\n          newValue[k] = bezierData.points[ind].point[k];\n        } // caching._lastKeyframeIndex = -1;\n\n      } else {\n        if (keyframeMetadata.__fnct) {\n          fnc = keyframeMetadata.__fnct;\n        } else {\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n          keyframeMetadata.__fnct = fnc;\n        }\n\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n        var distanceInLine = bezierData.segmentLength * perc;\n        var segmentPerc;\n        var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n        j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n        flag = true;\n        jLen = bezierData.points.length;\n\n        while (flag) {\n          addedLength += bezierData.points[j].partialLength;\n\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n            kLen = bezierData.points[j].point.length;\n\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k];\n            }\n\n            break;\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n            kLen = bezierData.points[j].point.length;\n\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n            }\n\n            break;\n          }\n\n          if (j < jLen - 1) {\n            j += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        caching._lastPoint = j;\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n        caching._lastKeyframeIndex = i;\n      }\n    } else {\n      var outX;\n      var outY;\n      var inX;\n      var inY;\n      var keyValue;\n      len = keyData.s.length;\n      endValue = nextKeyData.s || keyData.e;\n\n      if (this.sh && keyData.h !== 1) {\n        if (frameNum >= nextKeyTime) {\n          newValue[0] = endValue[0];\n          newValue[1] = endValue[1];\n          newValue[2] = endValue[2];\n        } else if (frameNum <= keyTime) {\n          newValue[0] = keyData.s[0];\n          newValue[1] = keyData.s[1];\n          newValue[2] = keyData.s[2];\n        } else {\n          var quatStart = createQuaternion(keyData.s);\n          var quatEnd = createQuaternion(endValue);\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n        }\n      } else {\n        for (i = 0; i < len; i += 1) {\n          if (keyData.h !== 1) {\n            if (frameNum >= nextKeyTime) {\n              perc = 1;\n            } else if (frameNum < keyTime) {\n              perc = 0;\n            } else {\n              if (keyData.o.x.constructor === Array) {\n                if (!keyframeMetadata.__fnct) {\n                  keyframeMetadata.__fnct = [];\n                }\n\n                if (!keyframeMetadata.__fnct[i]) {\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyframeMetadata.__fnct[i] = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct[i];\n                }\n              } else if (!keyframeMetadata.__fnct) {\n                outX = keyData.o.x;\n                outY = keyData.o.y;\n                inX = keyData.i.x;\n                inY = keyData.i.y;\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                keyData.keyframeMetadata = fnc;\n              } else {\n                fnc = keyframeMetadata.__fnct;\n              }\n\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n            }\n          }\n\n          endValue = nextKeyData.s || keyData.e;\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n          if (this.propType === 'multidimensional') {\n            newValue[i] = keyValue;\n          } else {\n            newValue = keyValue;\n          }\n        }\n      }\n    }\n\n    caching.lastIndex = iterationIndex;\n    return newValue;\n  } // based on @Toji's https://github.com/toji/gl-matrix/\n\n\n  function slerp(a, b, t) {\n    var out = [];\n    var ax = a[0];\n    var ay = a[1];\n    var az = a[2];\n    var aw = a[3];\n    var bx = b[0];\n    var by = b[1];\n    var bz = b[2];\n    var bw = b[3];\n    var omega;\n    var cosom;\n    var sinom;\n    var scale0;\n    var scale1;\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n    if (cosom < 0.0) {\n      cosom = -cosom;\n      bx = -bx;\n      by = -by;\n      bz = -bz;\n      bw = -bw;\n    }\n\n    if (1.0 - cosom > 0.000001) {\n      omega = Math.acos(cosom);\n      sinom = Math.sin(omega);\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\n      scale1 = Math.sin(t * omega) / sinom;\n    } else {\n      scale0 = 1.0 - t;\n      scale1 = t;\n    }\n\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n    return out;\n  }\n\n  function quaternionToEuler(out, quat) {\n    var qx = quat[0];\n    var qy = quat[1];\n    var qz = quat[2];\n    var qw = quat[3];\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n    out[0] = heading / degToRads;\n    out[1] = attitude / degToRads;\n    out[2] = bank / degToRads;\n  }\n\n  function createQuaternion(values) {\n    var heading = values[0] * degToRads;\n    var attitude = values[1] * degToRads;\n    var bank = values[2] * degToRads;\n    var c1 = Math.cos(heading / 2);\n    var c2 = Math.cos(attitude / 2);\n    var c3 = Math.cos(bank / 2);\n    var s1 = Math.sin(heading / 2);\n    var s2 = Math.sin(attitude / 2);\n    var s3 = Math.sin(bank / 2);\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\n    return [x, y, z, w];\n  }\n\n  function getValueAtCurrentTime() {\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\n    var initTime = this.keyframes[0].t - this.offsetTime;\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n    if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n      if (this._caching.lastFrame >= frameNum) {\n        this._caching._lastKeyframeIndex = -1;\n        this._caching.lastIndex = 0;\n      }\n\n      var renderResult = this.interpolateValue(frameNum, this._caching);\n      this.pv = renderResult;\n    }\n\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  function setVValue(val) {\n    var multipliedValue;\n\n    if (this.propType === 'unidimensional') {\n      multipliedValue = val * this.mult;\n\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\n        this.v = multipliedValue;\n        this._mdf = true;\n      }\n    } else {\n      var i = 0;\n      var len = this.v.length;\n\n      while (i < len) {\n        multipliedValue = val[i] * this.mult;\n\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n          this.v[i] = multipliedValue;\n          this._mdf = true;\n        }\n\n        i += 1;\n      }\n    }\n  }\n\n  function processEffectsSequence() {\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n      return;\n    }\n\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = this._isFirstFrame;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = this.kf ? this.pv : this.data.k;\n\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](finalValue);\n    }\n\n    this.setVValue(finalValue);\n    this._isFirstFrame = false;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  }\n\n  function addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n\n  function ValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this.v = mult ? data.k * mult : data.k;\n    this.pv = data.k;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.vel = 0;\n    this.effectsSequence = [];\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function MultiDimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.frameId = -1;\n    var i;\n    var len = data.k.length;\n    this.v = createTypedArray('float32', len);\n    this.pv = createTypedArray('float32', len);\n    this.vel = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.v[i] = data.k[i] * this.mult;\n      this.pv[i] = data.k[i];\n    }\n\n    this._isFirstFrame = true;\n    this.effectsSequence = [];\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.frameId = -1;\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: 0,\n      _lastKeyframeIndex: -1\n    };\n    this.k = true;\n    this.kf = true;\n    this.data = data;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.v = initFrame;\n    this.pv = initFrame;\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    var i;\n    var len = data.k.length;\n    var s;\n    var e;\n    var to;\n    var ti;\n\n    for (i = 0; i < len - 1; i += 1) {\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n        s = data.k[i].s;\n        e = data.k[i + 1].s;\n        to = data.k[i].to;\n        ti = data.k[i].ti;\n\n        if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n          data.k[i].to = null;\n          data.k[i].ti = null;\n        }\n\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n          if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n        }\n      }\n    }\n\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.data = data;\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.k = true;\n    this.kf = true;\n    this._isFirstFrame = true;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.frameId = -1;\n    var arrLen = data.k[0].s.length;\n    this.v = createTypedArray('float32', arrLen);\n    this.pv = createTypedArray('float32', arrLen);\n\n    for (i = 0; i < arrLen; i += 1) {\n      this.v[i] = initFrame;\n      this.pv[i] = initFrame;\n    }\n\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: createTypedArray('float32', arrLen)\n    };\n    this.addEffect = addEffect;\n  }\n\n  var PropertyFactory = function () {\n    function getProp(elem, data, type, mult, container) {\n      if (data.sid) {\n        data = elem.globalData.slotManager.getProp(data);\n      }\n\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n\n      default:\n        arr = [];\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  ShapePath.prototype.length = function () {\n    return this._length;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i;\n      var len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n\n      var i;\n      var len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\n\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2; // }\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function multiply(matrix) {\n      var matrixProps = matrix.props;\n      return this.transform(matrixProps[0], matrixProps[1], matrixProps[2], matrixProps[3], matrixProps[4], matrixProps[5], matrixProps[6], matrixProps[7], matrixProps[8], matrixProps[9], matrixProps[10], matrixProps[11], matrixProps[12], matrixProps[13], matrixProps[14], matrixProps[15]);\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n\n      return matr;\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.multiply = multiply;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n\n      case 'matrix':\n        return Matrix;\n\n      default:\n        return null;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; // lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.12.2';\n\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n\n    return null;\n  }\n\n  var queryString = '';\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\n\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\n\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {//\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return clonedPath;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      this.appliedTransformations = 0;\n      this.pre.reset();\n\n      if (!this.a.effectsSequence.length) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      // var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n\n    while (pos > 0) {\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n\n        cont += 1;\n      }\n\n      this._currentCopies = copies; /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n\n    return hasReloaded;\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return clonedPath;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function floatEqual(a, b) {\n    return Math.abs(a - b) * 100000 <= Math.min(Math.abs(a), Math.abs(b));\n  }\n\n  function floatZero(f) {\n    return Math.abs(f) <= 0.00001;\n  }\n\n  function lerp(p0, p1, amount) {\n    return p0 * (1 - amount) + p1 * amount;\n  }\n\n  function lerpPoint(p0, p1, amount) {\n    return [lerp(p0[0], p1[0], amount), lerp(p0[1], p1[1], amount)];\n  }\n\n  function quadRoots(a, b, c) {\n    // no root\n    if (a === 0) return [];\n    var s = b * b - 4 * a * c; // Complex roots\n\n    if (s < 0) return [];\n    var singleRoot = -b / (2 * a); // 1 root\n\n    if (s === 0) return [singleRoot];\n    var delta = Math.sqrt(s) / (2 * a); // 2 roots\n\n    return [singleRoot - delta, singleRoot + delta];\n  }\n\n  function polynomialCoefficients(p0, p1, p2, p3) {\n    return [-p0 + 3 * p1 - 3 * p2 + p3, 3 * p0 - 6 * p1 + 3 * p2, -3 * p0 + 3 * p1, p0];\n  }\n\n  function singlePoint(p) {\n    return new PolynomialBezier(p, p, p, p, false);\n  }\n\n  function PolynomialBezier(p0, p1, p2, p3, linearize) {\n    if (linearize && pointEqual(p0, p1)) {\n      p1 = lerpPoint(p0, p3, 1 / 3);\n    }\n\n    if (linearize && pointEqual(p2, p3)) {\n      p2 = lerpPoint(p0, p3, 2 / 3);\n    }\n\n    var coeffx = polynomialCoefficients(p0[0], p1[0], p2[0], p3[0]);\n    var coeffy = polynomialCoefficients(p0[1], p1[1], p2[1], p3[1]);\n    this.a = [coeffx[0], coeffy[0]];\n    this.b = [coeffx[1], coeffy[1]];\n    this.c = [coeffx[2], coeffy[2]];\n    this.d = [coeffx[3], coeffy[3]];\n    this.points = [p0, p1, p2, p3];\n  }\n\n  PolynomialBezier.prototype.point = function (t) {\n    return [((this.a[0] * t + this.b[0]) * t + this.c[0]) * t + this.d[0], ((this.a[1] * t + this.b[1]) * t + this.c[1]) * t + this.d[1]];\n  };\n\n  PolynomialBezier.prototype.derivative = function (t) {\n    return [(3 * t * this.a[0] + 2 * this.b[0]) * t + this.c[0], (3 * t * this.a[1] + 2 * this.b[1]) * t + this.c[1]];\n  };\n\n  PolynomialBezier.prototype.tangentAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[1], p[0]);\n  };\n\n  PolynomialBezier.prototype.normalAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[0], p[1]);\n  };\n\n  PolynomialBezier.prototype.inflectionPoints = function () {\n    var denom = this.a[1] * this.b[0] - this.a[0] * this.b[1];\n    if (floatZero(denom)) return [];\n    var tcusp = -0.5 * (this.a[1] * this.c[0] - this.a[0] * this.c[1]) / denom;\n    var square = tcusp * tcusp - 1 / 3 * (this.b[1] * this.c[0] - this.b[0] * this.c[1]) / denom;\n    if (square < 0) return [];\n    var root = Math.sqrt(square);\n\n    if (floatZero(root)) {\n      if (root > 0 && root < 1) return [tcusp];\n      return [];\n    }\n\n    return [tcusp - root, tcusp + root].filter(function (r) {\n      return r > 0 && r < 1;\n    });\n  };\n\n  PolynomialBezier.prototype.split = function (t) {\n    if (t <= 0) return [singlePoint(this.points[0]), this];\n    if (t >= 1) return [this, singlePoint(this.points[this.points.length - 1])];\n    var p10 = lerpPoint(this.points[0], this.points[1], t);\n    var p11 = lerpPoint(this.points[1], this.points[2], t);\n    var p12 = lerpPoint(this.points[2], this.points[3], t);\n    var p20 = lerpPoint(p10, p11, t);\n    var p21 = lerpPoint(p11, p12, t);\n    var p3 = lerpPoint(p20, p21, t);\n    return [new PolynomialBezier(this.points[0], p10, p20, p3, true), new PolynomialBezier(p3, p21, p12, this.points[3], true)];\n  };\n\n  function extrema(bez, comp) {\n    var min = bez.points[0][comp];\n    var max = bez.points[bez.points.length - 1][comp];\n\n    if (min > max) {\n      var e = max;\n      max = min;\n      min = e;\n    } // Derivative roots to find min/max\n\n\n    var f = quadRoots(3 * bez.a[comp], 2 * bez.b[comp], bez.c[comp]);\n\n    for (var i = 0; i < f.length; i += 1) {\n      if (f[i] > 0 && f[i] < 1) {\n        var val = bez.point(f[i])[comp];\n        if (val < min) min = val;else if (val > max) max = val;\n      }\n    }\n\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  PolynomialBezier.prototype.bounds = function () {\n    return {\n      x: extrema(this, 0),\n      y: extrema(this, 1)\n    };\n  };\n\n  PolynomialBezier.prototype.boundingBox = function () {\n    var bounds = this.bounds();\n    return {\n      left: bounds.x.min,\n      right: bounds.x.max,\n      top: bounds.y.min,\n      bottom: bounds.y.max,\n      width: bounds.x.max - bounds.x.min,\n      height: bounds.y.max - bounds.y.min,\n      cx: (bounds.x.max + bounds.x.min) / 2,\n      cy: (bounds.y.max + bounds.y.min) / 2\n    };\n  };\n\n  function intersectData(bez, t1, t2) {\n    var box = bez.boundingBox();\n    return {\n      cx: box.cx,\n      cy: box.cy,\n      width: box.width,\n      height: box.height,\n      bez: bez,\n      t: (t1 + t2) / 2,\n      t1: t1,\n      t2: t2\n    };\n  }\n\n  function splitData(data) {\n    var split = data.bez.split(0.5);\n    return [intersectData(split[0], data.t1, data.t), intersectData(split[1], data.t, data.t2)];\n  }\n\n  function boxIntersect(b1, b2) {\n    return Math.abs(b1.cx - b2.cx) * 2 < b1.width + b2.width && Math.abs(b1.cy - b2.cy) * 2 < b1.height + b2.height;\n  }\n\n  function intersectsImpl(d1, d2, depth, tolerance, intersections, maxRecursion) {\n    if (!boxIntersect(d1, d2)) return;\n\n    if (depth >= maxRecursion || d1.width <= tolerance && d1.height <= tolerance && d2.width <= tolerance && d2.height <= tolerance) {\n      intersections.push([d1.t, d2.t]);\n      return;\n    }\n\n    var d1s = splitData(d1);\n    var d2s = splitData(d2);\n    intersectsImpl(d1s[0], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[0], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n  }\n\n  PolynomialBezier.prototype.intersections = function (other, tolerance, maxRecursion) {\n    if (tolerance === undefined) tolerance = 2;\n    if (maxRecursion === undefined) maxRecursion = 7;\n    var intersections = [];\n    intersectsImpl(intersectData(this, 0, 1), intersectData(other, 0, 1), 0, tolerance, intersections, maxRecursion);\n    return intersections;\n  };\n\n  PolynomialBezier.shapeSegment = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[index], shapePath.o[index], shapePath.i[nextIndex], shapePath.v[nextIndex], true);\n  };\n\n  PolynomialBezier.shapeSegmentInverted = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[nextIndex], shapePath.i[nextIndex], shapePath.o[index], shapePath.v[index], true);\n  };\n\n  function crossProduct(a, b) {\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n  }\n\n  function lineIntersection(start1, end1, start2, end2) {\n    var v1 = [start1[0], start1[1], 1];\n    var v2 = [end1[0], end1[1], 1];\n    var v3 = [start2[0], start2[1], 1];\n    var v4 = [end2[0], end2[1], 1];\n    var r = crossProduct(crossProduct(v1, v2), crossProduct(v3, v4));\n    if (floatZero(r[2])) return null;\n    return [r[0] / r[2], r[1] / r[2]];\n  }\n\n  function polarOffset(p, angle, length) {\n    return [p[0] + Math.cos(angle) * length, p[1] - Math.sin(angle) * length];\n  }\n\n  function pointDistance(p1, p2) {\n    return Math.hypot(p1[0] - p2[0], p1[1] - p2[1]);\n  }\n\n  function pointEqual(p1, p2) {\n    return floatEqual(p1[0], p2[0]) && floatEqual(p1[1], p2[1]);\n  }\n\n  function ZigZagModifier() {}\n\n  extendPrototype([ShapeModifier], ZigZagModifier);\n\n  ZigZagModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amplitude = PropertyFactory.getProp(elem, data.s, 0, null, this);\n    this.frequency = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this.pointsType = PropertyFactory.getProp(elem, data.pt, 0, null, this);\n    this._isAnimated = this.amplitude.effectsSequence.length !== 0 || this.frequency.effectsSequence.length !== 0 || this.pointsType.effectsSequence.length !== 0;\n  };\n\n  function setPoint(outputBezier, point, angle, direction, amplitude, outAmplitude, inAmplitude) {\n    var angO = angle - Math.PI / 2;\n    var angI = angle + Math.PI / 2;\n    var px = point[0] + Math.cos(angle) * direction * amplitude;\n    var py = point[1] - Math.sin(angle) * direction * amplitude;\n    outputBezier.setTripleAt(px, py, px + Math.cos(angO) * outAmplitude, py - Math.sin(angO) * outAmplitude, px + Math.cos(angI) * inAmplitude, py - Math.sin(angI) * inAmplitude, outputBezier.length());\n  }\n\n  function getPerpendicularVector(pt1, pt2) {\n    var vector = [pt2[0] - pt1[0], pt2[1] - pt1[1]];\n    var rot = -Math.PI * 0.5;\n    var rotatedVector = [Math.cos(rot) * vector[0] - Math.sin(rot) * vector[1], Math.sin(rot) * vector[0] + Math.cos(rot) * vector[1]];\n    return rotatedVector;\n  }\n\n  function getProjectingAngle(path, cur) {\n    var prevIndex = cur === 0 ? path.length() - 1 : cur - 1;\n    var nextIndex = (cur + 1) % path.length();\n    var prevPoint = path.v[prevIndex];\n    var nextPoint = path.v[nextIndex];\n    var pVector = getPerpendicularVector(prevPoint, nextPoint);\n    return Math.atan2(0, 1) - Math.atan2(pVector[1], pVector[0]);\n  }\n\n  function zigZagCorner(outputBezier, path, cur, amplitude, frequency, pointType, direction) {\n    var angle = getProjectingAngle(path, cur);\n    var point = path.v[cur % path._length];\n    var prevPoint = path.v[cur === 0 ? path._length - 1 : cur - 1];\n    var nextPoint = path.v[(cur + 1) % path._length];\n    var prevDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - prevPoint[0], 2) + Math.pow(point[1] - prevPoint[1], 2)) : 0;\n    var nextDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2)) : 0;\n    setPoint(outputBezier, path.v[cur % path._length], angle, direction, amplitude, nextDist / ((frequency + 1) * 2), prevDist / ((frequency + 1) * 2), pointType);\n  }\n\n  function zigZagSegment(outputBezier, segment, amplitude, frequency, pointType, direction) {\n    for (var i = 0; i < frequency; i += 1) {\n      var t = (i + 1) / (frequency + 1);\n      var dist = pointType === 2 ? Math.sqrt(Math.pow(segment.points[3][0] - segment.points[0][0], 2) + Math.pow(segment.points[3][1] - segment.points[0][1], 2)) : 0;\n      var angle = segment.normalAngle(t);\n      var point = segment.point(t);\n      setPoint(outputBezier, point, angle, direction, amplitude, dist / ((frequency + 1) * 2), dist / ((frequency + 1) * 2), pointType);\n      direction = -direction;\n    }\n\n    return direction;\n  }\n\n  ZigZagModifier.prototype.processPath = function (path, amplitude, frequency, pointType) {\n    var count = path._length;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n\n    if (!path.c) {\n      count -= 1;\n    }\n\n    if (count === 0) return clonedPath;\n    var direction = -1;\n    var segment = PolynomialBezier.shapeSegment(path, 0);\n    zigZagCorner(clonedPath, path, 0, amplitude, frequency, pointType, direction);\n\n    for (var i = 0; i < count; i += 1) {\n      direction = zigZagSegment(clonedPath, segment, amplitude, frequency, pointType, -direction);\n\n      if (i === count - 1 && !path.c) {\n        segment = null;\n      } else {\n        segment = PolynomialBezier.shapeSegment(path, (i + 1) % count);\n      }\n\n      zigZagCorner(clonedPath, path, i + 1, amplitude, frequency, pointType, direction);\n    }\n\n    return clonedPath;\n  };\n\n  ZigZagModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amplitude = this.amplitude.v;\n    var frequency = Math.max(0, Math.round(this.frequency.v));\n    var pointType = this.pointsType.v;\n\n    if (amplitude !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amplitude, frequency, pointType));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function linearOffset(p1, p2, amount) {\n    var angle = Math.atan2(p2[0] - p1[0], p2[1] - p1[1]);\n    return [polarOffset(p1, angle, amount), polarOffset(p2, angle, amount)];\n  }\n\n  function offsetSegment(segment, amount) {\n    var p0;\n    var p1a;\n    var p1b;\n    var p2b;\n    var p2a;\n    var p3;\n    var e;\n    e = linearOffset(segment.points[0], segment.points[1], amount);\n    p0 = e[0];\n    p1a = e[1];\n    e = linearOffset(segment.points[1], segment.points[2], amount);\n    p1b = e[0];\n    p2b = e[1];\n    e = linearOffset(segment.points[2], segment.points[3], amount);\n    p2a = e[0];\n    p3 = e[1];\n    var p1 = lineIntersection(p0, p1a, p1b, p2b);\n    if (p1 === null) p1 = p1a;\n    var p2 = lineIntersection(p2a, p3, p1b, p2b);\n    if (p2 === null) p2 = p2a;\n    return new PolynomialBezier(p0, p1, p2, p3);\n  }\n\n  function joinLines(outputBezier, seg1, seg2, lineJoin, miterLimit) {\n    var p0 = seg1.points[3];\n    var p1 = seg2.points[0]; // Bevel\n\n    if (lineJoin === 3) return p0; // Connected, they don't need a joint\n\n    if (pointEqual(p0, p1)) return p0; // Round\n\n    if (lineJoin === 2) {\n      var angleOut = -seg1.tangentAngle(1);\n      var angleIn = -seg2.tangentAngle(0) + Math.PI;\n      var center = lineIntersection(p0, polarOffset(p0, angleOut + Math.PI / 2, 100), p1, polarOffset(p1, angleOut + Math.PI / 2, 100));\n      var radius = center ? pointDistance(center, p0) : pointDistance(p0, p1) / 2;\n      var tan = polarOffset(p0, angleOut, 2 * radius * roundCorner);\n      outputBezier.setXYAt(tan[0], tan[1], 'o', outputBezier.length() - 1);\n      tan = polarOffset(p1, angleIn, 2 * radius * roundCorner);\n      outputBezier.setTripleAt(p1[0], p1[1], p1[0], p1[1], tan[0], tan[1], outputBezier.length());\n      return p1;\n    } // Miter\n\n\n    var t0 = pointEqual(p0, seg1.points[2]) ? seg1.points[0] : seg1.points[2];\n    var t1 = pointEqual(p1, seg2.points[1]) ? seg2.points[3] : seg2.points[1];\n    var intersection = lineIntersection(t0, p0, p1, t1);\n\n    if (intersection && pointDistance(intersection, p0) < miterLimit) {\n      outputBezier.setTripleAt(intersection[0], intersection[1], intersection[0], intersection[1], intersection[0], intersection[1], outputBezier.length());\n      return intersection;\n    }\n\n    return p0;\n  }\n\n  function getIntersection(a, b) {\n    var intersect = a.intersections(b);\n    if (intersect.length && floatEqual(intersect[0][0], 1)) intersect.shift();\n    if (intersect.length) return intersect[0];\n    return null;\n  }\n\n  function pruneSegmentIntersection(a, b) {\n    var outa = a.slice();\n    var outb = b.slice();\n    var intersect = getIntersection(a[a.length - 1], b[0]);\n\n    if (intersect) {\n      outa[a.length - 1] = a[a.length - 1].split(intersect[0])[0];\n      outb[0] = b[0].split(intersect[1])[1];\n    }\n\n    if (a.length > 1 && b.length > 1) {\n      intersect = getIntersection(a[0], b[b.length - 1]);\n\n      if (intersect) {\n        return [[a[0].split(intersect[0])[0]], [b[b.length - 1].split(intersect[1])[1]]];\n      }\n    }\n\n    return [outa, outb];\n  }\n\n  function pruneIntersections(segments) {\n    var e;\n\n    for (var i = 1; i < segments.length; i += 1) {\n      e = pruneSegmentIntersection(segments[i - 1], segments[i]);\n      segments[i - 1] = e[0];\n      segments[i] = e[1];\n    }\n\n    if (segments.length > 1) {\n      e = pruneSegmentIntersection(segments[segments.length - 1], segments[0]);\n      segments[segments.length - 1] = e[0];\n      segments[0] = e[1];\n    }\n\n    return segments;\n  }\n\n  function offsetSegmentSplit(segment, amount) {\n    /*\r\n      We split each bezier segment into smaller pieces based\r\n      on inflection points, this ensures the control point\r\n      polygon is convex.\r\n        (A cubic bezier can have none, one, or two inflection points)\r\n    */\n    var flex = segment.inflectionPoints();\n    var left;\n    var right;\n    var split;\n    var mid;\n\n    if (flex.length === 0) {\n      return [offsetSegment(segment, amount)];\n    }\n\n    if (flex.length === 1 || floatEqual(flex[1], 1)) {\n      split = segment.split(flex[0]);\n      left = split[0];\n      right = split[1];\n      return [offsetSegment(left, amount), offsetSegment(right, amount)];\n    }\n\n    split = segment.split(flex[0]);\n    left = split[0];\n    var t = (flex[1] - flex[0]) / (1 - flex[0]);\n    split = split[1].split(t);\n    mid = split[0];\n    right = split[1];\n    return [offsetSegment(left, amount), offsetSegment(mid, amount), offsetSegment(right, amount)];\n  }\n\n  function OffsetPathModifier() {}\n\n  extendPrototype([ShapeModifier], OffsetPathModifier);\n\n  OffsetPathModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this.miterLimit = PropertyFactory.getProp(elem, data.ml, 0, null, this);\n    this.lineJoin = data.lj;\n    this._isAnimated = this.amount.effectsSequence.length !== 0;\n  };\n\n  OffsetPathModifier.prototype.processPath = function (inputBezier, amount, lineJoin, miterLimit) {\n    var outputBezier = shapePool.newElement();\n    outputBezier.c = inputBezier.c;\n    var count = inputBezier.length();\n\n    if (!inputBezier.c) {\n      count -= 1;\n    }\n\n    var i;\n    var j;\n    var segment;\n    var multiSegments = [];\n\n    for (i = 0; i < count; i += 1) {\n      segment = PolynomialBezier.shapeSegment(inputBezier, i);\n      multiSegments.push(offsetSegmentSplit(segment, amount));\n    }\n\n    if (!inputBezier.c) {\n      for (i = count - 1; i >= 0; i -= 1) {\n        segment = PolynomialBezier.shapeSegmentInverted(inputBezier, i);\n        multiSegments.push(offsetSegmentSplit(segment, amount));\n      }\n    }\n\n    multiSegments = pruneIntersections(multiSegments); // Add bezier segments to the output and apply line joints\n\n    var lastPoint = null;\n    var lastSeg = null;\n\n    for (i = 0; i < multiSegments.length; i += 1) {\n      var multiSegment = multiSegments[i];\n      if (lastSeg) lastPoint = joinLines(outputBezier, lastSeg, multiSegment[0], lineJoin, miterLimit);\n      lastSeg = multiSegment[multiSegment.length - 1];\n\n      for (j = 0; j < multiSegment.length; j += 1) {\n        segment = multiSegment[j];\n\n        if (lastPoint && pointEqual(segment.points[0], lastPoint)) {\n          outputBezier.setXYAt(segment.points[1][0], segment.points[1][1], 'o', outputBezier.length() - 1);\n        } else {\n          outputBezier.setTripleAt(segment.points[0][0], segment.points[0][1], segment.points[1][0], segment.points[1][1], segment.points[0][0], segment.points[0][1], outputBezier.length());\n        }\n\n        outputBezier.setTripleAt(segment.points[3][0], segment.points[3][1], segment.points[3][0], segment.points[3][1], segment.points[2][0], segment.points[2][1], outputBezier.length());\n        lastPoint = segment.points[3];\n      }\n    }\n\n    if (multiSegments.length) joinLines(outputBezier, lastSeg, multiSegments[0][0], lineJoin, miterLimit);\n    return outputBezier;\n  };\n\n  OffsetPathModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n    var miterLimit = this.miterLimit.v;\n    var lineJoin = this.lineJoin;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount, lineJoin, miterLimit));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = []; // Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var BLACK_FLAG_CODE_POINT = 127988;\n    var CANCEL_TAG_CODE_POINT = 917631;\n    var A_TAG_CODE_POINT = 917601;\n    var Z_TAG_CODE_POINT = 917626;\n    var VARIATION_SELECTOR_16_CODE_POINT = 65039;\n    var ZERO_WIDTH_JOINER_CODE_POINT = 8205;\n    var REGIONAL_CHARACTER_A_CODE_POINT = 127462;\n    var REGIONAL_CHARACTER_Z_CODE_POINT = 127487;\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\n\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(fontData, def) {\n      var engine = document.body && def ? 'svg' : 'canvas';\n      var helper;\n      var fontProps = getFontProperties(fontData);\n\n      if (engine === 'svg') {\n        var tHelper = createNS('text');\n        tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\n\n        tHelper.setAttribute('font-family', fontData.fFamily);\n        tHelper.setAttribute('font-style', fontProps.style);\n        tHelper.setAttribute('font-weight', fontProps.weight);\n        tHelper.textContent = '1';\n\n        if (fontData.fClass) {\n          tHelper.style.fontFamily = 'inherit';\n          tHelper.setAttribute('class', fontData.fClass);\n        } else {\n          tHelper.style.fontFamily = fontData.fFamily;\n        }\n\n        def.appendChild(tHelper);\n        helper = tHelper;\n      } else {\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\n        helper = tCanvasHelper;\n      }\n\n      function measure(text) {\n        if (engine === 'svg') {\n          helper.textContent = text;\n          return helper.getComputedTextLength();\n        }\n\n        return helper.measureText(text).width;\n      }\n\n      return {\n        measureText: measure\n      };\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      if (!document.body) {\n        this.isLoaded = true;\n        fontData.list.forEach(function (data) {\n          data.helper = createHelper(data);\n          data.cache = {};\n        });\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(fontArr[i], defs);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName); // Using the char instead of char.charCodeAt(0)\n      // to avoid collisions between equal chars\n\n      var index = _char2;\n\n      if (!fontData.cache[index]) {\n        var tHelper = fontData.helper;\n\n        if (_char2 === ' ') {\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\n          var singleSize = tHelper.measureText('||');\n          fontData.cache[index] = (doubleSize - singleSize) / 100;\n        } else {\n          fontData.cache[index] = tHelper.measureText(_char2) / 100;\n        }\n      }\n\n      return fontData.cache[index] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function getCodePoint(string) {\n      var codePoint = 0;\n      var first = string.charCodeAt(0);\n\n      if (first >= 0xD800 && first <= 0xDBFF) {\n        var second = string.charCodeAt(1);\n\n        if (second >= 0xDC00 && second <= 0xDFFF) {\n          codePoint = (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        }\n      }\n\n      return codePoint;\n    } // Skin tone modifiers\n\n\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n\n    function isZeroWidthJoiner(charCode) {\n      return charCode === ZERO_WIDTH_JOINER_CODE_POINT;\n    } // This codepoint may change the appearance of the preceding character.\n    // If that is a symbol, dingbat or emoji, U+FE0F forces it to be rendered\n    // as a colorful image as compared to a monochrome text variant.\n\n\n    function isVariationSelector(charCode) {\n      return charCode === VARIATION_SELECTOR_16_CODE_POINT;\n    } // The regional indicator symbols are a set of 26 alphabetic Unicode\n    /// characters (A–Z) intended to be used to encode ISO 3166-1 alpha-2\n    // two-letter country codes in a way that allows optional special treatment.\n\n\n    function isRegionalCode(string) {\n      var codePoint = getCodePoint(string);\n\n      if (codePoint >= REGIONAL_CHARACTER_A_CODE_POINT && codePoint <= REGIONAL_CHARACTER_Z_CODE_POINT) {\n        return true;\n      }\n\n      return false;\n    } // Some Emoji implementations represent combinations of\n    // two “regional indicator” letters as a single flag symbol.\n\n\n    function isFlagEmoji(string) {\n      return isRegionalCode(string.substr(0, 2)) && isRegionalCode(string.substr(2, 2));\n    }\n\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    } // Regional flags start with a BLACK_FLAG_CODE_POINT\n    // folowed by 5 chars in the TAG range\n    // and end with a CANCEL_TAG_CODE_POINT\n\n\n    function isRegionalFlag(text, index) {\n      var codePoint = getCodePoint(text.substr(index, 2));\n\n      if (codePoint !== BLACK_FLAG_CODE_POINT) {\n        return false;\n      }\n\n      var count = 0;\n      index += 2;\n\n      while (count < 5) {\n        codePoint = getCodePoint(text.substr(index, 2));\n\n        if (codePoint < A_TAG_CODE_POINT || codePoint > Z_TAG_CODE_POINT) {\n          return false;\n        }\n\n        count += 1;\n        index += 2;\n      }\n\n      return getCodePoint(text.substr(index, 2)) === CANCEL_TAG_CODE_POINT;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isFlagEmoji = isFlagEmoji;\n    Font.isRegionalCode = isRegionalCode;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    Font.isRegionalFlag = isRegionalFlag;\n    Font.isVariationSelector = isVariationSelector;\n    Font.BLACK_FLAG_CODE_POINT = BLACK_FLAG_CODE_POINT;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function SlotManager(animationData) {\n    this.animationData = animationData;\n  }\n\n  SlotManager.prototype.getProp = function (data) {\n    if (this.animationData.slots && this.animationData.slots[data.sid]) {\n      return Object.assign(data, this.animationData.slots[data.sid].p);\n    }\n\n    return data;\n  };\n\n  function slotFactory(animationData) {\n    return new SlotManager(animationData);\n  }\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; // layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; // list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0;\n      var len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      var expressionsInterfaces = getExpressionInterfaces();\n\n      if (!expressionsInterfaces) {\n        return;\n      }\n\n      var LayerExpressionInterface = expressionsInterfaces('layer');\n      var EffectsExpressionInterface = expressionsInterfaces('effects');\n      var ShapeExpressionInterface = expressionsInterfaces('shape');\n      var TextExpressionInterface = expressionsInterfaces('text');\n      var CompExpressionInterface = expressionsInterfaces('comp');\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false; // list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n\n  FootageElement.prototype.prepareFrame = function () {};\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  FootageElement.prototype.renderFrame = function () {};\n\n  FootageElement.prototype.destroy = function () {};\n\n  FootageElement.prototype.initExpressions = function () {\n    var expressionsInterfaces = getExpressionInterfaces();\n\n    if (!expressionsInterfaces) {\n      return;\n    }\n\n    var FootageInterface = expressionsInterfaces('footage');\n    this.layerInterface = FootageInterface(this);\n  };\n\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this._volumeMultiplier = 1;\n    this._volume = 1;\n    this._previousVolume = null;\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\n      k: [100]\n    }, 1, 0.01, this);\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n\n    this._volume = this.lv.v[0];\n    var totalVolume = this._volume * this._volumeMultiplier;\n\n    if (this._previousVolume !== totalVolume) {\n      this._previousVolume = totalVolume;\n      this.audio.volume(totalVolume);\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this._volumeMultiplier = volumeValue;\n    this._previousVolume = volumeValue * this._volume;\n    this.audio.volume(this._previousVolume);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n\n      case 15:\n        return this.createFootage(layer);\n\n      default:\n        return this.createNull(layer);\n    }\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.getElementById = function (ind) {\n    var i;\n    var len = this.elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i].data.ind === ind) {\n        return this.elements[i];\n      }\n    }\n\n    return null;\n  };\n\n  BaseRenderer.prototype.getElementByPath = function (path) {\n    var pathValue = path.shift();\n    var element;\n\n    if (typeof pathValue === 'number') {\n      element = this.elements[pathValue];\n    } else {\n      var i;\n      var len = this.elements.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.elements[i].data.nm === pathValue) {\n          element = this.elements[i];\n          break;\n        }\n      }\n    }\n\n    if (path.length === 0) {\n      return element;\n    }\n\n    return element.getElementByPath(path);\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.slotManager = slotFactory(animData);\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  var effectTypes = {\n    TRANSFORM_EFFECT: 'transformEFfect'\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      var mat = new Matrix();\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _localMatMdf: false,\n        _opMdf: false,\n        mat: mat,\n        localMat: mat,\n        localOpacity: 1\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } // TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {// this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            finalMat.multiply(this.hierarchy[i].finalTransform.mProp.v);\n          }\n        }\n      }\n\n      if (this.finalTransform._matMdf) {\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderLocalTransform: function renderLocalTransform() {\n      if (this.localTransforms) {\n        var i = 0;\n        var len = this.localTransforms.length;\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n\n        if (!this.finalTransform._localMatMdf || !this.finalTransform._opMdf) {\n          while (i < len) {\n            if (this.localTransforms[i]._mdf) {\n              this.finalTransform._localMatMdf = true;\n            }\n\n            if (this.localTransforms[i]._opMdf && !this.finalTransform._opMdf) {\n              this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n              this.finalTransform._opMdf = true;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._localMatMdf) {\n          var localMat = this.finalTransform.localMat;\n          this.localTransforms[0].matrix.clone(localMat);\n\n          for (i = 1; i < len; i += 1) {\n            var lmat = this.localTransforms[i].matrix;\n            localMat.multiply(lmat);\n          }\n\n          localMat.multiply(this.finalTransform.mat);\n        }\n\n        if (this.finalTransform._opMdf) {\n          var localOp = this.finalTransform.localOpacity;\n\n          for (i = 0; i < len; i += 1) {\n            localOp *= this.localTransforms[i].opacity * 0.01;\n          }\n\n          this.finalTransform.localOpacity = localOp;\n        }\n      }\n    },\n    searchEffectTransforms: function searchEffectTransforms() {\n      if (this.renderableEffectsManager) {\n        var transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n\n        if (transformEffects.length) {\n          this.localTransforms = [];\n          this.finalTransform.localMat = new Matrix();\n          var i = 0;\n          var len = transformEffects.length;\n\n          for (i = 0; i < len; i += 1) {\n            this.localTransforms.push(transformEffects[i]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i;\n      var len = transforms.length;\n      var ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        } // TODO move this to a factory or to a constructor\n\n\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        } // TODO move this to a factory or to a constructor\n\n\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } // pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true,\n      svgLumaHidden: true,\n      offscreenCanvas: typeof OffscreenCanvas !== 'undefined'\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    if (/firefox/i.test(navigator.userAgent)) {\n      ob.svgLumaHidden = false;\n    }\n\n    return ob;\n  }();\n\n  var registeredEffects$1 = {};\n  var idPrefix = 'filter_result_';\n\n  function SVGEffects(elem) {\n    var i;\n    var source = 'SourceGraphic';\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects$1[type]) {\n        var Effect = registeredEffects$1[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\n        source = idPrefix + count;\n\n        if (registeredEffects$1[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  SVGEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n\n    return effects;\n  };\n\n  function registerEffect$1(id, effect, countsAsEffect) {\n    registeredEffects$1[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\n\n      if (this.data.td) {\n        this.matteMasks = {};\n        var gg = createNS('g');\n        gg.setAttribute('id', this.layerId);\n        gg.appendChild(this.layerElement);\n        layerElementParent = gg;\n        this.globalData.defs.appendChild(gg);\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._localMatMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.localMat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.localOpacity);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n      this.searchEffectTransforms();\n    },\n    getMatte: function getMatte(matteType) {\n      // This should not be a common case. But for backward compatibility, we'll create the matte object.\n      // It solves animations that have two consecutive layers marked as matte masks.\n      // Which is an undefined behavior in AE.\n      if (!this.matteMasks) {\n        this.matteMasks = {};\n      }\n\n      if (!this.matteMasks[matteType]) {\n        var id = this.layerId + '_' + matteType;\n        var filId;\n        var fil;\n        var useElement;\n        var gg;\n\n        if (matteType === 1 || matteType === 3) {\n          var masker = createNS('mask');\n          masker.setAttribute('id', id);\n          masker.setAttribute('mask-type', matteType === 3 ? 'luminance' : 'alpha');\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          masker.appendChild(useElement);\n          this.globalData.defs.appendChild(masker);\n\n          if (!featureSupport.maskType && matteType === 1) {\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(useElement);\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (matteType === 2) {\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', id);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); /// /\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); /// /\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          maskGrouper.appendChild(useElement);\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n\n        this.matteMasks[matteType] = id;\n      }\n\n      return this.matteMasks[matteType];\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderLocalTransform();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n\n    if (this.assetData && this.assetData.sid) {\n      this.assetData = globalData.slotManager.getProp(this.assetData);\n    }\n\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i;\n      var len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0;\n    var len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n\n        case 'no':\n          return renderNoop;\n\n        default:\n          return null;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderNoop() {}\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var iterations;\n      var k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              mat.multiply(itemData.transformers[k].mProps.v);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops;\n      var i;\n      var len;\n      var stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } // gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n\n    if (data.d && data.d.sid) {\n      data.d = elem.globalData.slotManager.getProp(data.d);\n    }\n\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n    var shouldCombineNext = false;\n    var currentChars = '';\n\n    while (i < len) {\n      shouldCombine = shouldCombineNext;\n      shouldCombineNext = false;\n      charCode = text.charCodeAt(i);\n      currentChars = text.charAt(i);\n\n      if (FontManager.isCombinedCharacter(charCode)) {\n        shouldCombine = true; // It's a potential surrogate pair (this is the High surrogate)\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        if (FontManager.isRegionalFlag(text, i)) {\n          currentChars = text.substr(i, 14);\n        } else {\n          secondCharCode = text.charCodeAt(i + 1); // It's a surrogate pair (this is the Low surrogate)\n\n          if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n            if (FontManager.isModifier(charCode, secondCharCode)) {\n              currentChars = text.substr(i, 2);\n              shouldCombine = true;\n            } else if (FontManager.isFlagEmoji(text.substr(i, 4))) {\n              currentChars = text.substr(i, 4);\n            } else {\n              currentChars = text.substr(i, 2);\n            }\n          }\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (FontManager.isVariationSelector(charCode)) {\n          shouldCombine = true;\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        shouldCombine = true;\n        shouldCombineNext = true;\n      }\n\n      if (shouldCombine) {\n        charactersArray[charactersArray.length - 1] += currentChars;\n        shouldCombine = false;\n      } else {\n        charactersArray.push(currentChars);\n      }\n\n      i += currentChars.length;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.setCurrentData(dData);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        } // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n\n\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n\n          var threshold = 0.5 - smoothness * 0.5;\n\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n\n              default:\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true; // Force alignment only works with a single line for now\n\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n\n            default:\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  ITextElement.prototype.validateText = function () {\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  var emptyShapeData = {\n    shapes: []\n  };\n\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\n    // but since text internal content gets only rendered once and then it's never rerendered,\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\n    if (data.shapes && data.shapes.length) {\n      var shape = data.shapes[0];\n\n      if (shape.it) {\n        var shapeItem = shape.it[shape.it.length - 1];\n\n        if (shapeItem.s) {\n          shapeItem.s.k[0] = scale;\n          shapeItem.s.k[1] = scale;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n\n        default:\n          justify = 'start';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement; // t === 1 means the character has been replaced with an animated shaped\n\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n\n            if (charData.data && charData.data.shapes) {\n              data = this.buildShapeData(charData.data, documentData.finalSize);\n            }\n\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n\n          if (this.textSpans[i].glyph) {\n            var glyph = this.textSpans[i].glyph;\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n            glyph.destroy();\n          }\n\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement); // when using animated shapes, the layer will be scaled instead of replacing the internal scale\n          // this might have issues with strokes and might need a different solution\n\n          if (charData.t === 1) {\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n          }\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    this.validateText();\n\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n\n  extendPrototype([BaseRenderer], SVGRendererBase);\n\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    this.svgElement.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n\n    if (this.renderConfig.width) {\n      this.svgElement.setAttribute('width', this.renderConfig.width);\n    }\n\n    if (this.renderConfig.height) {\n      this.svgElement.setAttribute('height', this.renderConfig.height);\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n\n  SVGRendererBase.prototype.findIndexByInd = function (ind) {\n    var i = 0;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ind === ind) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      var elementIndex = 'tp' in this.layers[pos] ? this.findIndexByInd(this.layers[pos].tp) : pos - 1;\n\n      if (elementIndex === -1) {\n        return;\n      }\n\n      if (!this.elements[elementIndex] || this.elements[elementIndex] === true) {\n        this.buildItem(elementIndex);\n        this.addPendingElement(element);\n      } else {\n        var matteElement = elements[elementIndex];\n        var matteMask = matteElement.getMatte(this.layers[pos].tt);\n        element.setMatte(matteMask);\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            var elementIndex = 'tp' in element.data ? this.findIndexByInd(element.data.tp) : i - 1;\n            var matteElement = this.elements[elementIndex];\n            var matteMask = matteElement.getMatte(this.layers[i].tt);\n            element.setMatte(matteMask);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i;\n    var len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } // This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      },\n      width: config && config.width,\n      height: config && config.height,\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([SVGRendererBase], SVGRenderer);\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          sequence.finalTransform.multiply(sequence.transforms[i].transform.mProps.v);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  var lumaLoader = function lumaLoader() {\n    var id = '__lottie_element_luma_buffer';\n    var lumaBuffer = null;\n    var lumaBufferCtx = null;\n    var svg = null; // This alternate solution has a slight delay before the filter is applied, resulting in a flicker on the first frame.\n    // Keeping this here for reference, and in the future, if offscreen canvas supports url filters, this can be used.\n    // For now, neither of them work for offscreen canvas, so canvas workers can't support the luma track matte mask.\n    // Naming it solution 2 to mark the extra comment lines.\n\n    /*\r\n    var svgString = [\r\n      '<svg xmlns=\"http://www.w3.org/2000/svg\">',\r\n      '<filter id=\"' + id + '\">',\r\n      '<feColorMatrix type=\"matrix\" color-interpolation-filters=\"sRGB\" values=\"',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0',\r\n      '\"/>',\r\n      '</filter>',\r\n      '</svg>',\r\n    ].join('');\r\n    var blob = new Blob([svgString], { type: 'image/svg+xml' });\r\n    var url = URL.createObjectURL(blob);\r\n    */\n\n    function createLumaSvgFilter() {\n      var _svg = createNS('svg');\n\n      var fil = createNS('filter');\n      var matrix = createNS('feColorMatrix');\n      fil.setAttribute('id', id);\n      matrix.setAttribute('type', 'matrix');\n      matrix.setAttribute('color-interpolation-filters', 'sRGB');\n      matrix.setAttribute('values', '0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0');\n      fil.appendChild(matrix);\n\n      _svg.appendChild(fil);\n\n      _svg.setAttribute('id', id + '_svg');\n\n      if (featureSupport.svgLumaHidden) {\n        _svg.style.display = 'none';\n      }\n\n      return _svg;\n    }\n\n    function loadLuma() {\n      if (!lumaBuffer) {\n        svg = createLumaSvgFilter();\n        document.body.appendChild(svg);\n        lumaBuffer = createTag('canvas');\n        lumaBufferCtx = lumaBuffer.getContext('2d'); // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n\n        lumaBufferCtx.filter = 'url(#' + id + ')';\n        lumaBufferCtx.fillStyle = 'rgba(0,0,0,0)';\n        lumaBufferCtx.fillRect(0, 0, 1, 1);\n      }\n    }\n\n    function getLuma(canvas) {\n      if (!lumaBuffer) {\n        loadLuma();\n      }\n\n      lumaBuffer.width = canvas.width;\n      lumaBuffer.height = canvas.height; // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n\n      lumaBufferCtx.filter = 'url(#' + id + ')';\n      return lumaBuffer;\n    }\n\n    return {\n      load: loadLuma,\n      get: getLuma\n    };\n  };\n\n  function createCanvas(width, height) {\n    if (featureSupport.offscreenCanvas) {\n      return new OffscreenCanvas(width, height);\n    }\n\n    var canvas = createTag('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n\n  var assetLoader = function () {\n    return {\n      loadLumaCanvas: lumaLoader.load,\n      getLumaCanvas: lumaLoader.get,\n      createCanvas: createCanvas\n    };\n  }();\n\n  var registeredEffects = {};\n\n  function CVEffects(elem) {\n    var i;\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(elem.effectsManager.effectElements[i], elem);\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  CVEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  CVEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n\n    return effects;\n  };\n\n  function registerEffect(id, effect) {\n    registeredEffects[id] = {\n      effect: effect\n    };\n  }\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n\n  var operationsMap = {\n    1: 'source-in',\n    2: 'source-out',\n    3: 'source-in',\n    4: 'source-out'\n  };\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      // If the layer is masked we will use two buffers to store each different states of the drawing\n      // This solution is not ideal for several reason. But unfortunately, because of the recursive\n      // nature of the render tree, it's the only simple way to make sure one inner mask doesn't override an outer mask.\n      // TODO: try to reduce the size of these buffers to the size of the composition contaning the layer\n      // It might be challenging because the layer most likely is transformed in some way\n      if (this.data.tt >= 1) {\n        this.buffers = [];\n        var canvasContext = this.globalData.canvasContext;\n        var bufferCanvas = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas);\n        var bufferCanvas2 = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas2);\n\n        if (this.data.tt >= 3 && !document._isProxy) {\n          assetLoader.loadLumaCanvas();\n        }\n      }\n\n      this.canvasContext = this.globalData.canvasContext;\n      this.transformCanvas = this.globalData.transformCanvas;\n      this.renderableEffectsManager = new CVEffects(this);\n      this.searchEffectTransforms();\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n      this.transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    clearCanvas: function clearCanvas(canvasContext) {\n      canvasContext.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w * this.transformCanvas.sx, this.transformCanvas.h * this.transformCanvas.sy);\n    },\n    prepareLayer: function prepareLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[0];\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx); // on the first buffer we store the current state of the global drawing\n\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // The next four lines are to clear the canvas\n        // TODO: Check if there is a way to clear the canvas without resetting the transform\n\n        this.currentTransform = this.canvasContext.getTransform();\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform);\n      }\n    },\n    exitLayer: function exitLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[1]; // On the second buffer we store the current state of the global drawing\n        // that only contains the content of this layer\n        // (if it is a composition, it also includes the nested layers)\n\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx);\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // We clear the canvas again\n\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform); // We draw the mask\n\n        var mask = this.comp.getElementById('tp' in this.data ? this.data.tp : this.data.ind - 1);\n        mask.renderFrame(true); // We draw the second buffer (that contains the content of this layer)\n\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0); // If the mask is a Luma matte, we need to do two extra painting operations\n        // the _isProxy check is to avoid drawing a fake canvas in workers that will throw an error\n\n        if (this.data.tt >= 3 && !document._isProxy) {\n          // We copy the painted mask to a buffer that has a color matrix filter applied to it\n          // that applies the rgb values to the alpha channel\n          var lumaBuffer = assetLoader.getLumaCanvas(this.canvasContext.canvas);\n          var lumaBufferCtx = lumaBuffer.getContext('2d');\n          lumaBufferCtx.drawImage(this.canvasContext.canvas, 0, 0);\n          this.clearCanvas(this.canvasContext); // we repaint the context with the mask applied to it\n\n          this.canvasContext.drawImage(lumaBuffer, 0, 0);\n        }\n\n        this.canvasContext.globalCompositeOperation = operationsMap[this.data.tt];\n        this.canvasContext.drawImage(buffer, 0, 0); // We finally draw the first buffer (that contains the content of the global drawing)\n        // We use destination-over to draw the global drawing below the current layer\n\n        this.canvasContext.globalCompositeOperation = 'destination-over';\n        this.canvasContext.drawImage(this.buffers[0], 0, 0);\n        this.canvasContext.setTransform(this.currentTransform); // We reset the globalCompositeOperation to source-over, the standard type of operation\n\n        this.canvasContext.globalCompositeOperation = 'source-over';\n      }\n    },\n    renderFrame: function renderFrame(forceRender) {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      if (this.data.td === 1 && !forceRender) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderLocalTransform();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.prepareLayer();\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n      this.exitLayer();\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n\n        if (type === 'st' || type === 'gs') {\n          renderer.ctxStrokeStyle(type === 'st' ? currentStyle.co : currentStyle.grd); // ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n\n          renderer.ctxLineWidth(currentStyle.wi); // ctx.lineWidth = currentStyle.wi;\n\n          renderer.ctxLineCap(currentStyle.lc); // ctx.lineCap = currentStyle.lc;\n\n          renderer.ctxLineJoin(currentStyle.lj); // ctx.lineJoin = currentStyle.lj;\n\n          renderer.ctxMiterLimit(currentStyle.ml || 0); // ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          renderer.ctxFillStyle(type === 'fl' ? currentStyle.co : currentStyle.grd); // ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n\n        renderer.ctxOpacity(currentStyle.coOp);\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n\n          if (type === 'st' || type === 'gs') {\n            // ctx.stroke();\n            renderer.ctxStroke();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n\n        if (type !== 'st' && type !== 'gs') {\n          // ctx.fill(currentStyle.r);\n          this.globalData.renderer.ctxFill(currentStyle.r);\n        }\n\n        renderer.restore();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\n\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    this.globalData.renderer.ctxLineCap('butt'); // ctx.lineCap = 'butt';\n\n    this.globalData.renderer.ctxLineJoin('miter'); // ctx.lineJoin = 'miter';\n\n    this.globalData.renderer.ctxMiterLimit(4); // ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n    var renderer = this.globalData.renderer;\n\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n\n        if (renderedLetter) {\n          renderer.save();\n          renderer.ctxTransform(renderedLetter.p);\n          renderer.ctxOpacity(renderedLetter.o);\n        }\n\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              renderer.ctxFillStyle(renderedLetter.fc);\n              lastFill = renderedLetter.fc; // ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            renderer.ctxFillStyle(this.values.fill); // ctx.fillStyle = this.values.fill;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          renderer.ctxFill(); // this.globalData.canvasContext.fill();\n          /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              renderer.ctxLineWidth(renderedLetter.sw); // ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            renderer.ctxLineWidth(this.values.sWidth); // ctx.lineWidth = this.values.sWidth;\n          }\n\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              renderer.ctxStrokeStyle(renderedLetter.sc); // ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            renderer.ctxStrokeStyle(this.values.stroke); // ctx.strokeStyle = this.values.stroke;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          renderer.ctxStroke(); // this.globalData.canvasContext.stroke();\n          /// ctx.strokeText(letters[i].val,0,0);\n        }\n\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    // var ctx = this.canvasContext;\n    this.globalData.renderer.ctxFillStyle(this.data.sc); // ctx.fillStyle = this.data.sc;\n\n    this.globalData.renderer.ctxFillRect(0, 0, this.data.sw, this.data.sh); // ctx.fillRect(0, 0, this.data.sw, this.data.sh);\n    //\n  };\n\n  function CanvasRendererBase() {}\n\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n  };\n\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n  };\n\n  CanvasRendererBase.prototype.ctxFillStyle = function (value) {\n    this.canvasContext.fillStyle = value;\n  };\n\n  CanvasRendererBase.prototype.ctxStrokeStyle = function (value) {\n    this.canvasContext.strokeStyle = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineWidth = function (value) {\n    this.canvasContext.lineWidth = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineCap = function (value) {\n    this.canvasContext.lineCap = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineJoin = function (value) {\n    this.canvasContext.lineJoin = value;\n  };\n\n  CanvasRendererBase.prototype.ctxMiterLimit = function (value) {\n    this.canvasContext.miterLimit = value;\n  };\n\n  CanvasRendererBase.prototype.ctxFill = function (rule) {\n    this.canvasContext.fill(rule);\n  };\n\n  CanvasRendererBase.prototype.ctxFillRect = function (x, y, w, h) {\n    this.canvasContext.fillRect(x, y, w, h);\n  };\n\n  CanvasRendererBase.prototype.ctxStroke = function () {\n    this.canvasContext.stroke();\n  };\n\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRendererBase.prototype.save = function () {\n    this.canvasContext.save();\n  };\n\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.restore(actionFlag);\n  };\n\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.contextData.setContext(this.canvasContext);\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRendererBase.prototype.updateContainerSize = function (width, height) {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n\n    if (width) {\n      elementWidth = width;\n      elementHeight = height;\n      this.canvasContext.canvas.width = elementWidth;\n      this.canvasContext.canvas.height = elementHeight;\n    } else {\n      if (this.animationItem.wrapper && this.animationItem.container) {\n        elementWidth = this.animationItem.wrapper.offsetWidth;\n        elementHeight = this.animationItem.wrapper.offsetHeight;\n      } else {\n        elementWidth = this.canvasContext.canvas.width;\n        elementHeight = this.canvasContext.canvas.height;\n      }\n\n      this.canvasContext.canvas.width = elementWidth * this.renderConfig.dpr;\n      this.canvasContext.canvas.height = elementHeight * this.renderConfig.dpr;\n    }\n\n    var elementRel;\n    var animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\n  };\n\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CanvasContext() {\n    this.opacity = -1;\n    this.transform = createTypedArray('float32', 16);\n    this.fillStyle = '';\n    this.strokeStyle = '';\n    this.lineWidth = '';\n    this.lineCap = '';\n    this.lineJoin = '';\n    this.miterLimit = '';\n    this.id = Math.random();\n  }\n\n  function CVContextData() {\n    this.stack = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    var i;\n    var len = 15;\n\n    for (i = 0; i < len; i += 1) {\n      var canvasContext = new CanvasContext();\n      this.stack[i] = canvasContext;\n    }\n\n    this._length = len;\n    this.nativeContext = null;\n    this.transformMat = new Matrix();\n    this.currentOpacity = 1; //\n\n    this.currentFillStyle = '';\n    this.appliedFillStyle = ''; //\n\n    this.currentStrokeStyle = '';\n    this.appliedStrokeStyle = ''; //\n\n    this.currentLineWidth = '';\n    this.appliedLineWidth = ''; //\n\n    this.currentLineCap = '';\n    this.appliedLineCap = ''; //\n\n    this.currentLineJoin = '';\n    this.appliedLineJoin = ''; //\n\n    this.appliedMiterLimit = '';\n    this.currentMiterLimit = '';\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.stack[i] = new CanvasContext();\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.stack[this.cArrPos].opacity = 1;\n  };\n\n  CVContextData.prototype.restore = function (forceRestore) {\n    this.cArrPos -= 1;\n    var currentContext = this.stack[this.cArrPos];\n    var transform = currentContext.transform;\n    var i;\n    var arr = this.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = transform[i];\n    }\n\n    if (forceRestore) {\n      this.nativeContext.restore();\n      var prevStack = this.stack[this.cArrPos + 1];\n      this.appliedFillStyle = prevStack.fillStyle;\n      this.appliedStrokeStyle = prevStack.strokeStyle;\n      this.appliedLineWidth = prevStack.lineWidth;\n      this.appliedLineCap = prevStack.lineCap;\n      this.appliedLineJoin = prevStack.lineJoin;\n      this.appliedMiterLimit = prevStack.miterLimit;\n    }\n\n    this.nativeContext.setTransform(transform[0], transform[1], transform[4], transform[5], transform[12], transform[13]);\n\n    if (forceRestore || currentContext.opacity !== -1 && this.currentOpacity !== currentContext.opacity) {\n      this.nativeContext.globalAlpha = currentContext.opacity;\n      this.currentOpacity = currentContext.opacity;\n    }\n\n    this.currentFillStyle = currentContext.fillStyle;\n    this.currentStrokeStyle = currentContext.strokeStyle;\n    this.currentLineWidth = currentContext.lineWidth;\n    this.currentLineCap = currentContext.lineCap;\n    this.currentLineJoin = currentContext.lineJoin;\n    this.currentMiterLimit = currentContext.miterLimit;\n  };\n\n  CVContextData.prototype.save = function (saveOnNativeFlag) {\n    if (saveOnNativeFlag) {\n      this.nativeContext.save();\n    }\n\n    var props = this.cTr.props;\n\n    if (this._length <= this.cArrPos) {\n      this.duplicate();\n    }\n\n    var currentStack = this.stack[this.cArrPos];\n    var i;\n\n    for (i = 0; i < 16; i += 1) {\n      currentStack.transform[i] = props[i];\n    }\n\n    this.cArrPos += 1;\n    var newStack = this.stack[this.cArrPos];\n    newStack.opacity = currentStack.opacity;\n    newStack.fillStyle = currentStack.fillStyle;\n    newStack.strokeStyle = currentStack.strokeStyle;\n    newStack.lineWidth = currentStack.lineWidth;\n    newStack.lineCap = currentStack.lineCap;\n    newStack.lineJoin = currentStack.lineJoin;\n    newStack.miterLimit = currentStack.miterLimit;\n  };\n\n  CVContextData.prototype.setOpacity = function (value) {\n    this.stack[this.cArrPos].opacity = value;\n  };\n\n  CVContextData.prototype.setContext = function (value) {\n    this.nativeContext = value;\n  };\n\n  CVContextData.prototype.fillStyle = function (value) {\n    if (this.stack[this.cArrPos].fillStyle !== value) {\n      this.currentFillStyle = value;\n      this.stack[this.cArrPos].fillStyle = value;\n    }\n  };\n\n  CVContextData.prototype.strokeStyle = function (value) {\n    if (this.stack[this.cArrPos].strokeStyle !== value) {\n      this.currentStrokeStyle = value;\n      this.stack[this.cArrPos].strokeStyle = value;\n    }\n  };\n\n  CVContextData.prototype.lineWidth = function (value) {\n    if (this.stack[this.cArrPos].lineWidth !== value) {\n      this.currentLineWidth = value;\n      this.stack[this.cArrPos].lineWidth = value;\n    }\n  };\n\n  CVContextData.prototype.lineCap = function (value) {\n    if (this.stack[this.cArrPos].lineCap !== value) {\n      this.currentLineCap = value;\n      this.stack[this.cArrPos].lineCap = value;\n    }\n  };\n\n  CVContextData.prototype.lineJoin = function (value) {\n    if (this.stack[this.cArrPos].lineJoin !== value) {\n      this.currentLineJoin = value;\n      this.stack[this.cArrPos].lineJoin = value;\n    }\n  };\n\n  CVContextData.prototype.miterLimit = function (value) {\n    if (this.stack[this.cArrPos].miterLimit !== value) {\n      this.currentMiterLimit = value;\n      this.stack[this.cArrPos].miterLimit = value;\n    }\n  };\n\n  CVContextData.prototype.transform = function (props) {\n    this.transformMat.cloneFromProps(props); // Taking the last transform value from the stored stack of transforms\n\n    var currentTransform = this.cTr; // Applying the last transform value after the new transform to respect the order of transformations\n\n    this.transformMat.multiply(currentTransform); // Storing the new transformed value in the stored transform\n\n    currentTransform.cloneFromProps(this.transformMat.props);\n    var trProps = currentTransform.props; // Applying the new transform to the canvas\n\n    this.nativeContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CVContextData.prototype.opacity = function (op) {\n    var currentOpacity = this.stack[this.cArrPos].opacity;\n    currentOpacity *= op < 0 ? 0 : op;\n\n    if (this.stack[this.cArrPos].opacity !== currentOpacity) {\n      if (this.currentOpacity !== op) {\n        this.nativeContext.globalAlpha = op;\n        this.currentOpacity = op;\n      }\n\n      this.stack[this.cArrPos].opacity = currentOpacity;\n    }\n  };\n\n  CVContextData.prototype.fill = function (rule) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n\n    this.nativeContext.fill(rule);\n  };\n\n  CVContextData.prototype.fillRect = function (x, y, w, h) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n\n    this.nativeContext.fillRect(x, y, w, h);\n  };\n\n  CVContextData.prototype.stroke = function () {\n    if (this.appliedStrokeStyle !== this.currentStrokeStyle) {\n      this.appliedStrokeStyle = this.currentStrokeStyle;\n      this.nativeContext.strokeStyle = this.appliedStrokeStyle;\n    }\n\n    if (this.appliedLineWidth !== this.currentLineWidth) {\n      this.appliedLineWidth = this.currentLineWidth;\n      this.nativeContext.lineWidth = this.appliedLineWidth;\n    }\n\n    if (this.appliedLineCap !== this.currentLineCap) {\n      this.appliedLineCap = this.currentLineCap;\n      this.nativeContext.lineCap = this.appliedLineCap;\n    }\n\n    if (this.appliedLineJoin !== this.currentLineJoin) {\n      this.appliedLineJoin = this.currentLineJoin;\n      this.nativeContext.lineJoin = this.appliedLineJoin;\n    }\n\n    if (this.appliedMiterLimit !== this.currentMiterLimit) {\n      this.appliedMiterLimit = this.currentMiterLimit;\n      this.nativeContext.miterLimit = this.appliedMiterLimit;\n    }\n\n    this.nativeContext.stroke();\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || '',\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n\n    if (this.renderConfig.clearCanvas) {\n      this.ctxTransform = this.contextData.transform.bind(this.contextData);\n      this.ctxOpacity = this.contextData.opacity.bind(this.contextData);\n      this.ctxFillStyle = this.contextData.fillStyle.bind(this.contextData);\n      this.ctxStrokeStyle = this.contextData.strokeStyle.bind(this.contextData);\n      this.ctxLineWidth = this.contextData.lineWidth.bind(this.contextData);\n      this.ctxLineCap = this.contextData.lineCap.bind(this.contextData);\n      this.ctxLineJoin = this.contextData.lineJoin.bind(this.contextData);\n      this.ctxMiterLimit = this.contextData.miterLimit.bind(this.contextData);\n      this.ctxFill = this.contextData.fill.bind(this.contextData);\n      this.ctxFillRect = this.contextData.fillRect.bind(this.contextData);\n      this.ctxStroke = this.contextData.stroke.bind(this.contextData);\n      this.save = this.contextData.save.bind(this.contextData);\n    }\n  }\n\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n\n      a |= 0; // eslint-disable-line no-bitwise\n\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {//\n      } else if (a === 0) {\n        t = -c / b;\n\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      } else if (itemsData[i] && itemsData[i].style && itemsData[i].w) {\n        this.expandStrokeBoundingBox(itemsData[i].w, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.expandStrokeBoundingBox = function (widthProperty, boundingBox) {\n    var width = 0;\n\n    if (widthProperty.keyframes) {\n      for (var i = 0; i < widthProperty.keyframes.length; i += 1) {\n        var kfw = widthProperty.keyframes[i].s;\n\n        if (kfw > width) {\n          width = kfw;\n        }\n      }\n\n      width *= widthProperty.mult;\n    } else {\n      width = widthProperty.v * widthProperty.mult;\n    }\n\n    boundingBox.x -= width;\n    boundingBox.xMax += width;\n    boundingBox.y -= width;\n    boundingBox.yMax += width;\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      } // tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var svgStyle;\n\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n        textSpan.style.opacity = renderedLetter.o;\n\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; // Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      },\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([HybridRendererBase], HybridRenderer);\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; // return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n\n  /* eslint-disable */\n\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = _typeof$2(obj),\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  }\n\n  ;\n\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    var _lottieGlobal = {};\n    initialize$2(BMMath);\n\n    function resetFrame() {\n      _lottieGlobal = {};\n    }\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || v instanceof Number || tOfV === 'boolean' || tOfV === 'string';\n    }\n\n    function $bm_neg(a) {\n      var tOfA = _typeof$1(a);\n\n      if (tOfA === 'number' || a instanceof Number || tOfA === 'boolean') {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n\n      return -a;\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b) || tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n\n      if (max === min) {\n        h = 0; // achromatic\n\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n\n          default:\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n\n      if (s === 0) {\n        r = l; // achromatic\n\n        b = l; // achromatic\n\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      }\n\n      if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i;\n        var len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      // Bail out if we don't want expressions\n      function noOp(_value) {\n        return _value;\n      }\n\n      if (!elem.globalData.renderConfig.runExpressions) {\n        return noOp;\n      }\n\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          iWiggle += 1;\n        } // var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        }\n\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n\n          return arr;\n        }\n\n        return (val2 - val1) * mult + val1;\n      }\n\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n\n        return obKey;\n      }\n\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return fr / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      } // Bundlers will see these as dead code and unless we reference them\n\n\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath, _lottieGlobal];\n    ob.resetFrame = resetFrame;\n    return ob;\n  }();\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n    ob.resetFrame = ExpressionManager.resetFrame;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i;\n      var len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n\n        var value = '';\n\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n\n        return expressionValue;\n      };\n    } // TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      var _px;\n\n      var _py;\n\n      var _pz;\n\n      var _transformFactory;\n\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      return toWorldMat;\n    }\n\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n\n          default:\n            return null;\n        }\n      }\n\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return propertyGroup(val - 1);\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n\n          return null;\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n\n      return null;\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n\n            return effectElements[i]();\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n\n        return null;\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); // interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          }\n\n          return interfaces[value - 1];\n        }\n\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (!_sourceText || stringValue !== _sourceText.value) {\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n\n            Object.defineProperty(_sourceText, 'style', {\n              get: function get() {\n                return {\n                  fillColor: elem.textProperty.currentData.fc\n                };\n              }\n            });\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        return '';\n      }\n\n      return init;\n    };\n\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n\n        return null;\n      }\n\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n\n        return null;\n      }\n\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  var interfaces = {\n    layer: LayerExpressionInterface,\n    effects: EffectsExpressionInterface,\n    comp: CompExpressionInterface,\n    shape: ShapeExpressionInterface,\n    text: TextExpressionInterface,\n    footage: FootageInterface\n  };\n\n  function getInterface(type) {\n    return interfaces[type] || null;\n  }\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; // frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var firstKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n\n          return ret;\n        }\n\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n\n          return ret;\n        }\n\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var lastKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n\n          return ret;\n        }\n\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n\n          return ret;\n        }\n\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } /// /\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n\n      return matrix; /// /\n    }\n\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  }\n\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n\n      return null;\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n\n  function initialize() {\n    addDecorator();\n  }\n\n  function SVGComposableEffect() {}\n\n  SVGComposableEffect.prototype = {\n    createMergeNode: function createMergeNode(resultId, ins) {\n      var feMerge = createNS('feMerge');\n      feMerge.setAttribute('result', resultId);\n      var feMergeNode;\n      var i;\n\n      for (i = 0; i < ins.length; i += 1) {\n        feMergeNode = createNS('feMergeNode');\n        feMergeNode.setAttribute('in', ins[i]);\n        feMerge.appendChild(feMergeNode);\n        feMerge.appendChild(feMergeNode);\n      }\n\n      return feMerge;\n    }\n  };\n\n  var linearFilterValue = '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0';\n\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', linearFilterValue + ' 1 0');\n    this.linearFilter = feColorMatrix;\n    feColorMatrix.setAttribute('result', id + '_tint_1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\n    filter.appendChild(feMerge);\n  }\n\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.linearFilter.setAttribute('values', linearFilterValue + ' ' + opacity + ' 0');\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 1 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id);\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(fil, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    feComponentTransfer.setAttribute('result', id);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n    filter.appendChild(feComponentTransfer);\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB);\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer'); // Red\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    } // Green\n\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    } // Blue\n\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    } // Alpha\n\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    } // RGB\n\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer = createNS('feComponentTransfer');\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      feComponentTransfer.setAttribute('result', id);\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\n    var globalFilterSize = filterManager.container.globalData.renderConfig.filterSize;\n    var filterSize = filterManager.data.fs || globalFilterSize;\n    filter.setAttribute('x', filterSize.x || globalFilterSize.x);\n    filter.setAttribute('y', filterSize.y || globalFilterSize.y);\n    filter.setAttribute('width', filterSize.width || globalFilterSize.width);\n    filter.setAttribute('height', filterSize.height || globalFilterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\n    filter.appendChild(feMerge); //\n  }\n\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('result', id);\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  function TransformEffect() {}\n\n  TransformEffect.prototype.init = function (effectsManager) {\n    this.effectsManager = effectsManager;\n    this.type = effectTypes.TRANSFORM_EFFECT;\n    this.matrix = new Matrix();\n    this.opacity = -1;\n    this._mdf = false;\n    this._opMdf = false;\n  };\n\n  TransformEffect.prototype.renderFrame = function (forceFrame) {\n    this._opMdf = false;\n    this._mdf = false;\n\n    if (forceFrame || this.effectsManager._mdf) {\n      var effectElements = this.effectsManager.effectElements;\n      var anchor = effectElements[0].p.v;\n      var position = effectElements[1].p.v;\n      var isUniformScale = effectElements[2].p.v === 1;\n      var scaleHeight = effectElements[3].p.v;\n      var scaleWidth = isUniformScale ? scaleHeight : effectElements[4].p.v;\n      var skew = effectElements[5].p.v;\n      var skewAxis = effectElements[6].p.v;\n      var rotation = effectElements[7].p.v;\n      this.matrix.reset();\n      this.matrix.translate(-anchor[0], -anchor[1], anchor[2]);\n      this.matrix.scale(scaleWidth * 0.01, scaleHeight * 0.01, 1);\n      this.matrix.rotate(-rotation * degToRads);\n      this.matrix.skewFromAxis(-skew * degToRads, (skewAxis + 90) * degToRads);\n      this.matrix.translate(position[0], position[1], 0);\n      this._mdf = true;\n\n      if (this.opacity !== effectElements[8].p.v) {\n        this.opacity = effectElements[8].p.v;\n        this._opMdf = true;\n      }\n    }\n  };\n\n  function SVGTransformEffect(_, filterManager) {\n    this.init(filterManager);\n  }\n\n  extendPrototype([TransformEffect], SVGTransformEffect);\n\n  function CVTransformEffect(effectsManager) {\n    this.init(effectsManager);\n  }\n\n  extendPrototype([TransformEffect], CVTransformEffect);\n\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier);\n  ShapeModifiers.registerModifier('zz', ZigZagModifier);\n  ShapeModifiers.registerModifier('op', OffsetPathModifier); // Registering expression plugin\n\n  setExpressionsPlugin(Expressions);\n  setExpressionInterfaces(getInterface);\n  initialize$1();\n  initialize(); // Registering svg effects\n\n  registerEffect$1(20, SVGTintFilter, true);\n  registerEffect$1(21, SVGFillFilter, true);\n  registerEffect$1(22, SVGStrokeEffect, false);\n  registerEffect$1(23, SVGTritoneFilter, true);\n  registerEffect$1(24, SVGProLevelsFilter, true);\n  registerEffect$1(25, SVGDropShadowEffect, true);\n  registerEffect$1(28, SVGMatte3Effect, false);\n  registerEffect$1(29, SVGGaussianBlurEffect, true);\n  registerEffect$1(35, SVGTransformEffect, false);\n  registerEffect(35, CVTransformEffect);\n\n  return lottie;\n\n}));\n", "export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n", "export default function(x) {\n  return x;\n}\n", "import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n", "import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n", "import transform from \"./transform.js\";\n\nexport default function(topology) {\n  var t = transform(topology.transform), key,\n      x0 = Infinity, y0 = x0, x1 = -x0, y1 = -x0;\n\n  function bboxPoint(p) {\n    p = t(p);\n    if (p[0] < x0) x0 = p[0];\n    if (p[0] > x1) x1 = p[0];\n    if (p[1] < y0) y0 = p[1];\n    if (p[1] > y1) y1 = p[1];\n  }\n\n  function bboxGeometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(bboxGeometry); break;\n      case \"Point\": bboxPoint(o.coordinates); break;\n      case \"MultiPoint\": o.coordinates.forEach(bboxPoint); break;\n    }\n  }\n\n  topology.arcs.forEach(function(arc) {\n    var i = -1, n = arc.length, p;\n    while (++i < n) {\n      p = t(arc[i], i);\n      if (p[0] < x0) x0 = p[0];\n      if (p[0] > x1) x1 = p[0];\n      if (p[1] < y0) y0 = p[1];\n      if (p[1] > y1) y1 = p[1];\n    }\n  });\n\n  for (key in topology.objects) {\n    bboxGeometry(topology.objects[key]);\n  }\n\n  return [x0, y0, x1, y1];\n}\n", "export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n", "import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n", "import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nfunction planarRingArea(ring) {\n  var i = -1, n = ring.length, a, b = ring[n - 1], area = 0;\n  while (++i < n) a = b, b = ring[i], area += a[0] * b[1] - a[1] * b[0];\n  return Math.abs(area); // Note: doubled area!\n}\n\nexport default function(topology) {\n  return object(topology, mergeArcs.apply(this, arguments));\n}\n\nexport function mergeArcs(topology, objects) {\n  var polygonsByArc = {},\n      polygons = [],\n      groups = [];\n\n  objects.forEach(geometry);\n\n  function geometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"Polygon\": extract(o.arcs); break;\n      case \"MultiPolygon\": o.arcs.forEach(extract); break;\n    }\n  }\n\n  function extract(polygon) {\n    polygon.forEach(function(ring) {\n      ring.forEach(function(arc) {\n        (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n      });\n    });\n    polygons.push(polygon);\n  }\n\n  function area(ring) {\n    return planarRingArea(object(topology, {type: \"Polygon\", arcs: [ring]}).coordinates[0]);\n  }\n\n  polygons.forEach(function(polygon) {\n    if (!polygon._) {\n      var group = [],\n          neighbors = [polygon];\n      polygon._ = 1;\n      groups.push(group);\n      while (polygon = neighbors.pop()) {\n        group.push(polygon);\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            polygonsByArc[arc < 0 ? ~arc : arc].forEach(function(polygon) {\n              if (!polygon._) {\n                polygon._ = 1;\n                neighbors.push(polygon);\n              }\n            });\n          });\n        });\n      }\n    }\n  });\n\n  polygons.forEach(function(polygon) {\n    delete polygon._;\n  });\n\n  return {\n    type: \"MultiPolygon\",\n    arcs: groups.map(function(polygons) {\n      var arcs = [], n;\n\n      // Extract the exterior (unique) arcs.\n      polygons.forEach(function(polygon) {\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n              arcs.push(arc);\n            }\n          });\n        });\n      });\n\n      // Stitch the arcs into one or more rings.\n      arcs = stitch(topology, arcs);\n\n      // If more than one ring is returned,\n      // at most one of these rings can be the exterior;\n      // choose the one with the greatest absolute area.\n      if ((n = arcs.length) > 1) {\n        for (var i = 1, k = area(arcs[0]), ki, t; i < n; ++i) {\n          if ((ki = area(arcs[i])) > k) {\n            t = arcs[0], arcs[0] = arcs[i], arcs[i] = t, k = ki;\n          }\n        }\n      }\n\n      return arcs;\n    }).filter(function(arcs) {\n      return arcs.length > 0;\n    })\n  };\n}\n", "export default function(a, x) {\n  var lo = 0, hi = a.length;\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;\n    else hi = mid;\n  }\n  return lo;\n}\n", "import bisect from \"./bisect.js\";\n\nexport default function(objects) {\n  var indexesByArc = {}, // arc index -> array of object indexes\n      neighbors = objects.map(function() { return []; });\n\n  function line(arcs, i) {\n    arcs.forEach(function(a) {\n      if (a < 0) a = ~a;\n      var o = indexesByArc[a];\n      if (o) o.push(i);\n      else indexesByArc[a] = [i];\n    });\n  }\n\n  function polygon(arcs, i) {\n    arcs.forEach(function(arc) { line(arc, i); });\n  }\n\n  function geometry(o, i) {\n    if (o.type === \"GeometryCollection\") o.geometries.forEach(function(o) { geometry(o, i); });\n    else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n  }\n\n  var geometryType = {\n    LineString: line,\n    MultiLineString: polygon,\n    Polygon: polygon,\n    MultiPolygon: function(arcs, i) { arcs.forEach(function(arc) { polygon(arc, i); }); }\n  };\n\n  objects.forEach(geometry);\n\n  for (var i in indexesByArc) {\n    for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n      for (var k = j + 1; k < m; ++k) {\n        var ij = indexes[j], ik = indexes[k], n;\n        if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n        if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n      }\n    }\n  }\n\n  return neighbors;\n}\n", "import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n),\n        x1 = Math.round((input[0] - dx) / kx),\n        y1 = Math.round((input[1] - dy) / ky);\n    output[0] = x1 - x0, x0 = x1;\n    output[1] = y1 - y0, y0 = y1;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n", "import bbox from \"./bbox.js\";\nimport untransform from \"./untransform.js\";\n\nexport default function(topology, transform) {\n  if (topology.transform) throw new Error(\"already quantized\");\n\n  if (!transform || !transform.scale) {\n    if (!((n = Math.floor(transform)) >= 2)) throw new Error(\"n must be ≥2\");\n    box = topology.bbox || bbox(topology);\n    var x0 = box[0], y0 = box[1], x1 = box[2], y1 = box[3], n;\n    transform = {scale: [x1 - x0 ? (x1 - x0) / (n - 1) : 1, y1 - y0 ? (y1 - y0) / (n - 1) : 1], translate: [x0, y0]};\n  } else {\n    box = topology.bbox;\n  }\n\n  var t = untransform(transform), box, key, inputs = topology.objects, outputs = {};\n\n  function quantizePoint(point) {\n    return t(point);\n  }\n\n  function quantizeGeometry(input) {\n    var output;\n    switch (input.type) {\n      case \"GeometryCollection\": output = {type: \"GeometryCollection\", geometries: input.geometries.map(quantizeGeometry)}; break;\n      case \"Point\": output = {type: \"Point\", coordinates: quantizePoint(input.coordinates)}; break;\n      case \"MultiPoint\": output = {type: \"MultiPoint\", coordinates: input.coordinates.map(quantizePoint)}; break;\n      default: return input;\n    }\n    if (input.id != null) output.id = input.id;\n    if (input.bbox != null) output.bbox = input.bbox;\n    if (input.properties != null) output.properties = input.properties;\n    return output;\n  }\n\n  function quantizeArc(input) {\n    var i = 0, j = 1, n = input.length, p, output = new Array(n); // pessimistic\n    output[0] = t(input[0], 0);\n    while (++i < n) if ((p = t(input[i], i))[0] || p[1]) output[j++] = p; // non-coincident points\n    if (j === 1) output[j++] = [0, 0]; // an arc must have at least two points\n    output.length = j;\n    return output;\n  }\n\n  for (key in inputs) outputs[key] = quantizeGeometry(inputs[key]);\n\n  return {\n    type: \"Topology\",\n    bbox: box,\n    transform: transform,\n    objects: outputs,\n    arcs: topology.arcs.map(quantizeArc)\n  };\n}\n", "export {default as bbox} from \"./bbox.js\";\nexport {default as feature} from \"./feature.js\";\nexport {default as mesh, meshArcs} from \"./mesh.js\";\nexport {default as merge, mergeArcs} from \"./merge.js\";\nexport {default as neighbors} from \"./neighbors.js\";\nexport {default as quantize} from \"./quantize.js\";\nexport {default as transform} from \"./transform.js\";\nexport {default as untransform} from \"./untransform.js\";\n", "export var hasOwnProperty = Object.prototype.hasOwnProperty;\n", "import {hasOwnProperty} from \"./object.js\";\n\n// Computes the bounding box of the specified hash of GeoJSON objects.\nexport default function(objects) {\n  var x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  function boundGeometry(geometry) {\n    if (geometry != null && hasOwnProperty.call(boundGeometryType, geometry.type)) boundGeometryType[geometry.type](geometry);\n  }\n\n  var boundGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(boundGeometry); },\n    Point: function(o) { boundPoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates.forEach(boundPoint); },\n    LineString: function(o) { boundLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs.forEach(boundLine); },\n    Polygon: function(o) { o.arcs.forEach(boundLine); },\n    MultiPolygon: function(o) { o.arcs.forEach(boundMultiLine); }\n  };\n\n  function boundPoint(coordinates) {\n    var x = coordinates[0],\n        y = coordinates[1];\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  function boundLine(coordinates) {\n    coordinates.forEach(boundPoint);\n  }\n\n  function boundMultiLine(coordinates) {\n    coordinates.forEach(boundLine);\n  }\n\n  for (var key in objects) {\n    boundGeometry(objects[key]);\n  }\n\n  return x1 >= x0 && y1 >= y0 ? [x0, y0, x1, y1] : undefined;\n}\n", "export default function(size, hash, equal, type, empty) {\n  if (arguments.length === 3) {\n    type = Array;\n    empty = null;\n  }\n\n  var store = new type(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    store[i] = empty;\n  }\n\n  function add(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) throw new Error(\"full hashset\");\n      match = store[index = (index + 1) & mask];\n    }\n    store[index] = value;\n    return true;\n  }\n\n  function has(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) break;\n      match = store[index = (index + 1) & mask];\n    }\n    return false;\n  }\n\n  function values() {\n    var values = [];\n    for (var i = 0, n = store.length; i < n; ++i) {\n      var match = store[i];\n      if (match != empty) values.push(match);\n    }\n    return values;\n  }\n\n  return {\n    add: add,\n    has: has,\n    values: values\n  };\n}\n", "export default function(size, hash, equal, keyType, keyEmpty, valueType) {\n  if (arguments.length === 3) {\n    keyType = valueType = Array;\n    keyEmpty = null;\n  }\n\n  var keystore = new keyType(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      valstore = new valueType(size),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    keystore[i] = keyEmpty;\n  }\n\n  function set(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index] = value;\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function maybeSet(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function get(key, missingValue) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) break;\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    return missingValue;\n  }\n\n  function keys() {\n    var keys = [];\n    for (var i = 0, n = keystore.length; i < n; ++i) {\n      var matchKey = keystore[i];\n      if (matchKey != keyEmpty) keys.push(matchKey);\n    }\n    return keys;\n  }\n\n  return {\n    set: set,\n    maybeSet: maybeSet, // set if unset\n    get: get,\n    keys: keys\n  };\n}\n", "export default function(pointA, pointB) {\n  return pointA[0] === pointB[0] && pointA[1] === pointB[1];\n}\n", "// TODO if quantized, use simpler Int32 hashing?\n\nvar buffer = new ArrayBuffer(16),\n    floats = new Float64Array(buffer),\n    uints = new Uint32Array(buffer);\n\nexport default function(point) {\n  floats[0] = point[0];\n  floats[1] = point[1];\n  var hash = uints[0] ^ uints[1];\n  hash = hash << 5 ^ hash >> 7 ^ uints[2] ^ uints[3];\n  return hash & 0x7fffffff;\n}\n", "import hashset from \"./hash/hashset.js\";\nimport hashmap from \"./hash/hashmap.js\";\nimport equalPoint from \"./hash/point-equal.js\";\nimport hashPoint from \"./hash/point-hash.js\";\n\n// Given an extracted (pre-)topology, identifies all of the junctions. These are\n// the points at which arcs (lines or rings) will need to be cut so that each\n// arc is represented uniquely.\n//\n// A junction is a point where at least one arc deviates from another arc going\n// through the same point. For example, consider the point B. If there is a arc\n// through ABC and another arc through CBA, then B is not a junction because in\n// both cases the adjacent point pairs are {A,C}. However, if there is an\n// additional arc ABD, then {A,D} != {A,C}, and thus B becomes a junction.\n//\n// For a closed ring ABCA, the first point A’s adjacent points are the second\n// and last point {B,C}. For a line, the first and last point are always\n// considered junctions, even if the line is closed; this ensures that a closed\n// line is never rotated.\nexport default function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      indexes = index(),\n      visitedByIndex = new Int32Array(coordinates.length),\n      leftByIndex = new Int32Array(coordinates.length),\n      rightByIndex = new Int32Array(coordinates.length),\n      junctionByIndex = new Int8Array(coordinates.length),\n      junctionCount = 0, // upper bound on number of junctions\n      i, n,\n      previousIndex,\n      currentIndex,\n      nextIndex;\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = leftByIndex[i] = rightByIndex[i] = -1;\n  }\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineStart = line[0],\n        lineEnd = line[1];\n    currentIndex = indexes[lineStart];\n    nextIndex = indexes[++lineStart];\n    ++junctionCount, junctionByIndex[currentIndex] = 1; // start\n    while (++lineStart <= lineEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[lineStart]);\n    }\n    ++junctionCount, junctionByIndex[nextIndex] = 1; // end\n  }\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = -1;\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0] + 1,\n        ringEnd = ring[1];\n    previousIndex = indexes[ringEnd - 1];\n    currentIndex = indexes[ringStart - 1];\n    nextIndex = indexes[ringStart];\n    sequence(i, previousIndex, currentIndex, nextIndex);\n    while (++ringStart <= ringEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[ringStart]);\n    }\n  }\n\n  function sequence(i, previousIndex, currentIndex, nextIndex) {\n    if (visitedByIndex[currentIndex] === i) return; // ignore self-intersection\n    visitedByIndex[currentIndex] = i;\n    var leftIndex = leftByIndex[currentIndex];\n    if (leftIndex >= 0) {\n      var rightIndex = rightByIndex[currentIndex];\n      if ((leftIndex !== previousIndex || rightIndex !== nextIndex)\n        && (leftIndex !== nextIndex || rightIndex !== previousIndex)) {\n        ++junctionCount, junctionByIndex[currentIndex] = 1;\n      }\n    } else {\n      leftByIndex[currentIndex] = previousIndex;\n      rightByIndex[currentIndex] = nextIndex;\n    }\n  }\n\n  function index() {\n    var indexByPoint = hashmap(coordinates.length * 1.4, hashIndex, equalIndex, Int32Array, -1, Int32Array),\n        indexes = new Int32Array(coordinates.length);\n\n    for (var i = 0, n = coordinates.length; i < n; ++i) {\n      indexes[i] = indexByPoint.maybeSet(i, i);\n    }\n\n    return indexes;\n  }\n\n  function hashIndex(i) {\n    return hashPoint(coordinates[i]);\n  }\n\n  function equalIndex(i, j) {\n    return equalPoint(coordinates[i], coordinates[j]);\n  }\n\n  visitedByIndex = leftByIndex = rightByIndex = null;\n\n  var junctionByPoint = hashset(junctionCount * 1.4, hashPoint, equalPoint), j;\n\n  // Convert back to a standard hashset by point for caller convenience.\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    if (junctionByIndex[j = indexes[i]]) {\n      junctionByPoint.add(coordinates[j]);\n    }\n  }\n\n  return junctionByPoint;\n}\n", "import join from \"./join.js\";\n\n// Given an extracted (pre-)topology, cuts (or rotates) arcs so that all shared\n// point sequences are identified. The topology can then be subsequently deduped\n// to remove exact duplicate arcs.\nexport default function(topology) {\n  var junctions = join(topology),\n      coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      next,\n      i, n;\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineMid = line[0],\n        lineEnd = line[1];\n    while (++lineMid < lineEnd) {\n      if (junctions.has(coordinates[lineMid])) {\n        next = {0: lineMid, 1: line[1]};\n        line[1] = lineMid;\n        line = line.next = next;\n      }\n    }\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0],\n        ringMid = ringStart,\n        ringEnd = ring[1],\n        ringFixed = junctions.has(coordinates[ringStart]);\n    while (++ringMid < ringEnd) {\n      if (junctions.has(coordinates[ringMid])) {\n        if (ringFixed) {\n          next = {0: ringMid, 1: ring[1]};\n          ring[1] = ringMid;\n          ring = ring.next = next;\n        } else { // For the first junction, we can rotate rather than cut.\n          rotateArray(coordinates, ringStart, ringEnd, ringEnd - ringMid);\n          coordinates[ringEnd] = coordinates[ringStart];\n          ringFixed = true;\n          ringMid = ringStart; // restart; we may have skipped junctions\n        }\n      }\n    }\n  }\n\n  return topology;\n}\n\nfunction rotateArray(array, start, end, offset) {\n  reverse(array, start, end);\n  reverse(array, start, start + offset);\n  reverse(array, start + offset, end);\n}\n\nfunction reverse(array, start, end) {\n  for (var mid = start + ((end-- - start) >> 1), t; start < mid; ++start, --end) {\n    t = array[start], array[start] = array[end], array[end] = t;\n  }\n}\n", "import hashmap from \"./hash/hashmap.js\";\nimport equalPoint from \"./hash/point-equal.js\";\nimport hashPoint from \"./hash/point-hash.js\";\n\n// Given a cut topology, combines duplicate arcs.\nexport default function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines, line,\n      rings = topology.rings, ring,\n      arcCount = lines.length + rings.length,\n      i, n;\n\n  delete topology.lines;\n  delete topology.rings;\n\n  // Count the number of (non-unique) arcs to initialize the hashmap safely.\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i]; while (line = line.next) ++arcCount;\n  }\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i]; while (ring = ring.next) ++arcCount;\n  }\n\n  var arcsByEnd = hashmap(arcCount * 2 * 1.4, hashPoint, equalPoint),\n      arcs = topology.arcs = [];\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i];\n    do {\n      dedupLine(line);\n    } while (line = line.next);\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i];\n    if (ring.next) { // arc is no longer closed\n      do {\n        dedupLine(ring);\n      } while (ring = ring.next);\n    } else {\n      dedupRing(ring);\n    }\n  }\n\n  function dedupLine(arc) {\n    var startPoint,\n        endPoint,\n        startArcs, startArc,\n        endArcs, endArc,\n        i, n;\n\n    // Does this arc match an existing arc in order?\n    if (startArcs = arcsByEnd.get(startPoint = coordinates[arc[0]])) {\n      for (i = 0, n = startArcs.length; i < n; ++i) {\n        startArc = startArcs[i];\n        if (equalLine(startArc, arc)) {\n          arc[0] = startArc[0];\n          arc[1] = startArc[1];\n          return;\n        }\n      }\n    }\n\n    // Does this arc match an existing arc in reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[1]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (reverseEqualLine(endArc, arc)) {\n          arc[1] = endArc[0];\n          arc[0] = endArc[1];\n          return;\n        }\n      }\n    }\n\n    if (startArcs) startArcs.push(arc); else arcsByEnd.set(startPoint, [arc]);\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function dedupRing(arc) {\n    var endPoint,\n        endArcs,\n        endArc,\n        i, n;\n\n    // Does this arc match an existing line in order, or reverse order?\n    // Rings are closed, so their start point and end point is the same.\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    // Otherwise, does this arc match an existing ring in order, or reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0] + findMinimumOffset(arc)])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function equalLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, ++ib) if (!equalPoint(coordinates[ia], coordinates[ib])) return false;\n    return true;\n  }\n\n  function reverseEqualLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, --jb) if (!equalPoint(coordinates[ia], coordinates[jb])) return false;\n    return true;\n  }\n\n  function equalRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[ib + (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  function reverseEqualRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = n - findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[jb - (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  // Rings are rotated to a consistent, but arbitrary, start point.\n  // This is necessary to detect when a ring and a rotated copy are dupes.\n  function findMinimumOffset(arc) {\n    var start = arc[0],\n        end = arc[1],\n        mid = start,\n        minimum = mid,\n        minimumPoint = coordinates[mid];\n    while (++mid < end) {\n      var point = coordinates[mid];\n      if (point[0] < minimumPoint[0] || point[0] === minimumPoint[0] && point[1] < minimumPoint[1]) {\n        minimum = mid;\n        minimumPoint = point;\n      }\n    }\n    return minimum - start;\n  }\n\n  return topology;\n}\n", "// Given an array of arcs in absolute (but already quantized!) coordinates,\n// converts to fixed-point delta encoding.\n// This is a destructive operation that modifies the given arcs!\nexport default function(arcs) {\n  var i = -1,\n      n = arcs.length;\n\n  while (++i < n) {\n    var arc = arcs[i],\n        j = 0,\n        k = 1,\n        m = arc.length,\n        point = arc[0],\n        x0 = point[0],\n        y0 = point[1],\n        x1,\n        y1;\n\n    while (++j < m) {\n      point = arc[j], x1 = point[0], y1 = point[1];\n      if (x1 !== x0 || y1 !== y0) arc[k++] = [x1 - x0, y1 - y0], x0 = x1, y0 = y1;\n    }\n\n    if (k === 1) arc[k++] = [0, 0]; // Each arc must be an array of two or more positions.\n\n    arc.length = k;\n  }\n\n  return arcs;\n}\n", "import {hasOwnProperty} from \"./object.js\";\n\n// Extracts the lines and rings from the specified hash of geometry objects.\n//\n// Returns an object with three properties:\n//\n// * coordinates - shared buffer of [x, y] coordinates\n// * lines - lines extracted from the hash, of the form [start, end]\n// * rings - rings extracted from the hash, of the form [start, end]\n//\n// For each ring or line, start and end represent inclusive indexes into the\n// coordinates buffer. For rings (and closed lines), coordinates[start] equals\n// coordinates[end].\n//\n// For each line or polygon geometry in the input hash, including nested\n// geometries as in geometry collections, the `coordinates` array is replaced\n// with an equivalent `arcs` array that, for each line (for line string\n// geometries) or ring (for polygon geometries), points to one of the above\n// lines or rings.\nexport default function(objects) {\n  var index = -1,\n      lines = [],\n      rings = [],\n      coordinates = [];\n\n  function extractGeometry(geometry) {\n    if (geometry && hasOwnProperty.call(extractGeometryType, geometry.type)) extractGeometryType[geometry.type](geometry);\n  }\n\n  var extractGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(extractGeometry); },\n    LineString: function(o) { o.arcs = extractLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(extractLine); },\n    Polygon: function(o) { o.arcs = o.arcs.map(extractRing); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(extractMultiRing); }\n  };\n\n  function extractLine(line) {\n    for (var i = 0, n = line.length; i < n; ++i) coordinates[++index] = line[i];\n    var arc = {0: index - n + 1, 1: index};\n    lines.push(arc);\n    return arc;\n  }\n\n  function extractRing(ring) {\n    for (var i = 0, n = ring.length; i < n; ++i) coordinates[++index] = ring[i];\n    var arc = {0: index - n + 1, 1: index};\n    rings.push(arc);\n    return arc;\n  }\n\n  function extractMultiRing(rings) {\n    return rings.map(extractRing);\n  }\n\n  for (var key in objects) {\n    extractGeometry(objects[key]);\n  }\n\n  return {\n    type: \"Topology\",\n    coordinates: coordinates,\n    lines: lines,\n    rings: rings,\n    objects: objects\n  };\n}\n", "// Given a hash of GeoJSON objects, returns a hash of GeoJSON geometry objects.\n// Any null input geometry objects are represented as {type: null} in the output.\n// Any feature.{id,properties,bbox} are transferred to the output geometry object.\n// Each output geometry object is a shallow copy of the input (e.g., properties, coordinates)!\nexport default function(inputs) {\n  var outputs = {}, key;\n  for (key in inputs) outputs[key] = geomifyObject(inputs[key]);\n  return outputs;\n}\n\nfunction geomifyObject(input) {\n  return input == null ? {type: null}\n      : (input.type === \"FeatureCollection\" ? geomifyFeatureCollection\n      : input.type === \"Feature\" ? geomifyFeature\n      : geomifyGeometry)(input);\n}\n\nfunction geomifyFeatureCollection(input) {\n  var output = {type: \"GeometryCollection\", geometries: input.features.map(geomifyFeature)};\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n\nfunction geomifyFeature(input) {\n  var output = geomifyGeometry(input.geometry), key; // eslint-disable-line no-unused-vars\n  if (input.id != null) output.id = input.id;\n  if (input.bbox != null) output.bbox = input.bbox;\n  for (key in input.properties) { output.properties = input.properties; break; }\n  return output;\n}\n\nfunction geomifyGeometry(input) {\n  if (input == null) return {type: null};\n  var output = input.type === \"GeometryCollection\" ? {type: \"GeometryCollection\", geometries: input.geometries.map(geomifyGeometry)}\n      : input.type === \"Point\" || input.type === \"MultiPoint\" ? {type: input.type, coordinates: input.coordinates}\n      : {type: input.type, arcs: input.coordinates}; // TODO Check for unknown types?\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n", "import {hasOwnProperty} from \"./object.js\";\n\nexport default function(objects, bbox, n) {\n  var x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3],\n      kx = x1 - x0 ? (n - 1) / (x1 - x0) : 1,\n      ky = y1 - y0 ? (n - 1) / (y1 - y0) : 1;\n\n  function quantizePoint(input) {\n    return [Math.round((input[0] - x0) * kx), Math.round((input[1] - y0) * ky)];\n  }\n\n  function quantizePoints(input, m) {\n    var i = -1,\n        j = 0,\n        n = input.length,\n        output = new Array(n), // pessimistic\n        pi,\n        px,\n        py,\n        x,\n        y;\n\n    while (++i < n) {\n      pi = input[i];\n      x = Math.round((pi[0] - x0) * kx);\n      y = Math.round((pi[1] - y0) * ky);\n      if (x !== px || y !== py) output[j++] = [px = x, py = y]; // non-coincident points\n    }\n\n    output.length = j;\n    while (j < m) j = output.push([output[0][0], output[0][1]]);\n    return output;\n  }\n\n  function quantizeLine(input) {\n    return quantizePoints(input, 2);\n  }\n\n  function quantizeRing(input) {\n    return quantizePoints(input, 4);\n  }\n\n  function quantizePolygon(input) {\n    return input.map(quantizeRing);\n  }\n\n  function quantizeGeometry(o) {\n    if (o != null && hasOwnProperty.call(quantizeGeometryType, o.type)) quantizeGeometryType[o.type](o);\n  }\n\n  var quantizeGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(quantizeGeometry); },\n    Point: function(o) { o.coordinates = quantizePoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates = o.coordinates.map(quantizePoint); },\n    LineString: function(o) { o.arcs = quantizeLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(quantizeLine); },\n    Polygon: function(o) { o.arcs = quantizePolygon(o.arcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(quantizePolygon); }\n  };\n\n  for (var key in objects) {\n    quantizeGeometry(objects[key]);\n  }\n\n  return {\n    scale: [1 / kx, 1 / ky],\n    translate: [x0, y0]\n  };\n}\n", "import bounds from \"./bounds.js\";\nimport cut from \"./cut.js\";\nimport dedup from \"./dedup.js\";\nimport delta from \"./delta.js\";\nimport extract from \"./extract.js\";\nimport geometry from \"./geometry.js\";\nimport hashmap from \"./hash/hashmap.js\";\nimport {hasOwnProperty} from \"./object.js\";\nimport prequantize from \"./prequantize.js\";\n\n// Constructs the TopoJSON Topology for the specified hash of features.\n// Each object in the specified hash must be a GeoJSON object,\n// meaning FeatureCollection, a Feature or a geometry object.\nexport default function(objects, quantization) {\n  var bbox = bounds(objects = geometry(objects)),\n      transform = quantization > 0 && bbox && prequantize(objects, bbox, quantization),\n      topology = dedup(cut(extract(objects))),\n      coordinates = topology.coordinates,\n      indexByArc = hashmap(topology.arcs.length * 1.4, hashArc, equalArc);\n\n  objects = topology.objects; // for garbage collection\n  topology.bbox = bbox;\n  topology.arcs = topology.arcs.map(function(arc, i) {\n    indexByArc.set(arc, i);\n    return coordinates.slice(arc[0], arc[1] + 1);\n  });\n\n  delete topology.coordinates;\n  coordinates = null;\n\n  function indexGeometry(geometry) {\n    if (geometry && hasOwnProperty.call(indexGeometryType, geometry.type)) indexGeometryType[geometry.type](geometry);\n  }\n\n  var indexGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(indexGeometry); },\n    LineString: function(o) { o.arcs = indexArcs(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    Polygon: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(indexMultiArcs); }\n  };\n\n  function indexArcs(arc) {\n    var indexes = [];\n    do {\n      var index = indexByArc.get(arc);\n      indexes.push(arc[0] < arc[1] ? index : ~index);\n    } while (arc = arc.next);\n    return indexes;\n  }\n\n  function indexMultiArcs(arcs) {\n    return arcs.map(indexArcs);\n  }\n\n  for (var key in objects) {\n    indexGeometry(objects[key]);\n  }\n\n  if (transform) {\n    topology.transform = transform;\n    topology.arcs = delta(topology.arcs);\n  }\n\n  return topology;\n}\n\nfunction hashArc(arc) {\n  var i = arc[0], j = arc[1], t;\n  if (j < i) t = i, i = j, j = t;\n  return i + 31 * j;\n}\n\nfunction equalArc(arcA, arcB) {\n  var ia = arcA[0], ja = arcA[1],\n      ib = arcB[0], jb = arcB[1], t;\n  if (ja < ia) t = ia, ia = ja, ja = t;\n  if (jb < ib) t = ib, ib = jb, jb = t;\n  return ia === ib && ja === jb;\n}\n", "export {default as topology} from \"./topology.js\";\n", "module.exports = mergeViableLineStrings\n\n// [Number, Number] -> String\nfunction coordId (coord) {\n  return coord[0].toString() + ',' + coord[1].toString()\n}\n\n// LineString, LineString -> LineString\nfunction mergeLineStrings (a, b) {\n  var s1 = coordId(a.coordinates[0])\n  var e1 = coordId(a.coordinates[a.coordinates.length - 1])\n  var s2 = coordId(b.coordinates[0])\n  var e2 = coordId(b.coordinates[b.coordinates.length - 1])\n\n  // TODO: handle case where more than one of these is true!\n\n  var coords\n  if (s1 === e2) {\n    coords = b.coordinates.concat(a.coordinates.slice(1))\n  } else if (s2 === e1) {\n    coords = a.coordinates.concat(b.coordinates.slice(1))\n  } else if (s1 === s2) {\n    coords = a.coordinates.slice(1).reverse().concat(b.coordinates)\n  } else if (e1 === e2) {\n    coords = a.coordinates.concat(b.coordinates.reverse().slice(1))\n  } else {\n    return null\n  }\n\n  return {\n    type: 'LineString',\n    coordinates: coords\n  }\n}\n\n// Merges all connected (non-forking, non-junctioning) line strings into single\n// line strings.\n// [LineString] -> LineString|MultiLineString\nfunction mergeViableLineStrings (geoms) {\n  // TODO: assert all are linestrings\n\n  var lineStrings = geoms.slice()\n  var result = []\n  while (lineStrings.length > 0) {\n    var ls = lineStrings.shift()\n\n    // Attempt to merge this LineString with the other LineStrings, updating\n    // the reference as it is merged with others and grows.\n    lineStrings = lineStrings.reduce(function (accum, cur) {\n      var merged = mergeLineStrings(ls, cur)\n      if (merged) {\n        // Accumulate the merged LineString\n        ls = merged\n      } else {\n        // Put the unmerged LineString back into the list\n        accum.push(cur)\n      }\n      return accum\n    }, [])\n\n    result.push(ls)\n  }\n\n  if (result.length === 1) {\n    result = result[0]\n  } else {\n    result = {\n      type: 'MultiLineString',\n      coordinates: result.map(function (ls) { return ls.coordinates })\n    }\n  }\n  return result\n}\n\n", "/**\n * Callback for coordEach\n *\n * @private\n * @callback coordEachCallback\n * @param {[number, number]} currentCoords The current coordinates being processed.\n * @param {number} currentIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {Object} layer any GeoJSON object\n * @param {Function} callback a method that takes (currentCoords, currentIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include\n * the final coordinate of LinearRings that wraps the ring in its iteration.\n * @example\n * var features = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [26, 37]\n *       }\n *     },\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [36, 53]\n *       }\n *     }\n *   ]\n * };\n * turf.coordEach(features, function (currentCoords, currentIndex) {\n *   //=currentCoords\n *   //=currentIndex\n * });\n */\nfunction coordEach(layer, callback, excludeWrapCoord) {\n    var i, j, k, g, l, geometry, stopG, coords,\n        geometryMaybeCollection,\n        wrapShrink = 0,\n        currentIndex = 0,\n        isGeometryCollection,\n        isFeatureCollection = layer.type === 'FeatureCollection',\n        isFeature = layer.type === 'Feature',\n        stop = isFeatureCollection ? layer.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n    for (i = 0; i < stop; i++) {\n\n        geometryMaybeCollection = (isFeatureCollection ? layer.features[i].geometry :\n        (isFeature ? layer.geometry : layer));\n        isGeometryCollection = geometryMaybeCollection.type === 'GeometryCollection';\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (g = 0; g < stopG; g++) {\n            geometry = isGeometryCollection ?\n            geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n            coords = geometry.coordinates;\n\n            wrapShrink = (excludeWrapCoord &&\n                (geometry.type === 'Polygon' || geometry.type === 'MultiPolygon')) ?\n                1 : 0;\n\n            if (geometry.type === 'Point') {\n                callback(coords, currentIndex);\n                currentIndex++;\n            } else if (geometry.type === 'LineString' || geometry.type === 'MultiPoint') {\n                for (j = 0; j < coords.length; j++) {\n                    callback(coords[j], currentIndex);\n                    currentIndex++;\n                }\n            } else if (geometry.type === 'Polygon' || geometry.type === 'MultiLineString') {\n                for (j = 0; j < coords.length; j++)\n                    for (k = 0; k < coords[j].length - wrapShrink; k++) {\n                        callback(coords[j][k], currentIndex);\n                        currentIndex++;\n                    }\n            } else if (geometry.type === 'MultiPolygon') {\n                for (j = 0; j < coords.length; j++)\n                    for (k = 0; k < coords[j].length; k++)\n                        for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                            callback(coords[j][k][l], currentIndex);\n                            currentIndex++;\n                        }\n            } else if (geometry.type === 'GeometryCollection') {\n                for (j = 0; j < geometry.geometries.length; j++)\n                    coordEach(geometry.geometries[j], callback, excludeWrapCoord);\n            } else {\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n    }\n}\nmodule.exports.coordEach = coordEach;\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @private\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {[number, number]} currentCoords The current coordinate being processed.\n * @param {number} currentIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {Object} layer any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoords, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include\n * the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [26, 37]\n *       }\n *     },\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [36, 53]\n *       }\n *     }\n *   ]\n * };\n * turf.coordReduce(features, function (previousValue, currentCoords, currentIndex) {\n *   //=previousValue\n *   //=currentCoords\n *   //=currentIndex\n *   return currentCoords;\n * });\n */\nfunction coordReduce(layer, callback, initialValue, excludeWrapCoord) {\n    var previousValue = initialValue;\n    coordEach(layer, function (currentCoords, currentIndex) {\n        if (currentIndex === 0 && initialValue === undefined) {\n            previousValue = currentCoords;\n        } else {\n            previousValue = callback(previousValue, currentCoords, currentIndex);\n        }\n    }, excludeWrapCoord);\n    return previousValue;\n}\nmodule.exports.coordReduce = coordReduce;\n\n/**\n * Callback for propEach\n *\n * @private\n * @callback propEachCallback\n * @param {*} currentProperties The current properties being processed.\n * @param {number} currentIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {Object} layer any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, currentIndex)\n * @example\n * var features = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {\"foo\": \"bar\"},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [26, 37]\n *       }\n *     },\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {\"hello\": \"world\"},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [36, 53]\n *       }\n *     }\n *   ]\n * };\n * turf.propEach(features, function (currentProperties, currentIndex) {\n *   //=currentProperties\n *   //=currentIndex\n * });\n */\nfunction propEach(layer, callback) {\n    var i;\n    switch (layer.type) {\n    case 'FeatureCollection':\n        for (i = 0; i < layer.features.length; i++) {\n            callback(layer.features[i].properties, i);\n        }\n        break;\n    case 'Feature':\n        callback(layer.properties, 0);\n        break;\n    }\n}\nmodule.exports.propEach = propEach;\n\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @private\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current properties being processed.\n * @param {number} currentIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {Object} layer any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {\"foo\": \"bar\"},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [26, 37]\n *       }\n *     },\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {\"hello\": \"world\"},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [36, 53]\n *       }\n *     }\n *   ]\n * };\n * turf.propReduce(features, function (previousValue, currentProperties, currentIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=currentIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(layer, callback, initialValue) {\n    var previousValue = initialValue;\n    propEach(layer, function (currentProperties, currentIndex) {\n        if (currentIndex === 0 && initialValue === undefined) {\n            previousValue = currentProperties;\n        } else {\n            previousValue = callback(previousValue, currentProperties, currentIndex);\n        }\n    });\n    return previousValue;\n}\nmodule.exports.propReduce = propReduce;\n\n/**\n * Callback for featureEach\n *\n * @private\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current feature being processed.\n * @param {number} currentIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {Object} layer any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, currentIndex)\n * @example\n * var features = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [26, 37]\n *       }\n *     },\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [36, 53]\n *       }\n *     }\n *   ]\n * };\n * turf.featureEach(features, function (currentFeature, currentIndex) {\n *   //=currentFeature\n *   //=currentIndex\n * });\n */\nfunction featureEach(layer, callback) {\n    if (layer.type === 'Feature') {\n        callback(layer, 0);\n    } else if (layer.type === 'FeatureCollection') {\n        for (var i = 0; i < layer.features.length; i++) {\n            callback(layer.features[i], i);\n        }\n    }\n}\nmodule.exports.featureEach = featureEach;\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @private\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} currentIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {Object} layer any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {\"foo\": \"bar\"},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [26, 37]\n *       }\n *     },\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {\"hello\": \"world\"},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [36, 53]\n *       }\n *     }\n *   ]\n * };\n * turf.featureReduce(features, function (previousValue, currentFeature, currentIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=currentIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(layer, callback, initialValue) {\n    var previousValue = initialValue;\n    featureEach(layer, function (currentFeature, currentIndex) {\n        if (currentIndex === 0 && initialValue === undefined) {\n            previousValue = currentFeature;\n        } else {\n            previousValue = callback(previousValue, currentFeature, currentIndex);\n        }\n    });\n    return previousValue;\n}\nmodule.exports.featureReduce = featureReduce;\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {Object} layer any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [26, 37]\n *       }\n *     },\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [36, 53]\n *       }\n *     }\n *   ]\n * };\n * var coords = turf.coordAll(features);\n * //=coords\n */\nfunction coordAll(layer) {\n    var coords = [];\n    coordEach(layer, function (coord) {\n        coords.push(coord);\n    });\n    return coords;\n}\nmodule.exports.coordAll = coordAll;\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {Object} layer any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, currentIndex)\n * @example\n * var features = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [26, 37]\n *       }\n *     },\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [36, 53]\n *       }\n *     }\n *   ]\n * };\n * turf.geomEach(features, function (currentGeometry, currentIndex) {\n *   //=currentGeometry\n *   //=currentIndex\n * });\n */\nfunction geomEach(layer, callback) {\n    var i, j, g, geometry, stopG,\n        geometryMaybeCollection,\n        isGeometryCollection,\n        currentIndex = 0,\n        isFeatureCollection = layer.type === 'FeatureCollection',\n        isFeature = layer.type === 'Feature',\n        stop = isFeatureCollection ? layer.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n    for (i = 0; i < stop; i++) {\n\n        geometryMaybeCollection = (isFeatureCollection ? layer.features[i].geometry :\n        (isFeature ? layer.geometry : layer));\n        isGeometryCollection = geometryMaybeCollection.type === 'GeometryCollection';\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (g = 0; g < stopG; g++) {\n            geometry = isGeometryCollection ?\n            geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n\n            if (geometry.type === 'Point' ||\n                geometry.type === 'LineString' ||\n                geometry.type === 'MultiPoint' ||\n                geometry.type === 'Polygon' ||\n                geometry.type === 'MultiLineString' ||\n                geometry.type === 'MultiPolygon') {\n                callback(geometry, currentIndex);\n                currentIndex++;\n            } else if (geometry.type === 'GeometryCollection') {\n                for (j = 0; j < geometry.geometries.length; j++) {\n                    callback(geometry.geometries[j], currentIndex);\n                    currentIndex++;\n                }\n            } else {\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n    }\n}\nmodule.exports.geomEach = geomEach;\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @private\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentGeometry The current Feature being processed.\n * @param {number} currentIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {Object} layer any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {\"foo\": \"bar\"},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [26, 37]\n *       }\n *     },\n *     {\n *       \"type\": \"Feature\",\n *       \"properties\": {\"hello\": \"world\"},\n *       \"geometry\": {\n *         \"type\": \"Point\",\n *         \"coordinates\": [36, 53]\n *       }\n *     }\n *   ]\n * };\n * turf.geomReduce(features, function (previousValue, currentGeometry, currentIndex) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=currentIndex\n *   return currentGeometry\n * });\n */\nfunction geomReduce(layer, callback, initialValue) {\n    var previousValue = initialValue;\n    geomEach(layer, function (currentGeometry, currentIndex) {\n        if (currentIndex === 0 && initialValue === undefined) {\n            previousValue = currentGeometry;\n        } else {\n            previousValue = callback(previousValue, currentGeometry, currentIndex);\n        }\n    });\n    return previousValue;\n}\nmodule.exports.geomReduce = geomReduce;\n", "export default function flatten(gj) {\n  switch ((gj && gj.type) || null) {\n    case \"FeatureCollection\":\n      gj.features = gj.features.reduce(function(mem, feature) {\n        return mem.concat(flatten(feature));\n      }, []);\n      return gj;\n    case \"Feature\":\n      if (!gj.geometry) return gj;\n      return flatten(gj.geometry).map(function(geom) {\n        var data = {\n          type: \"Feature\",\n          properties: JSON.parse(JSON.stringify(gj.properties)),\n          geometry: geom\n        };\n        if (gj.id !== undefined) {\n          data.id = gj.id;\n        }\n        return data;\n      });\n    case \"MultiPoint\":\n      return gj.coordinates.map(function(_) {\n        return { type: \"Point\", coordinates: _ };\n      });\n    case \"MultiPolygon\":\n      return gj.coordinates.map(function(_) {\n        return { type: \"Polygon\", coordinates: _ };\n      });\n    case \"MultiLineString\":\n      return gj.coordinates.map(function(_) {\n        return { type: \"LineString\", coordinates: _ };\n      });\n    case \"GeometryCollection\":\n      return gj.geometries.map(flatten).reduce(function(memo, geoms) {\n        return memo.concat(geoms);\n      }, []);\n    case \"Point\":\n    case \"Polygon\":\n    case \"LineString\":\n      return [gj];\n  }\n}\n", "var createTopology = require('topojson-server').topology\nvar mergeTopology = require('topojson-client').merge\nvar dissolveLineStrings = require('geojson-linestring-dissolve')\nvar geomEach = require('@turf/meta').geomEach\nvar flatten = require('geojson-flatten')\n\nmodule.exports = dissolve\n\nfunction toArray (args) {\n  if (!args.length) return []\n  return Array.isArray(args[0]) ? args[0] : Array.prototype.slice.call(args)\n}\n\nfunction dissolvePolygons (geoms) {\n  // Topojson modifies in place, so we need to deep clone first\n  var objects = {\n    geoms: {\n      type: 'GeometryCollection',\n      geometries: JSON.parse(JSON.stringify(geoms))\n    }\n  }\n  var topo = createTopology(objects)\n  return mergeTopology(topo, topo.objects.geoms.geometries)\n}\n\n// [GeoJSON] -> String|Null\nfunction getHomogenousType (geoms) {\n  var type = null\n  for (var i = 0; i < geoms.length; i++) {\n    if (!type) {\n      type = geoms[i].type\n    } else if (type !== geoms[i].type) {\n      return null\n    }\n  }\n  return type\n}\n\n// Transform function: attempts to dissolve geojson objects where possible\n// [GeoJSON] -> GeoJSON geometry\nfunction dissolve () {\n  // accept an array of geojson objects, or an argument list\n  var objects = toArray(arguments)\n  var geoms = objects.reduce(function (acc, o) {\n    // flatten any Multi-geom into features of simple types\n    var flat = flatten(o)\n    if (!Array.isArray(flat)) flat = [flat]\n    for (var i = 0; i < flat.length; i++) {\n      // get an array of all flatten geometry objects\n      geomEach(flat[i], function (geom) {\n        acc.push(geom)\n      })\n    }\n    return acc\n  }, [])\n  // Assert homogenity\n  var type = getHomogenousType(geoms)\n  if (!type) {\n    throw new Error('List does not contain only homoegenous GeoJSON')\n  }\n\n  switch (type) {\n    case 'LineString':\n      return dissolveLineStrings(geoms)\n    case 'Polygon':\n      return dissolvePolygons(geoms)\n    default:\n      return geoms\n  }\n}\n\n", "var Line = function(p1, p2){\n\n  this.p1 = p1;\n  this.p2 = p2;\n\n};\n\nLine.prototype.rise = function() {\n\n  return this.p2[1] - this.p1[1];\n\n};\n\nLine.prototype.run = function() {\n\n  return this.p2[0] - this.p1[0];\n\n};\n\nLine.prototype.slope = function(){\n\n  return  this.rise() / this.run();\n\n};\n\nLine.prototype.yIntercept = function(){\n\n  return this.p1[1] - (this.p1[0] * this.slope(this.p1, this.p2));\n\n};\n\nLine.prototype.isVertical = function() {\n\n  return !isFinite(this.slope());\n\n};\n\nLine.prototype.isHorizontal = function() {\n\n  return this.p1[1] == this.p2[1];\n\n};\n\nLine.prototype._perpendicularDistanceHorizontal = function(point){\n\n  return Math.abs(this.p1[1] - point[1]);\n\n};\n\nLine.prototype._perpendicularDistanceVertical = function(point){\n\n  return Math.abs(this.p1[0] - point[0]);\n\n};\n\nLine.prototype._perpendicularDistanceHasSlope = function(point){\n  var slope = this.slope();\n  var y_intercept = this.yIntercept();\n\n  return Math.abs((slope * point[0]) - point[1] + y_intercept) / Math.sqrt((Math.pow(slope, 2)) + 1);\n\n};\n\nLine.prototype.perpendicularDistance = function(point){\n  if (this.isVertical()) {\n\n    return this._perpendicularDistanceVertical(point);\n\n  }\n\n  else if (this.isHorizontal()){\n\n    return this._perpendicularDistanceHorizontal(point);\n\n  }\n\n  else {\n\n    return this._perpendicularDistanceHasSlope(point);\n\n  }\n\n};\n\nmodule.exports = Line;\n", "var Line = require('./line');\n\nvar simplifyGeometry = function(points, tolerance){\n\n  var dmax = 0;\n  var index = 0;\n\n  for (var i = 1; i <= points.length - 2; i++){\n    var d = new Line(points[0], points[points.length - 1]).perpendicularDistance(points[i]);\n    if (d > dmax){\n      index = i;\n      dmax = d;\n    }\n  }\n\n  if (dmax > tolerance){\n    var results_one = simplifyGeometry(points.slice(0, index), tolerance);\n    var results_two = simplifyGeometry(points.slice(index, points.length), tolerance);\n\n    var results = results_one.concat(results_two);\n\n  }\n\n  else if (points.length > 1) {\n\n    results = [points[0], points[points.length - 1]];\n\n  }\n\n  else {\n\n    results = [points[0]];\n\n  }\n\n  return results;\n\n\n}\n\nmodule.exports = simplifyGeometry;\n", "var simplify = require('simplify-geometry')\n\nmodule.exports = function (geojson, tolerance, dontClone) {\n  if (!dontClone) geojson = JSON.parse(JSON.stringify(geojson)) // clone obj\n  if (geojson.features) return simplifyFeatureCollection(geojson, tolerance)\n  else if (geojson.type && geojson.type === 'Feature') return simplifyFeature(geojson, tolerance)\n  else return new Error('FeatureCollection or individual Feature required')\n}\n\nmodule.exports.simplify = function (coordinates, tolerance) {\n  return simplify(coordinates, tolerance)\n}\n\n// modifies in-place\nfunction simplifyFeature (feat, tolerance) {\n  var geom = feat.geometry\n  var type = geom.type\n  if (type === 'LineString') {\n    geom.coordinates = module.exports.simplify(geom.coordinates, tolerance)\n  } else if (type === 'Polygon' || type === 'MultiLineString') {\n    for (var j = 0; j < geom.coordinates.length; j++) {\n      geom.coordinates[j] = module.exports.simplify(geom.coordinates[j], tolerance)\n    }\n  } else if (type === 'MultiPolygon') {\n    for (var k = 0; k < geom.coordinates.length; k++) {\n      for (var l = 0; l < geom.coordinates[k].length; l++) {\n        geom.coordinates[k][l] = module.exports.simplify(geom.coordinates[k][l], tolerance)\n      }\n    }\n  }\n  return feat\n}\n\n// modifies in-place\nfunction simplifyFeatureCollection (fc, tolerance) {\n  // process all LineString features, skip non LineStrings\n  for (var i = 0; i < fc.features.length; i++) {\n    fc.features[i] = simplifyFeature(fc.features[i], tolerance)\n  }\n  return fc\n}\n", "'use strict';\n\nmodule.exports = encode;\n\nvar keys, keysNum, keysArr, dim, e,\n    maxPrecision = 1e6;\n\nvar geometryTypes = {\n    'Point': 0,\n    'MultiPoint': 1,\n    'LineString': 2,\n    'MultiLineString': 3,\n    'Polygon': 4,\n    'MultiPolygon': 5,\n    'GeometryCollection': 6\n};\n\nfunction encode(obj, pbf) {\n    keys = {};\n    keysArr = [];\n    keysNum = 0;\n    dim = 0;\n    e = 1;\n\n    analyze(obj);\n\n    e = Math.min(e, maxPrecision);\n    var precision = Math.ceil(Math.log(e) / Math.LN10);\n\n    for (var i = 0; i < keysArr.length; i++) pbf.writeStringField(1, keysArr[i]);\n    if (dim !== 2) pbf.writeVarintField(2, dim);\n    if (precision !== 6) pbf.writeVarintField(3, precision);\n\n    if (obj.type === 'FeatureCollection') pbf.writeMessage(4, writeFeatureCollection, obj);\n    else if (obj.type === 'Feature') pbf.writeMessage(5, writeFeature, obj);\n    else pbf.writeMessage(6, writeGeometry, obj);\n\n    keys = null;\n\n    return pbf.finish();\n}\n\nfunction analyze(obj) {\n    var i, key;\n\n    if (obj.type === 'FeatureCollection') {\n        for (i = 0; i < obj.features.length; i++) analyze(obj.features[i]);\n\n    } else if (obj.type === 'Feature') {\n        if (obj.geometry !== null) analyze(obj.geometry);\n        for (key in obj.properties) saveKey(key);\n\n    } else if (obj.type === 'Point') analyzePoint(obj.coordinates);\n    else if (obj.type === 'MultiPoint') analyzePoints(obj.coordinates);\n    else if (obj.type === 'GeometryCollection') {\n        for (i = 0; i < obj.geometries.length; i++) analyze(obj.geometries[i]);\n    }\n    else if (obj.type === 'LineString') analyzePoints(obj.coordinates);\n    else if (obj.type === 'Polygon' || obj.type === 'MultiLineString') analyzeMultiLine(obj.coordinates);\n    else if (obj.type === 'MultiPolygon') {\n        for (i = 0; i < obj.coordinates.length; i++) analyzeMultiLine(obj.coordinates[i]);\n    }\n\n    for (key in obj) {\n        if (!isSpecialKey(key, obj.type)) saveKey(key);\n    }\n}\n\nfunction analyzeMultiLine(coords) {\n    for (var i = 0; i < coords.length; i++) analyzePoints(coords[i]);\n}\n\nfunction analyzePoints(coords) {\n    for (var i = 0; i < coords.length; i++) analyzePoint(coords[i]);\n}\n\nfunction analyzePoint(point) {\n    dim = Math.max(dim, point.length);\n\n    // find max precision\n    for (var i = 0; i < point.length; i++) {\n        while (Math.round(point[i] * e) / e !== point[i] && e < maxPrecision) e *= 10;\n    }\n}\n\nfunction saveKey(key) {\n    if (keys[key] === undefined) {\n        keysArr.push(key);\n        keys[key] = keysNum++;\n    }\n}\n\nfunction writeFeatureCollection(obj, pbf) {\n    for (var i = 0; i < obj.features.length; i++) {\n        pbf.writeMessage(1, writeFeature, obj.features[i]);\n    }\n    writeProps(obj, pbf, true);\n}\n\nfunction writeFeature(feature, pbf) {\n    if (feature.geometry !== null) pbf.writeMessage(1, writeGeometry, feature.geometry);\n\n    if (feature.id !== undefined) {\n        if (typeof feature.id === 'number' && feature.id % 1 === 0) pbf.writeSVarintField(12, feature.id);\n        else pbf.writeStringField(11, feature.id);\n    }\n\n    if (feature.properties) writeProps(feature.properties, pbf);\n    writeProps(feature, pbf, true);\n}\n\nfunction writeGeometry(geom, pbf) {\n    pbf.writeVarintField(1, geometryTypes[geom.type]);\n\n    var coords = geom.coordinates;\n\n    if (geom.type === 'Point') writePoint(coords, pbf);\n    else if (geom.type === 'MultiPoint') writeLine(coords, pbf, true);\n    else if (geom.type === 'LineString') writeLine(coords, pbf);\n    else if (geom.type === 'MultiLineString') writeMultiLine(coords, pbf);\n    else if (geom.type === 'Polygon') writeMultiLine(coords, pbf, true);\n    else if (geom.type === 'MultiPolygon') writeMultiPolygon(coords, pbf);\n    else if (geom.type === 'GeometryCollection') {\n        for (var i = 0; i < geom.geometries.length; i++) pbf.writeMessage(4, writeGeometry, geom.geometries[i]);\n    }\n\n    writeProps(geom, pbf, true);\n}\n\nfunction writeProps(props, pbf, isCustom) {\n    var indexes = [],\n        valueIndex = 0;\n\n    for (var key in props) {\n        if (isCustom && isSpecialKey(key, props.type)) {\n            continue;\n        }\n        pbf.writeMessage(13, writeValue, props[key]);\n        indexes.push(keys[key]);\n        indexes.push(valueIndex++);\n    }\n    pbf.writePackedVarint(isCustom ? 15 : 14, indexes);\n}\n\nfunction writeValue(value, pbf) {\n    if (value === null) return;\n\n    var type = typeof value;\n\n    if (type === 'string') pbf.writeStringField(1, value);\n    else if (type === 'boolean') pbf.writeBooleanField(5, value);\n    else if (type === 'object') pbf.writeStringField(6, JSON.stringify(value));\n    else if (type === 'number') {\n        if (value % 1 !== 0) pbf.writeDoubleField(2, value);\n        else if (value >= 0) pbf.writeVarintField(3, value);\n        else pbf.writeVarintField(4, -value);\n    }\n}\n\nfunction writePoint(point, pbf) {\n    var coords = [];\n    for (var i = 0; i < dim; i++) coords.push(Math.round(point[i] * e));\n    pbf.writePackedSVarint(3, coords);\n}\n\nfunction writeLine(line, pbf) {\n    var coords = [];\n    populateLine(coords, line);\n    pbf.writePackedSVarint(3, coords);\n}\n\nfunction writeMultiLine(lines, pbf, closed) {\n    var len = lines.length,\n        i;\n    if (len !== 1) {\n        var lengths = [];\n        for (i = 0; i < len; i++) lengths.push(lines[i].length - (closed ? 1 : 0));\n        pbf.writePackedVarint(2, lengths);\n        // TODO faster with custom writeMessage?\n    }\n    var coords = [];\n    for (i = 0; i < len; i++) populateLine(coords, lines[i], closed);\n    pbf.writePackedSVarint(3, coords);\n}\n\nfunction writeMultiPolygon(polygons, pbf) {\n    var len = polygons.length,\n        i, j;\n    if (len !== 1 || polygons[0].length !== 1) {\n        var lengths = [len];\n        for (i = 0; i < len; i++) {\n            lengths.push(polygons[i].length);\n            for (j = 0; j < polygons[i].length; j++) lengths.push(polygons[i][j].length - 1);\n        }\n        pbf.writePackedVarint(2, lengths);\n    }\n\n    var coords = [];\n    for (i = 0; i < len; i++) {\n        for (j = 0; j < polygons[i].length; j++) populateLine(coords, polygons[i][j], true);\n    }\n    pbf.writePackedSVarint(3, coords);\n}\n\nfunction populateLine(coords, line, closed) {\n    var i, j,\n        len = line.length - (closed ? 1 : 0),\n        sum = new Array(dim);\n    for (j = 0; j < dim; j++) sum[j] = 0;\n    for (i = 0; i < len; i++) {\n        for (j = 0; j < dim; j++) {\n            var n = Math.round(line[i][j] * e) - sum[j];\n            coords.push(n);\n            sum[j] += n;\n        }\n    }\n}\n\nfunction isSpecialKey(key, type) {\n    if (key === 'type') return true;\n    else if (type === 'FeatureCollection') {\n        if (key === 'features') return true;\n    } else if (type === 'Feature') {\n        if (key === 'id' || key === 'properties' || key === 'geometry') return true;\n    } else if (type === 'GeometryCollection') {\n        if (key === 'geometries') return true;\n    } else if (key === 'coordinates') return true;\n    return false;\n}\n", "'use strict';\n\nmodule.exports = decode;\n\nvar keys, values, lengths, dim, e;\n\nvar geometryTypes = [\n    'Point', 'MultiPoint', 'LineString', 'MultiLineString',\n    'Polygon', 'MultiPolygon', 'GeometryCollection'];\n\nfunction decode(pbf) {\n    dim = 2;\n    e = Math.pow(10, 6);\n    lengths = null;\n\n    keys = [];\n    values = [];\n    var obj = pbf.readFields(readDataField, {});\n    keys = null;\n\n    return obj;\n}\n\nfunction readDataField(tag, obj, pbf) {\n    if (tag === 1) keys.push(pbf.readString());\n    else if (tag === 2) dim = pbf.readVarint();\n    else if (tag === 3) e = Math.pow(10, pbf.readVarint());\n\n    else if (tag === 4) readFeatureCollection(pbf, obj);\n    else if (tag === 5) readFeature(pbf, obj);\n    else if (tag === 6) readGeometry(pbf, obj);\n}\n\nfunction readFeatureCollection(pbf, obj) {\n    obj.type = 'FeatureCollection';\n    obj.features = [];\n    return pbf.readMessage(readFeatureCollectionField, obj);\n}\n\nfunction readFeature(pbf, feature) {\n    feature.type = 'Feature';\n    var f = pbf.readMessage(readFeatureField, feature);\n    if (!('geometry' in f)) f.geometry = null;\n    return f;\n}\n\nfunction readGeometry(pbf, geom) {\n    geom.type = 'Point';\n    return pbf.readMessage(readGeometryField, geom);\n}\n\nfunction readFeatureCollectionField(tag, obj, pbf) {\n    if (tag === 1) obj.features.push(readFeature(pbf, {}));\n\n    else if (tag === 13) values.push(readValue(pbf));\n    else if (tag === 15) readProps(pbf, obj);\n}\n\nfunction readFeatureField(tag, feature, pbf) {\n    if (tag === 1) feature.geometry = readGeometry(pbf, {});\n\n    else if (tag === 11) feature.id = pbf.readString();\n    else if (tag === 12) feature.id = pbf.readSVarint();\n\n    else if (tag === 13) values.push(readValue(pbf));\n    else if (tag === 14) feature.properties = readProps(pbf, {});\n    else if (tag === 15) readProps(pbf, feature);\n}\n\nfunction readGeometryField(tag, geom, pbf) {\n    if (tag === 1) geom.type = geometryTypes[pbf.readVarint()];\n\n    else if (tag === 2) lengths = pbf.readPackedVarint();\n    else if (tag === 3) readCoords(geom, pbf, geom.type);\n    else if (tag === 4) {\n        geom.geometries = geom.geometries || [];\n        geom.geometries.push(readGeometry(pbf, {}));\n    }\n    else if (tag === 13) values.push(readValue(pbf));\n    else if (tag === 15) readProps(pbf, geom);\n}\n\nfunction readCoords(geom, pbf, type) {\n    if (type === 'Point') geom.coordinates = readPoint(pbf);\n    else if (type === 'MultiPoint') geom.coordinates = readLine(pbf, true);\n    else if (type === 'LineString') geom.coordinates = readLine(pbf);\n    else if (type === 'MultiLineString') geom.coordinates = readMultiLine(pbf);\n    else if (type === 'Polygon') geom.coordinates = readMultiLine(pbf, true);\n    else if (type === 'MultiPolygon') geom.coordinates = readMultiPolygon(pbf);\n}\n\nfunction readValue(pbf) {\n    var end = pbf.readVarint() + pbf.pos,\n        value = null;\n\n    while (pbf.pos < end) {\n        var val = pbf.readVarint(),\n            tag = val >> 3;\n\n        if (tag === 1) value = pbf.readString();\n        else if (tag === 2) value = pbf.readDouble();\n        else if (tag === 3) value = pbf.readVarint();\n        else if (tag === 4) value = -pbf.readVarint();\n        else if (tag === 5) value = pbf.readBoolean();\n        else if (tag === 6) value = JSON.parse(pbf.readString());\n    }\n    return value;\n}\n\nfunction readProps(pbf, props) {\n    var end = pbf.readVarint() + pbf.pos;\n    while (pbf.pos < end) props[keys[pbf.readVarint()]] = values[pbf.readVarint()];\n    values = [];\n    return props;\n}\n\nfunction readPoint(pbf) {\n    var end = pbf.readVarint() + pbf.pos,\n        coords = [];\n    while (pbf.pos < end) coords.push(pbf.readSVarint() / e);\n    return coords;\n}\n\nfunction readLinePart(pbf, end, len, closed) {\n    var i = 0,\n        coords = [],\n        p, d;\n\n    var prevP = [];\n    for (d = 0; d < dim; d++) prevP[d] = 0;\n\n    while (len ? i < len : pbf.pos < end) {\n        p = [];\n        for (d = 0; d < dim; d++) {\n            prevP[d] += pbf.readSVarint();\n            p[d] = prevP[d] / e;\n        }\n        coords.push(p);\n        i++;\n    }\n    if (closed) coords.push(coords[0]);\n\n    return coords;\n}\n\nfunction readLine(pbf) {\n    return readLinePart(pbf, pbf.readVarint() + pbf.pos);\n}\n\nfunction readMultiLine(pbf, closed) {\n    var end = pbf.readVarint() + pbf.pos;\n    if (!lengths) return [readLinePart(pbf, end, null, closed)];\n\n    var coords = [];\n    for (var i = 0; i < lengths.length; i++) coords.push(readLinePart(pbf, end, lengths[i], closed));\n    lengths = null;\n    return coords;\n}\n\nfunction readMultiPolygon(pbf) {\n    var end = pbf.readVarint() + pbf.pos;\n    if (!lengths) return [[readLinePart(pbf, end, null, true)]];\n\n    var coords = [];\n    var j = 1;\n    for (var i = 0; i < lengths[0]; i++) {\n        var rings = [];\n        for (var k = 0; k < lengths[j]; k++) rings.push(readLinePart(pbf, end, lengths[j + 1 + k], true));\n        j += lengths[j] + 1;\n        coords.push(rings);\n    }\n    lengths = null;\n    return coords;\n}\n", "'use strict';\n\nexports.encode = require('./encode');\nexports.decode = require('./decode');\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "'use strict';\n\nmodule.exports = Pbf;\n\nvar ieee754 = require('ieee754');\n\nfunction Pbf(buf) {\n    this.buf = ArrayBuffer.isView && ArrayBuffer.isView(buf) ? buf : new Uint8Array(buf || 0);\n    this.pos = 0;\n    this.type = 0;\n    this.length = this.buf.length;\n}\n\nPbf.Varint  = 0; // varint: int32, int64, uint32, uint64, sint32, sint64, bool, enum\nPbf.Fixed64 = 1; // 64-bit: double, fixed64, sfixed64\nPbf.Bytes   = 2; // length-delimited: string, bytes, embedded messages, packed repeated fields\nPbf.Fixed32 = 5; // 32-bit: float, fixed32, sfixed32\n\nvar SHIFT_LEFT_32 = (1 << 16) * (1 << 16),\n    SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32;\n\n// Threshold chosen based on both benchmarking and knowledge about browser string\n// data structures (which currently switch structure types at 12 bytes or more)\nvar TEXT_DECODER_MIN_LENGTH = 12;\nvar utf8TextDecoder = typeof TextDecoder === 'undefined' ? null : new TextDecoder('utf-8');\n\nPbf.prototype = {\n\n    destroy: function() {\n        this.buf = null;\n    },\n\n    // === READING =================================================================\n\n    readFields: function(readField, result, end) {\n        end = end || this.length;\n\n        while (this.pos < end) {\n            var val = this.readVarint(),\n                tag = val >> 3,\n                startPos = this.pos;\n\n            this.type = val & 0x7;\n            readField(tag, result, this);\n\n            if (this.pos === startPos) this.skip(val);\n        }\n        return result;\n    },\n\n    readMessage: function(readField, result) {\n        return this.readFields(readField, result, this.readVarint() + this.pos);\n    },\n\n    readFixed32: function() {\n        var val = readUInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    readSFixed32: function() {\n        var val = readInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    // 64-bit int handling is based on github.com/dpw/node-buffer-more-ints (MIT-licensed)\n\n    readFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readUInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readSFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readFloat: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 23, 4);\n        this.pos += 4;\n        return val;\n    },\n\n    readDouble: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 52, 8);\n        this.pos += 8;\n        return val;\n    },\n\n    readVarint: function(isSigned) {\n        var buf = this.buf,\n            val, b;\n\n        b = buf[this.pos++]; val  =  b & 0x7f;        if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 7;  if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 14; if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 21; if (b < 0x80) return val;\n        b = buf[this.pos];   val |= (b & 0x0f) << 28;\n\n        return readVarintRemainder(val, isSigned, this);\n    },\n\n    readVarint64: function() { // for compatibility with v2.0.1\n        return this.readVarint(true);\n    },\n\n    readSVarint: function() {\n        var num = this.readVarint();\n        return num % 2 === 1 ? (num + 1) / -2 : num / 2; // zigzag encoding\n    },\n\n    readBoolean: function() {\n        return Boolean(this.readVarint());\n    },\n\n    readString: function() {\n        var end = this.readVarint() + this.pos;\n        var pos = this.pos;\n        this.pos = end;\n\n        if (end - pos >= TEXT_DECODER_MIN_LENGTH && utf8TextDecoder) {\n            // longer strings are fast with the built-in browser TextDecoder API\n            return readUtf8TextDecoder(this.buf, pos, end);\n        }\n        // short strings are fast with our custom implementation\n        return readUtf8(this.buf, pos, end);\n    },\n\n    readBytes: function() {\n        var end = this.readVarint() + this.pos,\n            buffer = this.buf.subarray(this.pos, end);\n        this.pos = end;\n        return buffer;\n    },\n\n    // verbose for performance reasons; doesn't affect gzipped size\n\n    readPackedVarint: function(arr, isSigned) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readVarint(isSigned));\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readVarint(isSigned));\n        return arr;\n    },\n    readPackedSVarint: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSVarint());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSVarint());\n        return arr;\n    },\n    readPackedBoolean: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readBoolean());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readBoolean());\n        return arr;\n    },\n    readPackedFloat: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFloat());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFloat());\n        return arr;\n    },\n    readPackedDouble: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readDouble());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readDouble());\n        return arr;\n    },\n    readPackedFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed32());\n        return arr;\n    },\n    readPackedSFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed32());\n        return arr;\n    },\n    readPackedFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed64());\n        return arr;\n    },\n    readPackedSFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed64());\n        return arr;\n    },\n\n    skip: function(val) {\n        var type = val & 0x7;\n        if (type === Pbf.Varint) while (this.buf[this.pos++] > 0x7f) {}\n        else if (type === Pbf.Bytes) this.pos = this.readVarint() + this.pos;\n        else if (type === Pbf.Fixed32) this.pos += 4;\n        else if (type === Pbf.Fixed64) this.pos += 8;\n        else throw new Error('Unimplemented type: ' + type);\n    },\n\n    // === WRITING =================================================================\n\n    writeTag: function(tag, type) {\n        this.writeVarint((tag << 3) | type);\n    },\n\n    realloc: function(min) {\n        var length = this.length || 16;\n\n        while (length < this.pos + min) length *= 2;\n\n        if (length !== this.length) {\n            var buf = new Uint8Array(length);\n            buf.set(this.buf);\n            this.buf = buf;\n            this.length = length;\n        }\n    },\n\n    finish: function() {\n        this.length = this.pos;\n        this.pos = 0;\n        return this.buf.subarray(0, this.length);\n    },\n\n    writeFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeSFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeSFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeVarint: function(val) {\n        val = +val || 0;\n\n        if (val > 0xfffffff || val < 0) {\n            writeBigVarint(val, this);\n            return;\n        }\n\n        this.realloc(4);\n\n        this.buf[this.pos++] =           val & 0x7f  | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] =   (val >>> 7) & 0x7f;\n    },\n\n    writeSVarint: function(val) {\n        this.writeVarint(val < 0 ? -val * 2 - 1 : val * 2);\n    },\n\n    writeBoolean: function(val) {\n        this.writeVarint(Boolean(val));\n    },\n\n    writeString: function(str) {\n        str = String(str);\n        this.realloc(str.length * 4);\n\n        this.pos++; // reserve 1 byte for short string length\n\n        var startPos = this.pos;\n        // write the string directly to the buffer and see how much was written\n        this.pos = writeUtf8(this.buf, str, this.pos);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeFloat: function(val) {\n        this.realloc(4);\n        ieee754.write(this.buf, val, this.pos, true, 23, 4);\n        this.pos += 4;\n    },\n\n    writeDouble: function(val) {\n        this.realloc(8);\n        ieee754.write(this.buf, val, this.pos, true, 52, 8);\n        this.pos += 8;\n    },\n\n    writeBytes: function(buffer) {\n        var len = buffer.length;\n        this.writeVarint(len);\n        this.realloc(len);\n        for (var i = 0; i < len; i++) this.buf[this.pos++] = buffer[i];\n    },\n\n    writeRawMessage: function(fn, obj) {\n        this.pos++; // reserve 1 byte for short message length\n\n        // write the message directly to the buffer and see how much was written\n        var startPos = this.pos;\n        fn(obj, this);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeMessage: function(tag, fn, obj) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeRawMessage(fn, obj);\n    },\n\n    writePackedVarint:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedVarint, arr);   },\n    writePackedSVarint:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSVarint, arr);  },\n    writePackedBoolean:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedBoolean, arr);  },\n    writePackedFloat:    function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFloat, arr);    },\n    writePackedDouble:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedDouble, arr);   },\n    writePackedFixed32:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed32, arr);  },\n    writePackedSFixed32: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed32, arr); },\n    writePackedFixed64:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed64, arr);  },\n    writePackedSFixed64: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed64, arr); },\n\n    writeBytesField: function(tag, buffer) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeBytes(buffer);\n    },\n    writeFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFixed32(val);\n    },\n    writeSFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeSFixed32(val);\n    },\n    writeFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeFixed64(val);\n    },\n    writeSFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeSFixed64(val);\n    },\n    writeVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeVarint(val);\n    },\n    writeSVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeSVarint(val);\n    },\n    writeStringField: function(tag, str) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeString(str);\n    },\n    writeFloatField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFloat(val);\n    },\n    writeDoubleField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeDouble(val);\n    },\n    writeBooleanField: function(tag, val) {\n        this.writeVarintField(tag, Boolean(val));\n    }\n};\n\nfunction readVarintRemainder(l, s, p) {\n    var buf = p.buf,\n        h, b;\n\n    b = buf[p.pos++]; h  = (b & 0x70) >> 4;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 3;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 10; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 17; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 24; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x01) << 31; if (b < 0x80) return toNum(l, h, s);\n\n    throw new Error('Expected varint not more than 10 bytes');\n}\n\nfunction readPackedEnd(pbf) {\n    return pbf.type === Pbf.Bytes ?\n        pbf.readVarint() + pbf.pos : pbf.pos + 1;\n}\n\nfunction toNum(low, high, isSigned) {\n    if (isSigned) {\n        return high * 0x100000000 + (low >>> 0);\n    }\n\n    return ((high >>> 0) * 0x100000000) + (low >>> 0);\n}\n\nfunction writeBigVarint(val, pbf) {\n    var low, high;\n\n    if (val >= 0) {\n        low  = (val % 0x100000000) | 0;\n        high = (val / 0x100000000) | 0;\n    } else {\n        low  = ~(-val % 0x100000000);\n        high = ~(-val / 0x100000000);\n\n        if (low ^ 0xffffffff) {\n            low = (low + 1) | 0;\n        } else {\n            low = 0;\n            high = (high + 1) | 0;\n        }\n    }\n\n    if (val >= 0x10000000000000000 || val < -0x10000000000000000) {\n        throw new Error('Given varint doesn\\'t fit into 10 bytes');\n    }\n\n    pbf.realloc(10);\n\n    writeBigVarintLow(low, high, pbf);\n    writeBigVarintHigh(high, pbf);\n}\n\nfunction writeBigVarintLow(low, high, pbf) {\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos]   = low & 0x7f;\n}\n\nfunction writeBigVarintHigh(high, pbf) {\n    var lsb = (high & 0x07) << 4;\n\n    pbf.buf[pbf.pos++] |= lsb         | ((high >>>= 3) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f;\n}\n\nfunction makeRoomForExtraLength(startPos, len, pbf) {\n    var extraLen =\n        len <= 0x3fff ? 1 :\n        len <= 0x1fffff ? 2 :\n        len <= 0xfffffff ? 3 : Math.floor(Math.log(len) / (Math.LN2 * 7));\n\n    // if 1 byte isn't enough for encoding message length, shift the data to the right\n    pbf.realloc(extraLen);\n    for (var i = pbf.pos - 1; i >= startPos; i--) pbf.buf[i + extraLen] = pbf.buf[i];\n}\n\nfunction writePackedVarint(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeVarint(arr[i]);   }\nfunction writePackedSVarint(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeSVarint(arr[i]);  }\nfunction writePackedFloat(arr, pbf)    { for (var i = 0; i < arr.length; i++) pbf.writeFloat(arr[i]);    }\nfunction writePackedDouble(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeDouble(arr[i]);   }\nfunction writePackedBoolean(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeBoolean(arr[i]);  }\nfunction writePackedFixed32(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed32(arr[i]);  }\nfunction writePackedSFixed32(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed32(arr[i]); }\nfunction writePackedFixed64(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed64(arr[i]);  }\nfunction writePackedSFixed64(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed64(arr[i]); }\n\n// Buffer code below from https://github.com/feross/buffer, MIT-licensed\n\nfunction readUInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] * 0x1000000);\n}\n\nfunction writeInt32(buf, val, pos) {\n    buf[pos] = val;\n    buf[pos + 1] = (val >>> 8);\n    buf[pos + 2] = (val >>> 16);\n    buf[pos + 3] = (val >>> 24);\n}\n\nfunction readInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] << 24);\n}\n\nfunction readUtf8(buf, pos, end) {\n    var str = '';\n    var i = pos;\n\n    while (i < end) {\n        var b0 = buf[i];\n        var c = null; // codepoint\n        var bytesPerSequence =\n            b0 > 0xEF ? 4 :\n            b0 > 0xDF ? 3 :\n            b0 > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence > end) break;\n\n        var b1, b2, b3;\n\n        if (bytesPerSequence === 1) {\n            if (b0 < 0x80) {\n                c = b0;\n            }\n        } else if (bytesPerSequence === 2) {\n            b1 = buf[i + 1];\n            if ((b1 & 0xC0) === 0x80) {\n                c = (b0 & 0x1F) << 0x6 | (b1 & 0x3F);\n                if (c <= 0x7F) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 3) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0xC | (b1 & 0x3F) << 0x6 | (b2 & 0x3F);\n                if (c <= 0x7FF || (c >= 0xD800 && c <= 0xDFFF)) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 4) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            b3 = buf[i + 3];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0x12 | (b1 & 0x3F) << 0xC | (b2 & 0x3F) << 0x6 | (b3 & 0x3F);\n                if (c <= 0xFFFF || c >= 0x110000) {\n                    c = null;\n                }\n            }\n        }\n\n        if (c === null) {\n            c = 0xFFFD;\n            bytesPerSequence = 1;\n\n        } else if (c > 0xFFFF) {\n            c -= 0x10000;\n            str += String.fromCharCode(c >>> 10 & 0x3FF | 0xD800);\n            c = 0xDC00 | c & 0x3FF;\n        }\n\n        str += String.fromCharCode(c);\n        i += bytesPerSequence;\n    }\n\n    return str;\n}\n\nfunction readUtf8TextDecoder(buf, pos, end) {\n    return utf8TextDecoder.decode(buf.subarray(pos, end));\n}\n\nfunction writeUtf8(buf, str, pos) {\n    for (var i = 0, c, lead; i < str.length; i++) {\n        c = str.charCodeAt(i); // code point\n\n        if (c > 0xD7FF && c < 0xE000) {\n            if (lead) {\n                if (c < 0xDC00) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                    lead = c;\n                    continue;\n                } else {\n                    c = lead - 0xD800 << 10 | c - 0xDC00 | 0x10000;\n                    lead = null;\n                }\n            } else {\n                if (c > 0xDBFF || (i + 1 === str.length)) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                } else {\n                    lead = c;\n                }\n                continue;\n            }\n        } else if (lead) {\n            buf[pos++] = 0xEF;\n            buf[pos++] = 0xBF;\n            buf[pos++] = 0xBD;\n            lead = null;\n        }\n\n        if (c < 0x80) {\n            buf[pos++] = c;\n        } else {\n            if (c < 0x800) {\n                buf[pos++] = c >> 0x6 | 0xC0;\n            } else {\n                if (c < 0x10000) {\n                    buf[pos++] = c >> 0xC | 0xE0;\n                } else {\n                    buf[pos++] = c >> 0x12 | 0xF0;\n                    buf[pos++] = c >> 0xC & 0x3F | 0x80;\n                }\n                buf[pos++] = c >> 0x6 & 0x3F | 0x80;\n            }\n            buf[pos++] = c & 0x3F | 0x80;\n        }\n    }\n    return pos;\n}\n", "/**\n * check value type\n * @param value the value to check\n * @param type type\n * @returns\n */\nconst isType = (value: any, type: string): boolean => Object.prototype.toString.call(value) === `[object ${type}]`;\n\nexport default isType;\n", "import isType from './isType';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n * @param {*} value The value to check.\n * @param {boolean} fuzzy Whether to perform fuzzy judgment, for better performance，default to `false`.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * isBoolean(false)\n * // => true\n *\n * isBoolean(null)\n * // => false\n */\nconst isBoolean = (value: any, fuzzy: boolean = false): value is boolean => {\n  if (fuzzy) {\n    return typeof value === 'boolean';\n  }\n  return value === true || value === false || isType(value, 'Boolean');\n};\n\nexport default isBoolean;\n", "/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * isFunction(class Any{})\n * // => true\n *\n * isFunction(() => {})\n * // => true\n *\n * isFunction(async () => {})\n * // => true\n *\n * isFunction(function * Any() {})\n * // => true\n *\n * isFunction(Math.round)\n * // => true\n *\n * isFunction(/abc/)\n * // => false\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isFunction = (value: any): value is Function => {\n  return typeof value === 'function';\n};\n\nexport default isFunction;\n", "const isNil = (value: any): value is null | undefined => {\n  return value === null || value === undefined;\n};\n\nexport default isNil;\n", "const isValid = <T>(value: T): value is NonNullable<T> => {\n  return value !== null && value !== undefined;\n};\n\nexport default isValid;\n", "/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * isObject({})\n * // => true\n *\n * isObject([1, 2, 3])\n * // => true\n *\n * isObject(Function)\n * // => true\n *\n * isObject(null)\n * // => false\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isObject = <T = object>(value: any): value is T => {\n  const type = typeof value;\n  return (value !== null && type === 'object') || type === 'function';\n};\n\nexport default isObject;\n", "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * isObjectLike({})\n * // => true\n *\n * isObjectLike([1, 2, 3])\n * // => true\n *\n * isObjectLike(Function)\n * // => false\n *\n * isObjectLike(null)\n * // => false\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isObjectLike = (value: any): value is object | Function | Array<any> => {\n  return typeof value === 'object' && value !== null;\n};\n\nexport default isObjectLike;\n", "import isObjectLike from './isObjectLike';\nimport isType from './isType';\n\n/**\n * @see https://github.com/lodash/lodash/blob/master/isPlainObject.js\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1\n * }\n *\n * isPlainObject(new Foo)\n * // => false\n *\n * isPlainObject([1, 2, 3])\n * // => false\n *\n * isPlainObject({ 'x': 0, 'y': 0 })\n * // => true\n *\n * isPlainObject(Object.create(null))\n * // => true\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isPlainObject = function (value: any): value is object {\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\nexport default isPlainObject;\n", "const isUndefined = (value: any): value is undefined => {\n  return value === undefined;\n};\n\nexport default isUndefined;\n", "import isType from './isType';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n * @param {*} value The value to check.\n * @param {boolean} fuzzy Whether to perform fuzzy judgment, for better performance，default to `false`.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * isString('abc')\n * // => true\n *\n * isString(1)\n * // => false\n */\nconst isString = (value: any, fuzzy: boolean = false): value is string => {\n  const type = typeof value;\n  if (fuzzy) {\n    return type === 'string';\n  }\n\n  return type === 'string' || isType(value, 'String');\n};\n\nexport default isString;\n", "import isType from './isType';\n\nconst isArray = (value: any): value is Array<any> => {\n  return Array.isArray ? Array.isArray(value) : isType(value, 'Array');\n};\n\nexport default isArray;\n", "import isType from './isType';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `Number.isFinite` method.\n *\n * @param {*} value The value to check.\n * @param {boolean} fuzzy Whether to perform fuzzy judgment, for better performance，default to `false`.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * isNumber(3)\n * // => true\n *\n * isNumber(Number.MIN_VALUE)\n * // => true\n *\n * isNumber(Infinity)\n * // => true\n *\n * isNumber('3')\n * // => false\n */\nconst isNumber = (value: any, fuzzy: boolean = false): value is number => {\n  const type = typeof value;\n  if (fuzzy) {\n    return type === 'number';\n  }\n  return type === 'number' || isType(value, 'Number');\n};\n\nexport default isNumber;\n", "/**\n * Checks if `value` is classified as a legal string number\n *\n * @param {*} value The string value to check.\n * @returns {boolean} Returns `true` if `value` is a legal string number, else `false`.\n * @example\n *\n * isNumeric(1)\n * // => false\n *\n * isNumeric('2.0')\n * // => true\n *\n * isNumeric('3a')\n * // => false\n *\n * isNumeric('4.a')\n * // => false\n *\n * isNumeric(Infinity)\n * // => false\n *\n * isNumeric('01')\n * // => true\n */\nconst isNumeric = (value: string): boolean => {\n  if (typeof value !== 'string') {\n    return false;\n  }\n  return !isNaN(Number(value)) && !isNaN(parseFloat(value));\n};\n\nexport default isNumeric;\n", "import isNumber from './isNumber';\n\nconst isValidNumber = (value: any): value is number => {\n  // isFinate 包含来 isNaN 的判断\n  return isNumber(value) && Number.isFinite(value);\n};\n\nexport default isValidNumber;\n", "const isArrayLike = function (value: any): boolean {\n  return value !== null && typeof value !== 'function' && Number.isFinite(value.length);\n};\n\nexport default isArrayLike;\n", "const getType = (value: any): string => {\n  return {}.toString\n    .call(value)\n    .replace(/^\\[object /, '')\n    .replace(/]$/, '');\n};\n\nexport default getType;\n", "const objectProto = Object.prototype, isPrototype = function(value) {\n    const Ctor = value && value.constructor;\n    return value === (\"function\" == typeof Ctor && Ctor.prototype || objectProto);\n};\n\nexport default isPrototype;", "import isNil from './isNil';\nimport isArrayLike from './isArrayLike';\nimport getType from './getType';\nimport isPrototype from './isPrototype';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isEmpty(value: any): boolean {\n  /**\n   * isEmpty(null) => true\n   * isEmpty() => true\n   * isEmpty(true) => true\n   * isEmpty(1) => true\n   * isEmpty([1, 2, 3]) => false\n   * isEmpty('abc') => false\n   * isEmpty({ a: 1 }) => false\n   */\n  if (isNil(value)) {\n    return true;\n  }\n  if (isArrayLike(value)) {\n    return !value.length;\n  }\n  // TODO: 这里需要优化下\n  const type = getType(value);\n  if (type === 'Map' || type === 'Set') {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !Object.keys(value).length;\n  }\n  for (const key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport default isEmpty;\n", "import type { Dict } from '../type';\nimport isString from './isString';\n\nconst get = (obj: Dict<any>, path: string | string[], defaultValue?: any): any => {\n  const paths = isString(path) ? (path as string).split('.') : path;\n\n  for (let p = 0; p < paths.length; p++) {\n    obj = obj ? obj[paths[p]] : undefined;\n  }\n  return obj === undefined ? defaultValue : obj;\n};\n\nexport default get;\n", "import isType from './isType';\n\nconst isDate = (value: any): value is Date => {\n  return isType(value, 'Date');\n};\n\nexport default isDate;\n", "import isArray from './isArray';\nimport isBoolean from './isBoolean';\nimport isDate from './isDate';\nimport isNumber from './isNumber';\nimport isString from './isString';\nimport isValid from './isValid';\n\nexport default function cloneDeep(value: any, ignoreWhen?: (value: any) => boolean, excludeKeys?: string[]): any {\n  let result;\n  if (!isValid(value) || typeof value !== 'object' || (ignoreWhen && ignoreWhen(value))) {\n    return value;\n  }\n\n  const isArr = isArray(value);\n  const length = value.length;\n  // 不考虑特殊数组的额外处理\n  if (isArr) {\n    result = new Array(length);\n  }\n  // 不考虑 buffer / arguments 类型的处理以及 prototype 的额外处理\n  else if (typeof value === 'object') {\n    result = {};\n  }\n  // 不建议使用作为 Boolean / Number / String 作为构造器\n  else if (isBoolean(value) || isNumber(value) || isString(value)) {\n    result = value;\n  } else if (isDate(value)) {\n    result = new Date(+value);\n  }\n  // 不考虑 ArrayBuffer / DataView / TypedArray / map / set / regexp / symbol 类型\n  else {\n    result = undefined;\n  }\n\n  // 不考虑 map / set / TypedArray 类型的赋值\n\n  // 不考虑对象的 symbol 属性\n  const props = isArr ? undefined : Object.keys(Object(value));\n\n  let index = -1;\n  if (result) {\n    while (++index < (props || value).length) {\n      const key = props ? props[index] : index;\n      const subValue = value[key];\n\n      if (excludeKeys && excludeKeys.includes(key.toString())) {\n        result[key] = subValue;\n      } else {\n        result[key] = cloneDeep(subValue, ignoreWhen, excludeKeys);\n      }\n    }\n  }\n  return result;\n}\n", "import isArray from './isArray';\nimport isArrayLike from './isArrayLike';\nimport isPlainObject from './isPlainObject';\nimport isValid from './isValid';\n\nexport function baseMerge(target: any, source: any, shallowArray: boolean = false, skipTargetArray: boolean = false) {\n  if (source) {\n    if (target === source) {\n      return;\n    }\n    if (isValid(source) && typeof source === 'object') {\n      // baseFor\n      const iterable = Object(source);\n      const props = [];\n      // keysIn\n      for (const key in iterable) {\n        props.push(key);\n      }\n      let { length } = props;\n      let propIndex = -1;\n      while (length--) {\n        const key = props[++propIndex];\n        // skipArray 这个是vchart spec的特有逻辑\n        if (\n          isValid(iterable[key]) &&\n          typeof iterable[key] === 'object' &&\n          (!skipTargetArray || !isArray(target[key]))\n        ) {\n          baseMergeDeep(target, source, key, shallowArray, skipTargetArray);\n        } else {\n          assignMergeValue(target, key, iterable[key]);\n        }\n      }\n    }\n  }\n}\n\n// 由于目前 ChartSpace 内部对 spec 会先执行一次深拷贝，merge 暂时不考虑 source 中有环的问题\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction baseMergeDeep(\n  target: object,\n  source: object,\n  key: string,\n  shallowArray: boolean = false,\n  skipTargetArray: boolean = false\n) {\n  const objValue = target[key];\n  const srcValue = source[key];\n  let newValue = source[key];\n  let isCommon = true;\n  // 不考虑 buffer / typedArray 类型\n  if (isArray(srcValue)) {\n    if (shallowArray) {\n      // 依据参数对数组做浅拷贝\n      newValue = [];\n    } else if (isArray(objValue)) {\n      newValue = objValue;\n    } else if (isArrayLike(objValue)) {\n      // 如果 source 为数组，则 target 的 arrayLike 对象也视作为数组处理\n      newValue = new Array(objValue.length);\n      let index = -1;\n      const length = objValue.length;\n      while (++index < length) {\n        newValue[index] = objValue[index];\n      }\n    }\n  }\n  // else if (isArray(srcValue) && shallowArray) {\n  //   newValue = [];\n  // }\n  // 不考虑 argument 类型\n  else if (isPlainObject(srcValue)) {\n    newValue = objValue ?? {};\n    // 不考虑 prototype 的额外处理\n    if (typeof objValue === 'function' || typeof objValue !== 'object') {\n      newValue = {};\n    }\n  } else {\n    isCommon = false;\n  }\n  // 对 class 等复杂对象或者浅拷贝的 array 不做拷贝处理\n  if (isCommon) {\n    baseMerge(newValue, srcValue, shallowArray, skipTargetArray);\n  }\n  assignMergeValue(target, key, newValue);\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction assignMergeValue(target: object, key: string, value: any) {\n  if ((value !== undefined && !eq(target[key], value)) || (value === undefined && !(key in target))) {\n    // 不考虑 __proto__ 的赋值处理\n    target[key] = value;\n  }\n}\n\nfunction eq(value: any, other: any) {\n  return value === other || (Number.isNaN(value) && Number.isNaN(other));\n}\n\n// 与原生的 lodash merge 差异在于对数组是否应用最后一个 source 的结果\n// 例如 lineDash 等 spec 的 merge 使用这一操作更合适\nexport default function merge(target: any, ...sources: any[]): any {\n  let sourceIndex = -1;\n  const length = sources.length;\n  while (++sourceIndex < length) {\n    const source = sources[sourceIndex];\n    baseMerge(target, source, true);\n  }\n  return target;\n}\n", "import isPlainObject from './isPlainObject';\nimport isString from './isString';\n\nexport default function pickWithout<T extends Record<string, any>>(obj: T, keys: (string | RegExp)[]): Partial<T> {\n  if (!obj || !isPlainObject(obj)) {\n    return obj;\n  }\n  const result = {};\n\n  Object.keys(obj).forEach((k: string) => {\n    const v = obj[k];\n\n    let match = false;\n\n    keys.forEach(itKey => {\n      if (isString(itKey) && itKey === k) {\n        match = true;\n      } else if (itKey instanceof RegExp && k.match(itKey)) {\n        match = true;\n      }\n    });\n\n    if (!match) {\n      result[k] = v;\n    }\n  });\n\n  return result as Partial<T>;\n}\n", "import isArray from './isArray';\nimport isFunction from './isFunction';\nimport isPlainObject from './isPlainObject';\n\nfunction objToString(obj: any) {\n  return Object.prototype.toString.call(obj);\n}\n\nfunction objectKeys(obj: any) {\n  return Object.keys(obj);\n}\n\n// Adapted from https://github.com/antvis/F2/blob/master/packages/f2/src/base/equal.ts by zengyue\n// License: https://github.com/antvis/F2/blob/master/packages/f2/LICENSE\nexport function isEqual(a: any, b: any, options?: { skipFunction?: boolean }): boolean {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  // null 和 undefined\n  if (a == null || b == null) {\n    return false;\n  }\n\n  // 特殊处理NaN\n  if (Number.isNaN(a) && Number.isNaN(b)) {\n    return true;\n  }\n\n  if (objToString(a) !== objToString(b)) {\n    return false;\n  }\n\n  // 如果是function，则不相等\n  if (isFunction(a)) {\n    return !!options?.skipFunction;\n  }\n\n  // 值类型，Number String Boolean\n  if (typeof a !== 'object') {\n    return false;\n  }\n\n  if (isArray(a)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = a.length - 1; i >= 0; i--) {\n      if (!isEqual(a[i], b[i], options)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if (!isPlainObject(a)) {\n    return false;\n  }\n\n  const ka = objectKeys(a);\n  const kb = objectKeys(b);\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) {\n    return false;\n  }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (let i = ka.length - 1; i >= 0; i--) {\n    // eslint-disable-next-line eqeqeq\n    if (ka[i] != kb[i]) {\n      return false;\n    }\n  }\n\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (let i = ka.length - 1; i >= 0; i--) {\n    const key = ka[i];\n    if (!isEqual(a[key], b[key], options)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n", "import type { Dict } from '../type';\n\nexport type KeyOfDistributive<T> = T extends unknown ? keyof T : never;\n\n// eslint-disable-next-line @typescript-eslint/no-unnecessary-type-constraint\nexport function keys<T extends any>(obj: T): (KeyOfDistributive<T> & string)[] {\n  if (!obj) {\n    return [];\n  }\n  // Return type should be `keyof T` but exclude `number`, becuase\n  // `Object.keys` only return string rather than `number | string`.\n  type TKeys = KeyOfDistributive<T> & string;\n  if (Object.keys) {\n    return Object.keys(obj) as TKeys[];\n  }\n  const keyList: TKeys[] = [];\n  for (const key in obj) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (obj.hasOwnProperty(key)) {\n      keyList.push(key as any);\n    }\n  }\n  return keyList;\n}\n\nexport function defaults<T extends Dict<any>, S extends Dict<any>>(target: T, source: S, overlay?: boolean): T & S {\n  const keysArr = keys(source);\n  for (let i = 0; i < keysArr.length; i++) {\n    const key = keysArr[i];\n    if (overlay ? source[key] != null : (target as T & S)[key] == null) {\n      (target as S & T)[key] = (source as T & S)[key];\n    }\n  }\n  return target as T & S;\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function mixin<T, S>(target: T | Function, source: S | Function, override: boolean = true) {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  target = 'prototype' in target ? target.prototype : target;\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  source = 'prototype' in source ? source.prototype : source;\n  // If build target is ES6 class. prototype methods is not enumerable. Use getOwnPropertyNames instead\n  // TODO: Determine if source is ES6 class?\n  if (Object.getOwnPropertyNames) {\n    const keyList = Object.getOwnPropertyNames(source);\n    for (let i = 0; i < keyList.length; i++) {\n      const key = keyList[i];\n      if (key !== 'constructor') {\n        if (override ? (source as any)[key] != null : (target as any)[key] == null) {\n          (target as any)[key] = (source as any)[key];\n        }\n      }\n    }\n  } else {\n    defaults(target as Dict<any>, source as Dict<any>, override);\n  }\n}\n", "import isArray from './isArray';\nimport isArrayLike from './isArrayLike';\nimport isValid from './isValid';\n\n/**\n * 将传入数据转换为数组格式\n * @param arr 入参。\n * @returns 数组\n */\nexport function array<T>(arr?: T | T[]): T[] {\n  if (isValid(arr)) {\n    return isArray(arr) ? arr : [arr];\n  }\n  return [];\n}\n\n/**\n * 获取数组的最后一个值，如果传入的参数为非数组，则返回 undefined\n * @param val any\n * @returns\n */\nexport function last<T>(val: T | T[]): T | undefined {\n  if (isArrayLike(val)) {\n    const arr = val as ArrayLike<any>;\n    return arr[arr.length - 1];\n  }\n  return undefined;\n}\n\n/**\n * 获取数组第一项与最后一项的差值，如果数组为空\b则返回 0\n * @param arr\n * @returns\n */\nexport const span = (arr: number[]) => {\n  if (arr.length <= 1) {\n    return 0;\n  }\n  return (last(arr) as number) - arr[0];\n};\n\n/**\n * 获取数组中的最大值\n * @param arr 数组\n * @param compareFn 比较函数，返回正数表示 a > b，返回负数表示 a < b，返回 0 表示相等\n * @returns\n */\nexport const maxInArray = <T>(arr: T[], compareFn?: (a: T, b: T) => number): T | undefined => {\n  if (arr.length === 0) {\n    return undefined;\n  }\n  let max = arr[0];\n  for (let i = 1; i < arr.length; i++) {\n    const value = arr[i];\n    if ((compareFn?.(value, max) ?? (value as number) - (max as number)) > 0) {\n      max = value;\n    }\n  }\n  return max;\n};\n\n/**\n * 获取数组中的最小值\n * @param arr 数组\n * @param compareFn 比较函数，返回正数表示 a > b，返回负数表示 a < b，返回 0 表示相等\n * @returns\n */\nexport const minInArray = <T>(arr: T[], compareFn?: (a: T, b: T) => number): T | undefined => {\n  if (arr.length === 0) {\n    return undefined;\n  }\n  let min = arr[0];\n  for (let i = 1; i < arr.length; i++) {\n    const value = arr[i];\n    if ((compareFn?.(value, min) ?? (value as number) - (min as number)) < 0) {\n      min = value;\n    }\n  }\n  return min;\n};\n\n/**\n * 判断两个数组是否相同\n * @param a\n * @param b\n * @returns\n */\nexport function arrayEqual(a: any, b: any): boolean {\n  if (!isArray(a) || !isArray(b)) {\n    return false;\n  }\n  if (a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * 封装并返回无重复的数组\n * @param arr\n * @returns\n */\nexport function uniqArray<T>(arr: T | T[]): T | T[] {\n  if (!arr || !isArray(arr)) {\n    return arr;\n  }\n  return Array.from(new Set(array(arr)));\n}\n\n// Based on http://jsfromhell.com/array/shuffle\nexport function shuffleArray<T>(arr: T[], random: () => number = Math.random): T[] {\n  let j;\n  let x;\n  let i = arr.length;\n\n  while (i) {\n    j = Math.floor(random() * i);\n    x = arr[--i];\n    arr[i] = arr[j];\n    arr[j] = x;\n  }\n  return arr;\n}\n\n/**\n * 展开多层数组，非数组内容将变为 [input]\n * @param arr\n * @returns\n */\nexport function flattenArray(arr: any): any[] {\n  if (!isArray(arr)) {\n    return [arr];\n  }\n  const result = [];\n  for (const value of arr) {\n    result.push(...flattenArray(value));\n  }\n  return result;\n}\n", "/* Adapted from vega by University of Washington Interactive Data Lab\n * https://vega.github.io/vega/\n * Licensed under the BSD-3-Clause\n\n * url: https://github.com/vega/vega/blob/main/packages/vega-util/src/logger.js\n * License: https://github.com/vega/vega/blob/main/LICENSE\n * @license\n */\n\nimport isNumber from './common/isNumber';\nimport type { ILogger } from './type';\n\n// check console\nconst hasConsole = typeof console !== 'undefined';\n\nfunction log(method: string, level: any, input: any) {\n  const args = [level].concat([].slice.call(input));\n\n  if (hasConsole) {\n    // eslint-disable-next-line prefer-spread, no-undef\n    console[method].apply(console, args); // eslint-disable-line no-console\n  }\n}\n\nexport enum LoggerLevel {\n  None = 0,\n  Error = 1,\n  Warn = 2,\n  Info = 3,\n  Debug = 4\n}\n\ntype ErrorHandler = (...args: any[]) => void;\n\nexport class Logger implements ILogger {\n  private static _instance: ILogger = null;\n\n  static getInstance(level?: number, method?: string) {\n    if (Logger._instance && isNumber(level)) {\n      Logger._instance.level(level);\n    } else if (!Logger._instance) {\n      Logger._instance = new Logger(level, method);\n    }\n    return Logger._instance;\n  }\n  static setInstance(logger: ILogger) {\n    return (Logger._instance = logger);\n  }\n\n  static setInstanceLevel(level: number) {\n    if (Logger._instance) {\n      Logger._instance.level(level);\n    } else {\n      Logger._instance = new Logger(level);\n    }\n  }\n\n  static clearInstance() {\n    Logger._instance = null;\n  }\n\n  private _level: number;\n\n  private _method: string;\n\n  private _onErrorHandler: ErrorHandler[] = [];\n\n  constructor(level: number = LoggerLevel.None, method?: string) {\n    this._level = level;\n    this._method = method;\n  }\n\n  addErrorHandler(handler: ErrorHandler) {\n    if (this._onErrorHandler.find(h => h === handler)) {\n      return;\n    }\n    this._onErrorHandler.push(handler);\n  }\n\n  removeErrorHandler(handler: ErrorHandler) {\n    const index = this._onErrorHandler.findIndex(h => h === handler);\n    if (index < 0) {\n      return;\n    }\n    this._onErrorHandler.splice(index, 1);\n  }\n\n  callErrorHandler(...args: any[]) {\n    this._onErrorHandler.forEach(h => h(...args));\n  }\n\n  canLogInfo() {\n    return this._level >= LoggerLevel.Info;\n  }\n\n  canLogDebug() {\n    return this._level >= LoggerLevel.Debug;\n  }\n\n  canLogError() {\n    return this._level >= LoggerLevel.Error;\n  }\n\n  canLogWarn() {\n    return this._level >= LoggerLevel.Warn;\n  }\n\n  level(): number;\n  level(levelValue: number): this;\n  level(levelValue?: number) {\n    if (arguments.length) {\n      this._level = +levelValue;\n      return this;\n    }\n\n    return this._level;\n  }\n\n  error(...args: any[]) {\n    if (this._level >= LoggerLevel.Error) {\n      if (this._onErrorHandler.length) {\n        this.callErrorHandler(...args);\n      } else {\n        log(this._method ?? 'error', 'ERROR', args);\n      }\n    }\n    return this;\n  }\n\n  warn(...args: any[]) {\n    if (this._level >= LoggerLevel.Warn) {\n      log(this._method || 'warn', 'WARN', args);\n    }\n    return this;\n  }\n\n  info(...args: any[]) {\n    if (this._level >= LoggerLevel.Info) {\n      log(this._method || 'log', 'INFO', args);\n    }\n    return this;\n  }\n\n  debug(...args: any[]) {\n    if (this._level >= LoggerLevel.Debug) {\n      log(this._method || 'log', 'DEBUG', args);\n    }\n    return this;\n  }\n}\n", "export function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}", "import { ascending } from './ascending';\nimport isNil from './isNil';\nimport { Logger } from '../logger';\n\n/**\n * 通过二分法，查找数组a中大于数值x的第一个元素的序号\n * @param a\n * @param x\n * @param lo\n * @param hi\n * @returns\n */\nexport function bisect(a: number[], x: number, lo: number = 0, hi?: number) {\n  if (isNil(hi)) {\n    hi = a.length;\n  }\n  while (lo < (hi as number)) {\n    const mid: number = (lo + (hi as number)) >>> 1;\n    if (ascending(a[mid], x) > 0) {\n      hi = mid;\n    } else {\n      lo = mid + 1;\n    }\n  }\n  return lo;\n}\n\n/* Adapted from fmin by Ben Frederickson\n * https://github.com/benfred/fmin\n * Licensed under the BSD-3-Clause\n\n * url: https://github.com/benfred/fmin/blob/master/src/bisect.js\n * License: https://github.com/benfred/fmin/blob/master/LICENSE\n * @license\n */\n/** finds the zeros of a function, given two starting points (which must\n * have opposite signs */\nexport function findZeroOfFunction(\n  f: (entry: number) => number,\n  a: number,\n  b: number,\n  parameters?: {\n    maxIterations?: number;\n    tolerance?: number;\n  }\n) {\n  const maxIterations = parameters?.maxIterations ?? 100;\n  const tolerance = parameters?.tolerance ?? 1e-10;\n  const fA = f(a);\n  const fB = f(b);\n  let delta = b - a;\n\n  if (fA * fB > 0) {\n    const logger = Logger.getInstance();\n    logger.error('Initial bisect points must have opposite signs');\n    return NaN;\n  }\n\n  if (fA === 0) {\n    return a;\n  }\n  if (fB === 0) {\n    return b;\n  }\n\n  for (let i = 0; i < maxIterations; ++i) {\n    delta /= 2;\n    const mid = a + delta;\n    const fMid = f(mid);\n\n    if (fMid * fA >= 0) {\n      a = mid;\n    }\n\n    if (Math.abs(delta) < tolerance || fMid === 0) {\n      return mid;\n    }\n  }\n  return a + delta;\n}\n\n/**\n * 二分靠近框架，返回数组中第一个大于等于目标值的数的索引\n * @param arr 数组\n * @param compareFn 比较函数，返回(当前值-目标值)\n */\nexport const binaryFuzzySearch = <T>(arr: T[], compareFn: (value: T) => number) => {\n  return binaryFuzzySearchInNumberRange(0, arr.length, value => compareFn(arr[value]));\n};\n\n/**\n * 二分靠近框架，返回数字区间中第一个大于等于目标值的数字\n * @param x1 区间上界\n * @param x2 区间下界（不包含）\n * @param compareFn 比较函数，返回(当前值-目标值)\n */\nexport const binaryFuzzySearchInNumberRange = (x1: number, x2: number, compareFn: (value: number) => number) => {\n  let left = x1;\n  let right = x2;\n  while (left < right) {\n    const mid = Math.floor((left + right) / 2);\n    if (compareFn(mid) >= 0) {\n      right = mid; // 第一个大于等于目标值的数\n    } else {\n      left = mid + 1;\n    }\n  }\n  return left;\n};\n", "const clamp = function (input: number, min: number, max: number): number {\n  if (input < min) {\n    return min;\n  } else if (input > max) {\n    return max;\n  }\n  return input;\n};\n\nexport default clamp;\n", "export function clamper(a: number, b: number): (x: number) => number {\n  let t;\n  if (a > b) {\n    t = a;\n    a = b;\n    b = t;\n  }\n  return (x: number) => {\n    return Math.max(a, Math.min(b, x));\n  };\n}\n", "/**\n * @see https://github.com/lodash/lodash/blob/master/debounce.js\n */\nimport isObject from './isObject';\nimport isValidNumber from './isValidNumber';\n\nexport type FunctionControlOptions = {\n  // 是否在等待开始时调用\n  leading?: boolean;\n  // 是否在等待结束后调用\n  trailing?: boolean;\n  // 最长等待时间\n  maxWait?: number;\n};\n\nlet hasRaf: boolean = false;\ntry {\n  hasRaf = typeof requestAnimationFrame === 'function' && typeof cancelAnimationFrame === 'function';\n} catch (err) {\n  hasRaf = false;\n}\nhasRaf = false;\n\nfunction debounce<T, S>(\n  func: (...args: T[]) => S,\n  wait: number,\n  options?: FunctionControlOptions\n): (...args: T[]) => S {\n  let lastArgs: any;\n  let lastThis: any;\n  let maxWait: number;\n  let result: any;\n  // eslint-disable-next-line no-undef\n  let timerId: number | NodeJS.Timeout | undefined;\n  let lastCallTime: number | undefined;\n\n  let lastInvokeTime = 0;\n  let leading = false;\n  let maxing = false;\n  let trailing = true;\n\n  // Bypass `requestAnimationFrame` by explicitly setting `wait=0`.\n  const useRAF = !wait && wait !== 0 && hasRaf;\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    if (maxing) {\n      maxWait = Math.max(isValidNumber(options.maxWait) ? options.maxWait : 0, wait);\n    }\n\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time: number) {\n    const args = lastArgs;\n    const thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function startTimer(pendingFunc: any, wait: number) {\n    if (useRAF) {\n      cancelAnimationFrame(timerId as number);\n      return requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait);\n  }\n\n  function cancelTimer(id: number) {\n    if (useRAF) {\n      return cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n\n  function leadingEdge(time: number) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = startTimer(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time: number) {\n    const timeSinceLastCall = time - (lastCallTime as number);\n    const timeSinceLastInvoke = time - lastInvokeTime;\n    const timeWaiting = wait - timeSinceLastCall;\n\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n\n  function shouldInvoke(time: number) {\n    const timeSinceLastCall = time - (lastCallTime as number);\n    const timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (\n      lastCallTime === undefined ||\n      timeSinceLastCall >= wait ||\n      timeSinceLastCall < 0 ||\n      (maxing && timeSinceLastInvoke >= maxWait)\n    );\n  }\n\n  function timerExpired() {\n    const time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time: number) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      cancelTimer(timerId as number);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(Date.now());\n  }\n\n  function pending() {\n    return timerId !== undefined;\n  }\n\n  function debounced(...args: any[]) {\n    const time = Date.now();\n    const isInvoking = shouldInvoke(time);\n\n    lastArgs = args;\n    // @ts-ignore\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\n\nexport default debounce;\n", "/**\n * @see https://github.com/lodash/lodash/blob/master/throttle.js\n */\nimport debounce from './debounce';\nimport isObject from './isObject';\n\nfunction throttle<T, S>(\n  func: (...args: T[]) => S,\n  wait: number,\n  options?: { leading?: boolean; trailing?: boolean }\n): (...args: T[]) => S {\n  let leading = true;\n  let trailing = true;\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\n\nexport default throttle;\n", "export const isValidUrl = (value: string) => {\n  // TODO: 匹配其他形式的 url\n  const exp = /^(http(s)?:\\/\\/)\\w+[^\\s]+(\\.[^\\s]+){1,}$/;\n  const urlPattern = new RegExp(exp);\n  return urlPattern.test(value);\n};\n\nexport default isValidUrl;\n", "/**\n * 迁移至 sirius\n * Checks if `value` is classified as a `Base64` string;\n * @param {string} The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n */\nconst isBase64 = (value: string): boolean => {\n  const exp = /^data:image\\/(?:gif|png|jpeg|bmp|webp|svg\\+xml)(?:;charset=utf-8)?;base64,(?:[A-Za-z0-9]|[+/])+={0,2}/g;\n  const urlPattern = new RegExp(exp);\n  return urlPattern.test(value);\n};\n\nexport default isBase64;\n", "import type { Dict } from './../type';\n\n/** Used to check objects for own properties. */\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Checks if `key` is a direct property of `object`.\n *\n * @param {Object} object The object to query.\n * @param {string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n * @example\n *\n * const object = { 'a': { 'b': 2 } }\n * const other = create({ 'a': create({ 'b': 2 }) })\n *\n * has(object, 'a')\n * // => true\n *\n * has(other, 'a')\n * // => false\n */\nconst has = (object: Dict<any>, key: any): boolean => {\n  return object != null && hasOwnProperty.call(object, key);\n};\n\nexport default has;\n", "import isValid from './isValid';\n\nexport function range(start: number, stop?: number, step?: number): number[] {\n  if (!isValid(stop)) {\n    stop = start;\n    start = 0;\n  }\n  if (!isValid(step)) {\n    step = 1;\n  }\n\n  let i = -1;\n  const n = Math.max(0, Math.ceil((stop - start) / step)) | 0;\n  const range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n", "export function toNumber(a: any) {\n  return Number(a);\n}\n", "import { toNumber } from './toNumber';\n\nexport function quantileSorted(\n  values: any[],\n  percent: number,\n  valueof: (entry: any, index: number, arr: any[]) => number = toNumber\n) {\n  const n = values.length;\n  if (!n) {\n    return;\n  }\n  if (percent <= 0 || n < 2) {\n    return valueof(values[0], 0, values);\n  }\n  if (percent >= 1) {\n    return valueof(values[n - 1], n - 1, values);\n  }\n  const i = (n - 1) * percent;\n  const i0 = Math.floor(i);\n  const value0 = valueof(values[i0], i0, values);\n  const value1 = valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n", "import { ascending } from './ascending';\nimport { quantileSorted } from './quantileSorted';\n\nexport const median = (values: number[], isSorted?: boolean) => {\n  let sorted = values;\n  if (isSorted !== true) {\n    sorted = values.sort(ascending);\n  }\n\n  return quantileSorted(sorted, 0.5);\n};\n", "const e10 = Math.sqrt(50);\nconst e5 = Math.sqrt(10);\nconst e2 = Math.sqrt(2);\n\nexport function tickStep(start: number, stop: number, count: number) {\n  const step0 = Math.abs(stop - start) / Math.max(0, count);\n  let step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10));\n  const error = step0 / step1;\n\n  if (error >= e10) {\n    step1 *= 10;\n  } else if (error >= e5) {\n    step1 *= 5;\n  } else if (error >= e2) {\n    step1 *= 2;\n  }\n  return stop < start ? -step1 : step1;\n}\n", "/**\n * @description 处理数值相关的方法\n */\n\nconst DEFAULT_ABSOLUTE_TOLERATE = 1e-10;\nconst DEFAULT_RELATIVE_TOLERATE = 1e-10;\n\n/**\n * 判断两数是否接近相等，函数参数参照 python isClose 方法\n * @param {number} a\n * @param {number} b\n * @param refTol 指定的相对容差比例，将乘以两数的最大值作为相对容差\n * @param absTol 指定的绝对容差\n */\nexport function isNumberClose(\n  a: number,\n  b: number,\n  relTol: number = DEFAULT_RELATIVE_TOLERATE,\n  absTol: number = DEFAULT_ABSOLUTE_TOLERATE\n) {\n  const abs = absTol;\n  const rel = relTol * Math.max(a, b);\n  return Math.abs(a - b) <= Math.max(abs, rel);\n}\n\n/**\n * 判断 a 是否大于 b，并排除容差范围\n * @param a\n * @param b\n * @param relTol 指定的相对容差比例，将乘以两数的最大值作为相对容差\n * @param absTol 指定的绝对容差\n */\nexport function isGreater(a: number, b: number, relTol?: number, absTol?: number) {\n  return a > b && !isNumberClose(a, b, relTol, absTol);\n}\n\n/**\n * 判断 a 是否小于 b，并排除容差范围\n * @param a\n * @param b\n * @param relTol 指定的相对容差比例，将乘以两数的最大值作为相对容差\n * @param absTol 指定的绝对容差\n */\nexport function isLess(a: number, b: number, relTol?: number, absTol?: number) {\n  return a < b && !isNumberClose(a, b, relTol, absTol);\n}\n", "export const memoize = <T extends (...args: any) => any>(func: T) => {\n  let lastArgs: any[] = null;\n  let lastResult: any = null;\n\n  return ((...args: any[]) => {\n    if (lastArgs && args.every((val, i) => val === lastArgs[i])) {\n      return lastResult;\n    }\n\n    lastArgs = args;\n    lastResult = (func as any)(...args);\n\n    return lastResult;\n  }) as T;\n};\n", "const clampRange = (range: [number, number], min: number, max: number): [number, number] => {\n  let [lowValue, highValue] = range;\n\n  if (highValue < lowValue) {\n    lowValue = range[1];\n    highValue = range[0];\n  }\n  const span = highValue - lowValue;\n\n  if (span >= max - min) {\n    return [min, max];\n  }\n\n  lowValue = Math.min(Math.max(lowValue, min), max - span);\n\n  return [lowValue, lowValue + span];\n};\n\nexport default clampRange;\n", "export function interpolateNumber(a, b) {\n    return t => a * (1 - t) + b * t;\n}\n\nexport function interpolateNumberRound(a, b) {\n    return function(t) {\n        return Math.round(a * (1 - t) + b * t);\n    };\n}\n\nexport function interpolateDate(a, b) {\n    const aVal = a.valueOf(), bVal = b.valueOf(), d = new Date;\n    return t => (d.setTime(aVal * (1 - t) + bVal * t), d);\n}\n\nconst reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n    return function() {\n        return b;\n    };\n}\n\nfunction one(b) {\n    return function(t) {\n        return b(t) + \"\";\n    };\n}\n\nexport function interpolateString(a, b) {\n    let am, bm, bs, bi = reA.lastIndex = reB.lastIndex = 0, i = -1;\n    const s = [], q = [];\n    for (a += \"\", b += \"\"; (am = reA.exec(a)) && (bm = reB.exec(b)); ) (bs = bm.index) > bi && (bs = b.slice(bi, bs), \n    s[i] ? s[i] += bs : s[++i] = bs), (am = am[0]) === (bm = bm[0]) ? s[i] ? s[i] += bm : s[++i] = bm : (s[++i] = null, \n    q.push({\n        i: i,\n        x: interpolateNumber(am, bm)\n    })), bi = reB.lastIndex;\n    return bi < b.length && (bs = b.slice(bi), s[i] ? s[i] += bs : s[++i] = bs), s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, \n    function(t) {\n        for (let o, i = 0; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n        return s.join(\"\");\n    });\n}", "import isValidNumber from './isValidNumber';\n\nexport function toValidNumber(v: any) {\n  if (isValidNumber(v)) {\n    return v;\n  }\n  const value = +v;\n  return isValidNumber(value) ? value : 0;\n}\n", "export function seedRandom(seed: number) {\n  return parseFloat('0.' + Math.sin(seed).toString().substring(6));\n}\n\n/* Adapted from vega by University of Washington Interactive Data Lab\n * https://vega.github.io/vega/\n * Licensed under the BSD-3-Clause\n\n * url: https://github.com/vega/vega/blob/main/packages/vega-statistics/src/lcg.js\n * License: https://github.com/vega/vega/blob/main/LICENSE\n * @license\n */\n\n// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport function randomLCG(initS: number = 1) {\n  let s = initS;\n  return () => (s = (a * s + c) % m) / m;\n}\n\n/**\n * 随机拟合\n */\nexport const fakeRandom = () => {\n  let i = -1;\n  const arr = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9];\n  return () => {\n    i = (i + 1) % arr.length;\n    return arr[i];\n  };\n};\n", "export const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\nexport const NEWTON_ITERATIONS = 4;\nexport const NEWTON_MIN_SLOPE = 0.001;\nexport const SUBDIVISION_PRECISION = 0.0000001;\nexport const SUBDIVISION_MAX_ITERATIONS = 10;\nexport const pi2 = Math.PI * 2;\n\nexport type vec2 = [number, number] | Float32Array;\nexport type vec3 = [number, number, number] | Float32Array;\nexport type vec4 = [number, number, number, number] | Float32Array;\nexport type vec8 = [number, number, number, number, number, number, number, number] | Float32Array;\nexport type mat4 =\n  | [\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number,\n      number\n    ]\n  | Float32Array;\n\nexport const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\nexport const pow = Math.pow;\n\nexport function acos(x: number) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x: number) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n\n/**\n * 根据比例获直线上的点\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 结束点 x\n * @param {number} y2 结束点 y\n * @param {number} t 指定比例\n * @return {object} 包含 x, y 的点\n */\nexport function pointAt(\n  x1: number | null | undefined,\n  y1: number | null | undefined,\n  x2: number | null | undefined,\n  y2: number | null | undefined,\n  t: number\n): {\n  x: undefined | number;\n  y: undefined | number;\n} {\n  let x: number | undefined = x2;\n  let y: number | undefined = y2;\n  if (typeof x1 === 'number' && typeof x2 === 'number') {\n    x = (1 - t) * x1 + t * x2;\n  }\n  if (typeof y1 === 'number' && typeof y2 === 'number') {\n    y = (1 - t) * y1 + t * y2;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nexport function lengthFromPointToLine(\n  point: { x: number; y: number },\n  point1: { x: number; y: number },\n  point2: { x: number; y: number }\n): number {\n  // 面积\n  const dir1X = point2.x - point1.x;\n  const dir1Y = point2.y - point1.y;\n  const dir2X = point.x - point1.x;\n  const dir2Y = point.y - point1.y;\n  const s = Math.abs(dir1X * dir2Y - dir2X * dir1Y);\n  const length = Math.sqrt(dir1X * dir1X + dir1Y * dir1Y);\n  return s / length;\n}\n\nexport function crossProduct(dir1: vec2, dir2: vec2): number {\n  return dir1[0] * dir2[1] - dir1[1] * dir2[0];\n}\n\nexport function crossProductPoint(dir1: { x: number; y: number }, dir2: { x: number; y: number }): number {\n  return dir1.x * dir2.y - dir1.y * dir2.x;\n}\n\nexport function dotProduct(a: number[] | Float32Array, b: number[] | Float32Array): number {\n  let ret = 0;\n  for (let i = 0; i < a.length; ++i) {\n    ret += a[i] * b[i];\n  }\n  return ret;\n}\n\nexport function fuzzyEqualNumber(a: number, b: number): boolean {\n  return abs(a - b) < epsilon;\n}\n\nexport function fuzzyEqualVec(a: vec2, b: vec2): boolean {\n  return abs(a[0] - b[0]) + abs(a[1] - b[1]) < epsilon;\n}\n\nexport function fixPrecision(num: number, precision = 10) {\n  return Math.round(num * precision) / precision;\n}\n\nexport function getDecimalPlaces(n: number): number {\n  const dStr = n.toString().split(/[eE]/);\n  const s = (dStr[0].split('.')[1] || '').length - (+dStr[1] || 0);\n  return s > 0 ? s : 0;\n}\n\nexport function precisionAdd(a: number, b: number) {\n  return fixPrecision(a + b, 10 ** Math.max(getDecimalPlaces(a), getDecimalPlaces(b)));\n}\n\nexport function precisionSub(a: number, b: number) {\n  return fixPrecision(a - b, 10 ** Math.max(getDecimalPlaces(a), getDecimalPlaces(b)));\n}\n", "import isNumber from '../common/isNumber';\nimport { pow, sqrt } from '../math';\n\nexport interface IPoint {\n  x: number;\n  y: number;\n  x1?: number;\n  y1?: number;\n  defined?: boolean; // defined表示这个点是否存在\n  context?: any; // context stores addition information for point\n\n  clone: () => IPoint;\n  copyFrom: (p: IPointLike) => IPoint;\n  set: (x: number, y: number) => IPoint;\n  add: (point: IPointLike | number) => IPoint;\n  sub: (point: IPointLike | number) => IPoint;\n  multi: (point: IPointLike | number) => IPoint;\n  div: (point: IPointLike | number) => IPoint;\n}\n\nexport type IPointLike = Pick<IPoint, 'x' | 'y' | 'x1' | 'y1' | 'defined' | 'context'>;\n\nexport class Point implements IPoint {\n  /**\n   * 面积图的下点\n   */\n  x: number = 0;\n  y: number = 0;\n  x1?: number;\n  y1?: number;\n  defined?: boolean;\n  context?: any;\n\n  constructor(x: number = 0, y: number = 0, x1?: number, y1?: number) {\n    this.x = x;\n    this.y = y;\n    this.x1 = x1;\n    this.y1 = y1;\n  }\n\n  clone(): Point {\n    return new Point(this.x, this.y);\n  }\n\n  copyFrom(p: IPointLike): this {\n    this.x = p.x;\n    this.y = p.y;\n    this.x1 = p.x1;\n    this.y1 = p.y1;\n    this.defined = p.defined;\n    this.context = p.context;\n    return this;\n  }\n\n  set(x: number, y: number): this {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n\n  add(point: IPointLike | number): IPoint {\n    if (isNumber(point)) {\n      this.x += point as number;\n      this.y += point as number;\n      return;\n    }\n    this.x += (<IPointLike>point).x;\n    this.y += (<IPointLike>point).y;\n    return this;\n  }\n  sub(point: IPointLike | number): IPoint {\n    if (isNumber(point)) {\n      this.x -= point as number;\n      this.y -= point as number;\n      return;\n    }\n    this.x -= (<IPointLike>point).x;\n    this.y -= (<IPointLike>point).y;\n    return this;\n  }\n  multi(point: IPointLike | number): IPoint {\n    throw new Error('暂不支持');\n  }\n  div(point: IPointLike | number): IPoint {\n    throw new Error('暂不支持');\n  }\n}\n\nexport class PointService {\n  /* distance */\n  static distancePP(p1: IPointLike, p2: IPointLike): number {\n    return sqrt(pow(p1.x - p2.x, 2) + pow(p1.y - p2.y, 2));\n  }\n  static distanceNN(x: number, y: number, x1: number, y1: number) {\n    return sqrt(pow(x - x1, 2) + pow(y - y1, 2));\n  }\n  static distancePN(point: IPointLike, x: number, y: number) {\n    return sqrt(pow(x - point.x, 2) + pow(y - point.y, 2));\n  }\n\n  /* point at */\n  static pointAtPP(p1: IPointLike, p2: IPointLike, t: number): IPoint {\n    return new Point((p2.x - p1.x) * t + p1.x, (p2.y - p1.y) * t + p1.y);\n  }\n}\n\nexport interface IPolarPoint {\n  r: number;\n  theta: number;\n  r1?: number;\n  theta1?: number;\n  defined?: boolean;\n  context?: any;\n\n  clone: () => IPolarPoint;\n  copyFrom: (p: IPolarPoint) => IPolarPoint;\n  set: (x: number, y: number) => IPolarPoint;\n  // TODO: support if needed\n  // add: (point: IPolarPoint | number) => IPolarPoint;\n  // sub: (point: IPolarPoint | number) => IPolarPoint;\n  // multi: (point: IPolarPoint | number) => IPolarPoint;\n  // div: (point: IPolarPoint | number) => IPolarPoint;\n}\n\nexport declare type IPolarPointLike = Pick<IPolarPoint, 'r' | 'theta' | 'r1' | 'theta1' | 'defined' | 'context'>;\n\nexport class PolarPoint implements IPolarPoint {\n  r: number = 0;\n  theta: number = 0;\n  r1?: number;\n  theta1?: number;\n  defined?: boolean;\n  context?: any;\n\n  constructor(r: number = 0, theta: number = 0, r1?: number, theta1?: number) {\n    this.r = r;\n    this.theta = theta;\n    this.r1 = r1;\n    this.theta1 = theta1;\n  }\n\n  clone(): PolarPoint {\n    return new PolarPoint(this.r, this.theta);\n  }\n\n  copyFrom(p: IPolarPointLike): this {\n    this.r = p.r;\n    this.theta = p.theta;\n    this.r1 = p.r1;\n    this.theta1 = p.theta1;\n    this.defined = p.defined;\n    this.context = p.context;\n    return this;\n  }\n\n  set(r: number, theta: number): this {\n    this.r = r;\n    this.theta = theta;\n    return this;\n  }\n}\n", "import { tau } from \"./math\";\n\nexport function degreeToRadian(degree) {\n    return degree * (Math.PI / 180);\n}\n\nexport function radianToDegree(radian) {\n    return 180 * radian / Math.PI;\n}\n\nexport const clampRadian = (angle = 0) => {\n    if (angle < 0) for (;angle < -tau; ) angle += tau; else if (angle > 0) for (;angle > tau; ) angle -= tau;\n    return angle;\n};\n\nexport const clampAngleByRadian = clampRadian;\n\nexport const clampDegree = (a = 0) => a > 360 || a < -360 ? a % 360 : a;\n\nexport const clampAngleByDegree = clampDegree;\n\nexport function polarToCartesian(center, radius, angleInRadian) {\n    return radius ? {\n        x: center.x + radius * Math.cos(angleInRadian),\n        y: center.y + radius * Math.sin(angleInRadian)\n    } : {\n        x: center.x,\n        y: center.y\n    };\n}\n\nexport function cartesianToPolar(point, center = {\n    x: 0,\n    y: 0\n}, startAngle = 0, endAngle = 2 * Math.PI) {\n    const {x: x, y: y} = point, {x: centerX, y: centerY} = center;\n    let dx = x - centerX, dy = y - centerY;\n    const radius = Math.sqrt(dx * dx + dy * dy);\n    if (0 === radius) return {\n        radius: 0,\n        angle: 0\n    };\n    dx /= radius, dy /= radius;\n    let radian = Math.atan2(dy, dx);\n    if (radian < startAngle) for (;radian <= startAngle; ) radian += 2 * Math.PI;\n    if (radian > endAngle) for (;radian >= endAngle; ) radian -= 2 * Math.PI;\n    return {\n        radius: radius,\n        angle: radian\n    };\n}\n\nexport function getAngleByPoint(center, point) {\n    return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\nexport function normalizeAngle(angle) {\n    for (;angle < 0; ) angle += 2 * Math.PI;\n    for (;angle >= 2 * Math.PI; ) angle -= 2 * Math.PI;\n    return angle;\n}\n\nexport function findBoundaryAngles(startAngle, endAngle) {\n    const deltaAngle = Math.abs(endAngle - startAngle);\n    if (deltaAngle >= 2 * Math.PI || 2 * Math.PI - deltaAngle < 1e-6) return [ 0, Math.PI / 2, Math.PI, 1.5 * Math.PI ];\n    const normalMin = normalizeAngle(Math.min(startAngle, endAngle)), normalMax = normalMin + deltaAngle, steps = [ normalMin, normalMax ];\n    let directionAngle = Math.floor(normalMin / Math.PI) * Math.PI / 2;\n    for (;directionAngle < normalMax; ) directionAngle > normalMin && steps.push(directionAngle), \n    directionAngle += Math.PI / 2;\n    return steps;\n}\n\nexport function calculateMaxRadius(rect, center, startAngle, endAngle) {\n    const {x: x, y: y} = center, steps = findBoundaryAngles(startAngle, endAngle), {width: width, height: height} = rect, radiusList = [];\n    return steps.forEach((step => {\n        const sin = Math.sin(step), cos = Math.cos(step);\n        1 === sin ? radiusList.push(height - y) : -1 === sin ? radiusList.push(y) : 1 === cos ? radiusList.push(width - x) : -1 === cos ? radiusList.push(x) : (sin > 0 ? radiusList.push(Math.abs((height - y) / sin)) : radiusList.push(Math.abs(y / sin)), \n        cos > 0 ? radiusList.push(Math.abs((width - x) / cos)) : radiusList.push(Math.abs(x / cos)));\n    })), Math.min.apply(null, radiusList);\n}\n\nexport function computeQuadrant(angle) {\n    return (angle = normalizeAngle(angle)) > 0 && angle <= Math.PI / 2 ? 2 : angle > Math.PI / 2 && angle <= Math.PI ? 3 : angle > Math.PI && angle <= 3 * Math.PI / 2 ? 4 : 1;\n}", "/* 用于判断2d相交 */\nimport { degreeToRadian } from '../../angle';\nimport type { IBoundsLike } from '../../data-structure';\nimport type { vec2 } from '../../math';\nimport { pi2, halfPi, crossProduct, fuzzyEqualVec } from '../../math';\nimport type { Point } from './interface';\n\nfunction sub(out: vec2, v1: vec2, v2: vec2) {\n  out[0] = v1[0] - v2[0];\n  out[1] = v1[1] - v2[1];\n}\n\n/**\n * 判断直线是否相交，投影法\n * @param left1\n * @param right1\n * @param left2\n * @param right2\n */\nexport function isIntersect(left1: vec2, right1: vec2, left2: vec2, right2: vec2): boolean {\n  let min1: number = left1[0];\n  let max1: number = right1[0];\n  let min2: number = left2[0];\n  let max2: number = right2[0];\n  if (max1 < min1) {\n    [min1, max1] = [max1, min1];\n  }\n  if (max2 < min2) {\n    [max2, min2] = [min2, max2];\n  }\n  if (max1 < min2 || max2 < min1) {\n    return false;\n  }\n\n  (min1 = left1[1]), (max1 = right1[1]), (min2 = left2[1]), (max2 = right2[1]);\n  if (max1 < min1) {\n    [min1, max1] = [max1, min1];\n  }\n  if (max2 < min2) {\n    [max2, min2] = [min2, max2];\n  }\n  if (max1 < min2 || max2 < min1) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * 获取直线交点\n * 不相交返回false，共线返回true，相交返回交点\n * https://stackoverflow.com/questions/563198/how-do-you-detect-where-two-line-segments-intersect/565282#565282\n * @param left1\n * @param right1\n * @param left2\n * @param right2\n */\nexport function getIntersectPoint(left1: vec2, right1: vec2, left2: vec2, right2: vec2): boolean | vec2 {\n  if (!isIntersect(left1, right1, left2, right2)) {\n    return false;\n  }\n  const dir1: vec2 = [0, 0];\n  const dir2: vec2 = [0, 0];\n  const tempVec: vec2 = [0, 0];\n  sub(dir1, right1, left1);\n  sub(dir2, right2, left2);\n\n  // 判断共线\n  if (fuzzyEqualVec(dir1, dir2)) {\n    return true;\n  }\n\n  // https://stackoverflow.com/questions/563198/how-do-you-detect-where-two-line-segments-intersect/565282#565282\n  // line1: left1 + dir1 * t\n  // line2: left2 + dir2 * u\n  // 当 left1 + dir1 * t = left2 + dir2 * u => (left1 + dir1 * t) x dir2 = (left2 + dir2 * u) x dir2\n  // => dir1 x dir2 * t = (left2 - left1) x dir2 => t = (left2 - left1) x dir2 / (dir1 x dir2)\n  // 直线不平行，dir1 x dir2 ≠ 0，当0 <= t <= 1时，可以求出交点\n  sub(tempVec, left2, left1);\n  const t = crossProduct(tempVec, dir2) / crossProduct(dir1, dir2);\n  if (t >= 0 && t <= 1) {\n    return [left1[0] + dir1[0] * t, left1[1] + dir1[1] * t];\n  }\n\n  return false;\n}\n\n/**\n * 获取两个rect的相交部分\n * 如果有bbox为null，返回null，如果不相交返回{x1: 0, y1: 0, x2: 0, y2: 0}\n * @param bbox1\n * @param bbox2\n * @param format\n */\nexport function getRectIntersect(\n  bbox1: IBoundsLike | null,\n  bbox2: IBoundsLike | null,\n  format: boolean\n): IBoundsLike | null {\n  if (bbox1 === null) {\n    return bbox2;\n  }\n  if (bbox2 === null) {\n    return bbox1;\n  }\n\n  const { x11, x12, y11, y12, x21, x22, y21, y22 } = formatTwoBBox(bbox1, bbox2, format);\n\n  if (x11 >= x22 || x12 <= x21 || y11 >= y22 || y12 <= y21) {\n    return { x1: 0, y1: 0, x2: 0, y2: 0 };\n  }\n  return { x1: Math.max(x11, x21), y1: Math.max(y11, y21), x2: Math.min(x12, x22), y2: Math.min(y12, y22) };\n}\n\nexport enum InnerBBox {\n  NONE = 0,\n  BBOX1 = 1,\n  BBOX2 = 2\n}\n\nconst formatTwoBBox = (bbox1: IBoundsLike, bbox2: IBoundsLike, format: boolean) => {\n  let x11 = bbox1.x1;\n  let x12 = bbox1.x2;\n  let y11 = bbox1.y1;\n  let y12 = bbox1.y2;\n  let x21 = bbox2.x1;\n  let x22 = bbox2.x2;\n  let y21 = bbox2.y1;\n  let y22 = bbox2.y2;\n\n  if (format) {\n    if (x11 > x12) {\n      [x11, x12] = [x12, x11];\n    }\n    if (y11 > y12) {\n      [y11, y12] = [y12, y11];\n    }\n    if (x21 > x22) {\n      [x21, x22] = [x22, x21];\n    }\n    if (y21 > y22) {\n      [y21, y22] = [y22, y21];\n    }\n  }\n  return { x11, x12, y11, y12, x21, x22, y21, y22 };\n};\n/**\n * 矩形是否在另一个矩形内部\n * 返回InnerBBox\n * @param bbox1\n * @param bbox2\n * @param format\n */\nexport function rectInsideAnotherRect(\n  bbox1: IBoundsLike | null,\n  bbox2: IBoundsLike | null,\n  format: boolean\n): InnerBBox {\n  if (!bbox1 || !bbox2) {\n    return InnerBBox.NONE;\n  }\n\n  const { x11, x12, y11, y12, x21, x22, y21, y22 } = formatTwoBBox(bbox1, bbox2, format);\n  // bbox1在bbox2内部\n  if (x11 > x21 && x12 < x22 && y11 > y21 && y12 < y22) {\n    return InnerBBox.BBOX1;\n  }\n  // bbox2在bbox1内部\n  if (x21 > x11 && x22 < x12 && y21 > y11 && y22 < y12) {\n    return InnerBBox.BBOX2;\n  }\n\n  return InnerBBox.NONE;\n}\n\n/**\n * 两个矩形是否相交\n * 如果有矩形为null，判断为相交\n * @param bbox1\n * @param bbox2\n * @param format\n */\nexport function isRectIntersect(bbox1: IBoundsLike | null, bbox2: IBoundsLike | null, format: boolean): boolean {\n  if (bbox1 && bbox2) {\n    if (!format) {\n      if (bbox1.x1 > bbox2.x2 || bbox1.x2 < bbox2.x1 || bbox1.y1 > bbox2.y2 || bbox1.y2 < bbox2.y1) {\n        return false;\n      }\n      return true;\n    }\n\n    const { x11, x12, y11, y12, x21, x22, y21, y22 } = formatTwoBBox(bbox1, bbox2, true);\n\n    if (x11 > x22 || x12 < x21 || y11 > y22 || y12 < y21) {\n      return false;\n    }\n    return true;\n  }\n  return true;\n}\n\n/**\n * 点在box内部\n * 如果bbox为null返回true\n * @param point\n * @param bbox\n */\nexport function pointInRect(point: { x: number; y: number }, bbox: IBoundsLike | null, format: boolean): boolean {\n  if (!bbox) {\n    return true;\n  }\n  if (!format) {\n    return point.x >= bbox.x1 && point.x <= bbox.x2 && point.y >= bbox.y1 && point.y <= bbox.y2;\n  }\n  let x11 = bbox.x1;\n  let x12 = bbox.x2;\n  let y11 = bbox.y1;\n  let y12 = bbox.y2;\n  if (x11 > x12) {\n    [x11, x12] = [x12, x11];\n  }\n  if (y11 > y12) {\n    [y11, y12] = [y12, y11];\n  }\n  return point.x >= x11 && point.x <= x12 && point.y >= y11 && point.y <= y12;\n}\n\n// 参考https://github.com/francecil/leetcode/issues/1\n\n/**\n * 计算投影半径\n * @param {Array(Number)} checkAxis 检测轴 [cosθ,sinθ]\n * @param {Array} axis 目标轴 [x,y]\n */\nfunction getProjectionRadius(checkAxis: [number, number], axis: [number, number]) {\n  return Math.abs(axis[0] * checkAxis[0] + axis[1] * checkAxis[1]);\n}\n\n/**\n * 逆时针旋转矩阵（从正 x 轴开始，旋转到正 y 轴的方向）\n * [ cos(θ)  -sin(θ) ]\n * [ sin(θ)  cos(θ) ]\n */\nexport function rotatePoint({ x, y }: Point, rad: number, origin = { x: 0, y: 0 }) {\n  return {\n    x: (x - origin.x) * Math.cos(rad) - (y - origin.y) * Math.sin(rad) + origin.x,\n    y: (x - origin.x) * Math.sin(rad) + (y - origin.y) * Math.cos(rad) + origin.y\n  };\n}\n\nfunction getCenterPoint(box: RotateBound): Point {\n  return {\n    x: (box.x1 + box.x2) / 2,\n    y: (box.y1 + box.y2) / 2\n  };\n}\n\ninterface RotateBound extends IBoundsLike {\n  angle: number;\n  rotateCenter?: { x: number; y: number };\n}\n\n/**\n * 转化为顶点坐标数组\n * @param {Object} box\n */\nfunction toRect(box: RotateBound, isDeg: boolean) {\n  const deg = isDeg ? degreeToRadian(box.angle) : box.angle;\n  const cp = getCenterPoint(box);\n  return [\n    rotatePoint(\n      {\n        x: box.x1,\n        y: box.y1\n      },\n      deg,\n      cp\n    ),\n    rotatePoint(\n      {\n        x: box.x2,\n        y: box.y1\n      },\n      deg,\n      cp\n    ),\n    rotatePoint(\n      {\n        x: box.x2,\n        y: box.y2\n      },\n      deg,\n      cp\n    ),\n    rotatePoint(\n      {\n        x: box.x1,\n        y: box.y2\n      },\n      deg,\n      cp\n    )\n  ];\n}\nexport function isRotateAABBIntersect(box1: RotateBound, box2: RotateBound, isDeg = false) {\n  const rect1 = toRect(box1, isDeg);\n  const rect2 = toRect(box2, isDeg);\n\n  const vector = (start: Point, end: Point) => {\n    return [end.x - start.x, end.y - start.y] as [number, number];\n  };\n\n  // 两个矩形的中心点\n  const p1 = getCenterPoint(box1);\n  const p2 = getCenterPoint(box2);\n  // 向量 p1p2\n  const vp1p2 = vector(p1, p2);\n\n  //矩形1的两边向量\n  const AB = vector(rect1[0], rect1[1]);\n  const BC = vector(rect1[1], rect1[2]);\n  //矩形2的两边向量\n  const A1B1 = vector(rect2[0], rect2[1]);\n  const B1C1 = vector(rect2[1], rect2[2]);\n\n  // 矩形1 的两个弧度\n  const deg11 = isDeg ? degreeToRadian(box1.angle) : box1.angle;\n  let deg12 = isDeg ? degreeToRadian(90 - box1.angle) : box1.angle + halfPi;\n  // 矩形2 的两个弧度\n  const deg21 = isDeg ? degreeToRadian(box2.angle) : box2.angle;\n  let deg22 = isDeg ? degreeToRadian(90 - box2.angle) : box2.angle + halfPi;\n  if (deg12 > pi2) {\n    deg12 -= pi2;\n  }\n  if (deg22 > pi2) {\n    deg22 -= pi2;\n  }\n\n  // 投影重叠\n  const isCover = (\n    checkAxisRadius: number,\n    deg: number,\n    targetAxis1: [number, number],\n    targetAxis2: [number, number]\n  ) => {\n    const checkAxis = [Math.cos(deg), Math.sin(deg)] as [number, number];\n    const targetAxisRadius =\n      (getProjectionRadius(checkAxis, targetAxis1) + getProjectionRadius(checkAxis, targetAxis2)) / 2;\n    const centerPointRadius = getProjectionRadius(checkAxis, vp1p2);\n    // console.log('abc', `checkAxis:${checkAxis},三个投影:${checkAxisRadius}, ${targetAxisRadius}, ${centerPointRadius}`)\n    return checkAxisRadius + targetAxisRadius > centerPointRadius;\n  };\n\n  return (\n    isCover((box1.x2 - box1.x1) / 2, deg11, A1B1, B1C1) &&\n    isCover((box1.y2 - box1.y1) / 2, deg12, A1B1, B1C1) &&\n    isCover((box2.x2 - box2.x1) / 2, deg21, AB, BC) &&\n    isCover((box2.y2 - box2.y1) / 2, deg22, AB, BC)\n  );\n}\n", "import type { IBoundsLike } from '../../data-structure';\nimport type { Point } from './interface';\nimport { pointInRect } from './intersect';\n\nlet x1: number;\nlet y1: number;\nlet x2: number;\nlet y2: number;\nexport function getAABBFromPoints(points: Point[]): IBoundsLike {\n  (x1 = Infinity), (y1 = Infinity), (x2 = -Infinity), (y2 = -Infinity);\n  // todo 有优化空间\n  points.forEach(point => {\n    if (x1 > point.x) {\n      x1 = point.x;\n    }\n    if (x2 < point.x) {\n      x2 = point.x;\n    }\n    if (y1 > point.y) {\n      y1 = point.y;\n    }\n    if (y2 < point.y) {\n      y2 = point.y;\n    }\n  });\n\n  return { x1, y1, x2, y2 };\n}\n\nexport function pointInAABB(point: Point, aabb: IBoundsLike): boolean {\n  return pointInRect(point, aabb, false);\n}\n\nexport function unionAABB(\n  bounds1: IBoundsLike,\n  bounds2: IBoundsLike,\n  buffer = 3,\n  format = false\n): [IBoundsLike, IBoundsLike?] {\n  let x11 = bounds1.x1;\n  let x12 = bounds1.x2;\n  let y11 = bounds1.y1;\n  let y12 = bounds1.y2;\n  let x21 = bounds2.x1;\n  let x22 = bounds2.x2;\n  let y21 = bounds2.y1;\n  let y22 = bounds2.y2;\n  if (format) {\n    let temp;\n    if (x11 > x12) {\n      temp = x11;\n      x11 = x12;\n      x12 = temp;\n    }\n    if (y11 > y12) {\n      temp = y11;\n      y11 = y12;\n      y12 = temp;\n    }\n    if (x21 > x22) {\n      temp = x21;\n      x21 = x22;\n      x22 = temp;\n    }\n    if (y21 > y22) {\n      temp = y21;\n      y21 = y22;\n      y22 = temp;\n    }\n  }\n  // 不相交直接跳过\n  if (x11 >= x22 || x12 <= x21 || y11 >= y22 || y12 <= y21) {\n    return [bounds1, bounds2];\n  }\n\n  const area1 = (x12 - x11 + buffer * 2) * (y12 - y11 + buffer * 2);\n  const area2 = (x22 - x21 + buffer * 2) * (y22 - y21 + buffer * 2);\n  const x1 = Math.min(x11, x21);\n  const y1 = Math.min(y11, y21);\n  const x2 = Math.max(x12, x22);\n  const y2 = Math.max(y12, y22);\n  const unionArea = (x2 - x1) * (y2 - y1);\n  if (area1 + area2 > unionArea) {\n    return [{ x1, x2, y1, y2 }];\n  }\n  return [bounds1, bounds2];\n}\n\nexport function mergeAABB(boundsList: IBoundsLike[]) {\n  const nextList: IBoundsLike[] = [];\n  function _merge(baseBound: IBoundsLike, list: IBoundsLike[]) {\n    const l: IBoundsLike[] = [];\n    list.forEach(b => {\n      let arr: [IBoundsLike, IBoundsLike?];\n      // 相交\n      if ((arr = unionAABB(baseBound, b)).length > 1) {\n        l.push(b);\n        return;\n      }\n      baseBound = arr[0];\n    });\n    nextList.push(baseBound);\n    l.length && _merge(l[0], l.slice(1));\n  }\n  _merge(boundsList[0], boundsList.slice(1));\n  return nextList;\n}\n", "import type { IPointLike } from '../data-structure';\nimport { isIntersect } from './algorithm';\n\nconst EPSILON = 1e-8;\n\n// Adapted from https://github.com/apache/echarts/blob/master/src/util/graphic.ts by striezel\n// License: https://github.com/apache/echarts/blob/master/LICENSE\n/**\n * Return `true` if the given line (line `a`) and the given polygon\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n */\nexport function lineIntersectPolygon(\n  a1x: number,\n  a1y: number,\n  a2x: number,\n  a2y: number,\n  points: IPointLike[]\n): boolean {\n  for (let i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    const p = points[i];\n    if (isIntersect([a1x, a1y], [a2x, a2y], [p.x, p.y], [p2.x, p2.y])) {\n      return true;\n    }\n    p2 = p;\n  }\n  return false;\n}\n\n// Adapted from https://github.com/ecomfe/zrender/blob/master/src/contain/polygon.ts by pissang\n// License: https://github.com/ecomfe/zrender/blob/master/LICENSE\nexport function polygonContainPoint(points: IPointLike[], x: number, y: number) {\n  let w = 0;\n  let p = points[0];\n\n  if (!p) {\n    return false;\n  }\n\n  for (let i = 1; i < points.length; i++) {\n    const p2 = points[i];\n    w += isPointInLine(p.x, p.y, p2.x, p2.y, x, y);\n    p = p2;\n  }\n\n  // Close polygon\n  const p0 = points[0];\n  if (!isAroundEqual(p.x, p0.x) || !isAroundEqual(p.y, p0.y)) {\n    w += isPointInLine(p.x, p.y, p0.x, p0.y, x, y);\n  }\n\n  return w !== 0;\n}\n\n// Adapted from https://github.com/ecomfe/zrender/blob/master/src/contain/windingLine.ts by pissang\n// License: https://github.com/ecomfe/zrender/blob/master/LICENSE\nexport function isPointInLine(x0: number, y0: number, x1: number, y1: number, x: number, y: number): number {\n  if ((y > y0 && y > y1) || (y < y0 && y < y1)) {\n    return 0;\n  }\n  // Ignore horizontal line\n  if (y1 === y0) {\n    return 0;\n  }\n  const t = (y - y0) / (y1 - y0);\n\n  let dir = y1 < y0 ? 1 : -1;\n  // Avoid winding error when intersection point is the connect point of two line of polygon\n  if (t === 1 || t === 0) {\n    dir = y1 < y0 ? 0.5 : -0.5;\n  }\n\n  const x_ = t * (x1 - x0) + x0;\n\n  // If (x, y) on the line, considered as \"contain\".\n  return x_ === x ? Infinity : x_ > x ? dir : 0;\n}\n\n// Adapted from https://github.com/ecomfe/zrender/blob/master/src/contain/polygon.ts by pissang\n// License: https://github.com/ecomfe/zrender/blob/master/LICENSE\nfunction isAroundEqual(a: number, b: number): boolean {\n  return Math.abs(a - b) < EPSILON;\n}\n\n/**\n * polygon图元之间是否相交\n * @param pointsA 图元A的points\n * @param pointsB 图元B的points\n * @returns 是否相交\n */\nexport function polygonIntersectPolygon(pointsA: IPointLike[], pointsB: IPointLike[]) {\n  for (let i = 0; i < pointsB.length; i++) {\n    if (polygonContainPoint(pointsA, pointsB[i].x, pointsB[i].y)) {\n      return true;\n    }\n    if (i > 0 && lineIntersectPolygon(pointsB[i - 1].x, pointsB[i - 1].y, pointsB[i].x, pointsB[i].y, pointsA)) {\n      return true;\n    }\n  }\n  return false;\n}\n", "import type { ITextFontParams } from './interface';\n\n// FIXME: from VRender\nexport function getContextFont(\n  text: Partial<ITextFontParams>,\n  defaultAttr: Partial<ITextFontParams> = {},\n  fontSizeScale?: number\n): string {\n  if (!fontSizeScale) {\n    fontSizeScale = 1;\n  }\n  const {\n    fontStyle = defaultAttr.fontStyle,\n    fontVariant = defaultAttr.fontVariant,\n    fontWeight = defaultAttr.fontWeight,\n    fontSize = defaultAttr.fontSize,\n    fontFamily = defaultAttr.fontFamily\n  } = text;\n  return (\n    '' +\n    (fontStyle ? fontStyle + ' ' : '') +\n    (fontVariant ? fontVariant + ' ' : '') +\n    (fontWeight ? fontWeight + ' ' : '') +\n    fontSize * fontSizeScale +\n    'px ' +\n    (fontFamily ? fontFamily : 'sans-serif')\n  );\n}\n", "export default function stringWidth(string: string, ambiguousCharacterIsNarrow: boolean = true) {\n  if (typeof string !== 'string' || string.length === 0) {\n    return 0;\n  }\n\n  string = stripAnsi(string);\n\n  if (string.length === 0) {\n    return 0;\n  }\n\n  string = string.replace(emojiRegex(), '  ');\n\n  const ambiguousCharacterWidth = ambiguousCharacterIsNarrow ? 1 : 2;\n  let width = 0;\n\n  for (const character of string) {\n    const codePoint = character.codePointAt(0)!;\n\n    // Ignore control characters\n    if (codePoint <= 0x1f || (codePoint >= 0x7f && codePoint <= 0x9f)) {\n      continue;\n    }\n\n    // Ignore combining characters\n    if (codePoint >= 0x300 && codePoint <= 0x36f) {\n      continue;\n    }\n\n    const code = eastAsianCharacterInfo(character);\n    switch (code) {\n      case 'F':\n      case 'W':\n        width += 2;\n        break;\n      case 'A':\n        width += ambiguousCharacterWidth;\n        break;\n      default:\n        width += 1;\n    }\n  }\n\n  return width;\n}\n\nconst stripAnsi = (string: string) => {\n  if (typeof string !== 'string') {\n    throw new TypeError(`Expected a \\`string\\`, got \\`${typeof string}\\``);\n  }\n\n  return string.replace(ansiRegex(), '');\n};\n\nconst ansiRegex = ({ onlyFirst = false } = {}) => {\n  const pattern = [\n    // eslint-disable-next-line max-len\n    '[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)',\n    '(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-nq-uy=><~]))'\n  ].join('|');\n\n  return new RegExp(pattern, onlyFirst ? undefined : 'g');\n};\n\nexport const eastAsianCharacterInfo = (character: string) => {\n  let x = character.charCodeAt(0);\n  let y = character.length === 2 ? character.charCodeAt(1) : 0;\n  let codePoint = x;\n  if (0xd800 <= x && x <= 0xdbff && 0xdc00 <= y && y <= 0xdfff) {\n    x &= 0x3ff;\n    y &= 0x3ff;\n    codePoint = (x << 10) | y;\n    codePoint += 0x10000;\n  }\n\n  if (\n    0x3000 === codePoint ||\n    (0xff01 <= codePoint && codePoint <= 0xff60) ||\n    (0xffe0 <= codePoint && codePoint <= 0xffe6)\n  ) {\n    return 'F';\n  }\n  if (\n    0x20a9 === codePoint ||\n    (0xff61 <= codePoint && codePoint <= 0xffbe) ||\n    (0xffc2 <= codePoint && codePoint <= 0xffc7) ||\n    (0xffca <= codePoint && codePoint <= 0xffcf) ||\n    (0xffd2 <= codePoint && codePoint <= 0xffd7) ||\n    (0xffda <= codePoint && codePoint <= 0xffdc) ||\n    (0xffe8 <= codePoint && codePoint <= 0xffee)\n  ) {\n    return 'H';\n  }\n  if (\n    (0x1100 <= codePoint && codePoint <= 0x115f) ||\n    (0x11a3 <= codePoint && codePoint <= 0x11a7) ||\n    (0x11fa <= codePoint && codePoint <= 0x11ff) ||\n    (0x2329 <= codePoint && codePoint <= 0x232a) ||\n    (0x2e80 <= codePoint && codePoint <= 0x2e99) ||\n    (0x2e9b <= codePoint && codePoint <= 0x2ef3) ||\n    (0x2f00 <= codePoint && codePoint <= 0x2fd5) ||\n    (0x2ff0 <= codePoint && codePoint <= 0x2ffb) ||\n    (0x3001 <= codePoint && codePoint <= 0x303e) ||\n    (0x3041 <= codePoint && codePoint <= 0x3096) ||\n    (0x3099 <= codePoint && codePoint <= 0x30ff) ||\n    (0x3105 <= codePoint && codePoint <= 0x312d) ||\n    (0x3131 <= codePoint && codePoint <= 0x318e) ||\n    (0x3190 <= codePoint && codePoint <= 0x31ba) ||\n    (0x31c0 <= codePoint && codePoint <= 0x31e3) ||\n    (0x31f0 <= codePoint && codePoint <= 0x321e) ||\n    (0x3220 <= codePoint && codePoint <= 0x3247) ||\n    (0x3250 <= codePoint && codePoint <= 0x32fe) ||\n    (0x3300 <= codePoint && codePoint <= 0x4dbf) ||\n    (0x4e00 <= codePoint && codePoint <= 0xa48c) ||\n    (0xa490 <= codePoint && codePoint <= 0xa4c6) ||\n    (0xa960 <= codePoint && codePoint <= 0xa97c) ||\n    (0xac00 <= codePoint && codePoint <= 0xd7a3) ||\n    (0xd7b0 <= codePoint && codePoint <= 0xd7c6) ||\n    (0xd7cb <= codePoint && codePoint <= 0xd7fb) ||\n    (0xf900 <= codePoint && codePoint <= 0xfaff) ||\n    (0xfe10 <= codePoint && codePoint <= 0xfe19) ||\n    (0xfe30 <= codePoint && codePoint <= 0xfe52) ||\n    (0xfe54 <= codePoint && codePoint <= 0xfe66) ||\n    (0xfe68 <= codePoint && codePoint <= 0xfe6b) ||\n    (0x1b000 <= codePoint && codePoint <= 0x1b001) ||\n    (0x1f200 <= codePoint && codePoint <= 0x1f202) ||\n    (0x1f210 <= codePoint && codePoint <= 0x1f23a) ||\n    (0x1f240 <= codePoint && codePoint <= 0x1f248) ||\n    (0x1f250 <= codePoint && codePoint <= 0x1f251) ||\n    (0x20000 <= codePoint && codePoint <= 0x2f73f) ||\n    (0x2b740 <= codePoint && codePoint <= 0x2fffd) ||\n    (0x30000 <= codePoint && codePoint <= 0x3fffd)\n  ) {\n    return 'W';\n  }\n  if (\n    (0x0020 <= codePoint && codePoint <= 0x007e) ||\n    (0x00a2 <= codePoint && codePoint <= 0x00a3) ||\n    (0x00a5 <= codePoint && codePoint <= 0x00a6) ||\n    0x00ac === codePoint ||\n    0x00af === codePoint ||\n    (0x27e6 <= codePoint && codePoint <= 0x27ed) ||\n    (0x2985 <= codePoint && codePoint <= 0x2986)\n  ) {\n    return 'Na';\n  }\n  if (\n    0x00a1 === codePoint ||\n    0x00a4 === codePoint ||\n    (0x00a7 <= codePoint && codePoint <= 0x00a8) ||\n    0x00aa === codePoint ||\n    (0x00ad <= codePoint && codePoint <= 0x00ae) ||\n    (0x00b0 <= codePoint && codePoint <= 0x00b4) ||\n    (0x00b6 <= codePoint && codePoint <= 0x00ba) ||\n    (0x00bc <= codePoint && codePoint <= 0x00bf) ||\n    0x00c6 === codePoint ||\n    0x00d0 === codePoint ||\n    (0x00d7 <= codePoint && codePoint <= 0x00d8) ||\n    (0x00de <= codePoint && codePoint <= 0x00e1) ||\n    0x00e6 === codePoint ||\n    (0x00e8 <= codePoint && codePoint <= 0x00ea) ||\n    (0x00ec <= codePoint && codePoint <= 0x00ed) ||\n    0x00f0 === codePoint ||\n    (0x00f2 <= codePoint && codePoint <= 0x00f3) ||\n    (0x00f7 <= codePoint && codePoint <= 0x00fa) ||\n    0x00fc === codePoint ||\n    0x00fe === codePoint ||\n    0x0101 === codePoint ||\n    0x0111 === codePoint ||\n    0x0113 === codePoint ||\n    0x011b === codePoint ||\n    (0x0126 <= codePoint && codePoint <= 0x0127) ||\n    0x012b === codePoint ||\n    (0x0131 <= codePoint && codePoint <= 0x0133) ||\n    0x0138 === codePoint ||\n    (0x013f <= codePoint && codePoint <= 0x0142) ||\n    0x0144 === codePoint ||\n    (0x0148 <= codePoint && codePoint <= 0x014b) ||\n    0x014d === codePoint ||\n    (0x0152 <= codePoint && codePoint <= 0x0153) ||\n    (0x0166 <= codePoint && codePoint <= 0x0167) ||\n    0x016b === codePoint ||\n    0x01ce === codePoint ||\n    0x01d0 === codePoint ||\n    0x01d2 === codePoint ||\n    0x01d4 === codePoint ||\n    0x01d6 === codePoint ||\n    0x01d8 === codePoint ||\n    0x01da === codePoint ||\n    0x01dc === codePoint ||\n    0x0251 === codePoint ||\n    0x0261 === codePoint ||\n    0x02c4 === codePoint ||\n    0x02c7 === codePoint ||\n    (0x02c9 <= codePoint && codePoint <= 0x02cb) ||\n    0x02cd === codePoint ||\n    0x02d0 === codePoint ||\n    (0x02d8 <= codePoint && codePoint <= 0x02db) ||\n    0x02dd === codePoint ||\n    0x02df === codePoint ||\n    (0x0300 <= codePoint && codePoint <= 0x036f) ||\n    (0x0391 <= codePoint && codePoint <= 0x03a1) ||\n    (0x03a3 <= codePoint && codePoint <= 0x03a9) ||\n    (0x03b1 <= codePoint && codePoint <= 0x03c1) ||\n    (0x03c3 <= codePoint && codePoint <= 0x03c9) ||\n    0x0401 === codePoint ||\n    (0x0410 <= codePoint && codePoint <= 0x044f) ||\n    0x0451 === codePoint ||\n    0x2010 === codePoint ||\n    (0x2013 <= codePoint && codePoint <= 0x2016) ||\n    (0x2018 <= codePoint && codePoint <= 0x2019) ||\n    (0x201c <= codePoint && codePoint <= 0x201d) ||\n    (0x2020 <= codePoint && codePoint <= 0x2022) ||\n    (0x2024 <= codePoint && codePoint <= 0x2027) ||\n    0x2030 === codePoint ||\n    (0x2032 <= codePoint && codePoint <= 0x2033) ||\n    0x2035 === codePoint ||\n    0x203b === codePoint ||\n    0x203e === codePoint ||\n    0x2074 === codePoint ||\n    0x207f === codePoint ||\n    (0x2081 <= codePoint && codePoint <= 0x2084) ||\n    0x20ac === codePoint ||\n    0x2103 === codePoint ||\n    0x2105 === codePoint ||\n    0x2109 === codePoint ||\n    0x2113 === codePoint ||\n    0x2116 === codePoint ||\n    (0x2121 <= codePoint && codePoint <= 0x2122) ||\n    0x2126 === codePoint ||\n    0x212b === codePoint ||\n    (0x2153 <= codePoint && codePoint <= 0x2154) ||\n    (0x215b <= codePoint && codePoint <= 0x215e) ||\n    (0x2160 <= codePoint && codePoint <= 0x216b) ||\n    (0x2170 <= codePoint && codePoint <= 0x2179) ||\n    0x2189 === codePoint ||\n    (0x2190 <= codePoint && codePoint <= 0x2199) ||\n    (0x21b8 <= codePoint && codePoint <= 0x21b9) ||\n    0x21d2 === codePoint ||\n    0x21d4 === codePoint ||\n    0x21e7 === codePoint ||\n    0x2200 === codePoint ||\n    (0x2202 <= codePoint && codePoint <= 0x2203) ||\n    (0x2207 <= codePoint && codePoint <= 0x2208) ||\n    0x220b === codePoint ||\n    0x220f === codePoint ||\n    0x2211 === codePoint ||\n    0x2215 === codePoint ||\n    0x221a === codePoint ||\n    (0x221d <= codePoint && codePoint <= 0x2220) ||\n    0x2223 === codePoint ||\n    0x2225 === codePoint ||\n    (0x2227 <= codePoint && codePoint <= 0x222c) ||\n    0x222e === codePoint ||\n    (0x2234 <= codePoint && codePoint <= 0x2237) ||\n    (0x223c <= codePoint && codePoint <= 0x223d) ||\n    0x2248 === codePoint ||\n    0x224c === codePoint ||\n    0x2252 === codePoint ||\n    (0x2260 <= codePoint && codePoint <= 0x2261) ||\n    (0x2264 <= codePoint && codePoint <= 0x2267) ||\n    (0x226a <= codePoint && codePoint <= 0x226b) ||\n    (0x226e <= codePoint && codePoint <= 0x226f) ||\n    (0x2282 <= codePoint && codePoint <= 0x2283) ||\n    (0x2286 <= codePoint && codePoint <= 0x2287) ||\n    0x2295 === codePoint ||\n    0x2299 === codePoint ||\n    0x22a5 === codePoint ||\n    0x22bf === codePoint ||\n    0x2312 === codePoint ||\n    (0x2460 <= codePoint && codePoint <= 0x24e9) ||\n    (0x24eb <= codePoint && codePoint <= 0x254b) ||\n    (0x2550 <= codePoint && codePoint <= 0x2573) ||\n    (0x2580 <= codePoint && codePoint <= 0x258f) ||\n    (0x2592 <= codePoint && codePoint <= 0x2595) ||\n    (0x25a0 <= codePoint && codePoint <= 0x25a1) ||\n    (0x25a3 <= codePoint && codePoint <= 0x25a9) ||\n    (0x25b2 <= codePoint && codePoint <= 0x25b3) ||\n    (0x25b6 <= codePoint && codePoint <= 0x25b7) ||\n    (0x25bc <= codePoint && codePoint <= 0x25bd) ||\n    (0x25c0 <= codePoint && codePoint <= 0x25c1) ||\n    (0x25c6 <= codePoint && codePoint <= 0x25c8) ||\n    0x25cb === codePoint ||\n    (0x25ce <= codePoint && codePoint <= 0x25d1) ||\n    (0x25e2 <= codePoint && codePoint <= 0x25e5) ||\n    0x25ef === codePoint ||\n    (0x2605 <= codePoint && codePoint <= 0x2606) ||\n    0x2609 === codePoint ||\n    (0x260e <= codePoint && codePoint <= 0x260f) ||\n    (0x2614 <= codePoint && codePoint <= 0x2615) ||\n    0x261c === codePoint ||\n    0x261e === codePoint ||\n    0x2640 === codePoint ||\n    0x2642 === codePoint ||\n    (0x2660 <= codePoint && codePoint <= 0x2661) ||\n    (0x2663 <= codePoint && codePoint <= 0x2665) ||\n    (0x2667 <= codePoint && codePoint <= 0x266a) ||\n    (0x266c <= codePoint && codePoint <= 0x266d) ||\n    0x266f === codePoint ||\n    (0x269e <= codePoint && codePoint <= 0x269f) ||\n    (0x26be <= codePoint && codePoint <= 0x26bf) ||\n    (0x26c4 <= codePoint && codePoint <= 0x26cd) ||\n    (0x26cf <= codePoint && codePoint <= 0x26e1) ||\n    0x26e3 === codePoint ||\n    (0x26e8 <= codePoint && codePoint <= 0x26ff) ||\n    0x273d === codePoint ||\n    0x2757 === codePoint ||\n    (0x2776 <= codePoint && codePoint <= 0x277f) ||\n    (0x2b55 <= codePoint && codePoint <= 0x2b59) ||\n    (0x3248 <= codePoint && codePoint <= 0x324f) ||\n    (0xe000 <= codePoint && codePoint <= 0xf8ff) ||\n    (0xfe00 <= codePoint && codePoint <= 0xfe0f) ||\n    0xfffd === codePoint ||\n    (0x1f100 <= codePoint && codePoint <= 0x1f10a) ||\n    (0x1f110 <= codePoint && codePoint <= 0x1f12d) ||\n    (0x1f130 <= codePoint && codePoint <= 0x1f169) ||\n    (0x1f170 <= codePoint && codePoint <= 0x1f19a) ||\n    (0xe0100 <= codePoint && codePoint <= 0xe01ef) ||\n    (0xf0000 <= codePoint && codePoint <= 0xffffd) ||\n    (0x100000 <= codePoint && codePoint <= 0x10fffd)\n  ) {\n    return 'A';\n  }\n\n  return 'N';\n};\n\nconst emojiRegex = () => {\n  // https://mths.be/emoji\n  // eslint-disable-next-line max-len\n  return /[#*0-9]\\uFE0F?\\u20E3|[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23ED-\\u23EF\\u23F1\\u23F2\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB\\u25FC\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692\\u2694-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A7\\u26AA\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C8\\u26CF\\u26D1\\u26D3\\u26E9\\u26F0-\\u26F5\\u26F7\\u26F8\\u26FA\\u2702\\u2708\\u2709\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2733\\u2734\\u2744\\u2747\\u2757\\u2763\\u27A1\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B55\\u3030\\u303D\\u3297\\u3299]\\uFE0F?|[\\u261D\\u270C\\u270D](?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?|[\\u270A\\u270B](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u2693\\u26A1\\u26AB\\u26C5\\u26CE\\u26D4\\u26EA\\u26FD\\u2705\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2795-\\u2797\\u27B0\\u27BF\\u2B50]|\\u26F9(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\u2764\\uFE0F?(?:\\u200D(?:\\uD83D\\uDD25|\\uD83E\\uDE79))?|\\uD83C(?:[\\uDC04\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDE02\\uDE37\\uDF21\\uDF24-\\uDF2C\\uDF36\\uDF7D\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E\\uDF9F\\uDFCD\\uDFCE\\uDFD4-\\uDFDF\\uDFF5\\uDFF7]\\uFE0F?|[\\uDF85\\uDFC2\\uDFC7](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDFC3\\uDFC4\\uDFCA](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDFCB\\uDFCC](?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF84\\uDF86-\\uDF93\\uDFA0-\\uDFC1\\uDFC5\\uDFC6\\uDFC8\\uDFC9\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF8-\\uDFFF]|\\uDDE6\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF]|\\uDDE7\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF]|\\uDDE8\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF]|\\uDDE9\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF]|\\uDDEA\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA]|\\uDDEB\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7]|\\uDDEC\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE]|\\uDDED\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA]|\\uDDEE\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9]|\\uDDEF\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5]|\\uDDF0\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF]|\\uDDF1\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE]|\\uDDF2\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF]|\\uDDF3\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF]|\\uDDF4\\uD83C\\uDDF2|\\uDDF5\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE]|\\uDDF6\\uD83C\\uDDE6|\\uDDF7\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC]|\\uDDF8\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF]|\\uDDF9\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF]|\\uDDFA\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF]|\\uDDFB\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA]|\\uDDFC\\uD83C[\\uDDEB\\uDDF8]|\\uDDFD\\uD83C\\uDDF0|\\uDDFE\\uD83C[\\uDDEA\\uDDF9]|\\uDDFF\\uD83C[\\uDDE6\\uDDF2\\uDDFC]|\\uDFF3\\uFE0F?(?:\\u200D(?:\\u26A7\\uFE0F?|\\uD83C\\uDF08))?|\\uDFF4(?:\\u200D\\u2620\\uFE0F?|\\uDB40\\uDC67\\uDB40\\uDC62\\uDB40(?:\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67|\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73)\\uDB40\\uDC7F)?)|\\uD83D(?:[\\uDC08\\uDC26](?:\\u200D\\u2B1B)?|[\\uDC3F\\uDCFD\\uDD49\\uDD4A\\uDD6F\\uDD70\\uDD73\\uDD76-\\uDD79\\uDD87\\uDD8A-\\uDD8D\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA\\uDECB\\uDECD-\\uDECF\\uDEE0-\\uDEE5\\uDEE9\\uDEF0\\uDEF3]\\uFE0F?|[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDD74\\uDD90](?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDC00-\\uDC07\\uDC09-\\uDC14\\uDC16-\\uDC25\\uDC27-\\uDC3A\\uDC3C-\\uDC3E\\uDC40\\uDC44\\uDC45\\uDC51-\\uDC65\\uDC6A\\uDC79-\\uDC7B\\uDC7D-\\uDC80\\uDC84\\uDC88-\\uDC8E\\uDC90\\uDC92-\\uDCA9\\uDCAB-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDDA4\\uDDFB-\\uDE2D\\uDE2F-\\uDE34\\uDE37-\\uDE44\\uDE48-\\uDE4A\\uDE80-\\uDEA2\\uDEA4-\\uDEB3\\uDEB7-\\uDEBF\\uDEC1-\\uDEC5\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEDC-\\uDEDF\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB\\uDFF0]|\\uDC15(?:\\u200D\\uD83E\\uDDBA)?|\\uDC3B(?:\\u200D\\u2744\\uFE0F?)?|\\uDC41\\uFE0F?(?:\\u200D\\uD83D\\uDDE8\\uFE0F?)?|\\uDC68(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D(?:[\\uDC68\\uDC69]\\u200D\\uD83D(?:\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?)|[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?)|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFC-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB-\\uDFFE])))?))?|\\uDC69(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?[\\uDC68\\uDC69]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D(?:[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?|\\uDC69\\u200D\\uD83D(?:\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?))|\\uD83E[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD])|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFC-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB-\\uDFFE])))?))?|\\uDC6F(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\uDD75(?:\\uFE0F|\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\uDE2E(?:\\u200D\\uD83D\\uDCA8)?|\\uDE35(?:\\u200D\\uD83D\\uDCAB)?|\\uDE36(?:\\u200D\\uD83C\\uDF2B\\uFE0F?)?)|\\uD83E(?:[\\uDD0C\\uDD0F\\uDD18-\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5\\uDEC3-\\uDEC5\\uDEF0\\uDEF2-\\uDEF8](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD-\\uDDCF\\uDDD4\\uDDD6-\\uDDDD](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDDDE\\uDDDF](?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDD0D\\uDD0E\\uDD10-\\uDD17\\uDD20-\\uDD25\\uDD27-\\uDD2F\\uDD3A\\uDD3F-\\uDD45\\uDD47-\\uDD76\\uDD78-\\uDDB4\\uDDB7\\uDDBA\\uDDBC-\\uDDCC\\uDDD0\\uDDE0-\\uDDFF\\uDE70-\\uDE7C\\uDE80-\\uDE88\\uDE90-\\uDEBD\\uDEBF-\\uDEC2\\uDECE-\\uDEDB\\uDEE0-\\uDEE8]|\\uDD3C(?:\\u200D[\\u2640\\u2642]\\uFE0F?|\\uD83C[\\uDFFB-\\uDFFF])?|\\uDDD1(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1))|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFC-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB\\uDFFD-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFD\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFE]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF-\\uDDB3\\uDDBC\\uDDBD]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?))?|\\uDEF1(?:\\uD83C(?:\\uDFFB(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFC-\\uDFFF])?|\\uDFFC(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])?|\\uDFFD(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])?|\\uDFFE(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])?|\\uDFFF(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB-\\uDFFE])?))?)/g;\n};\n", "import { isArray, isNil, isString, isValid } from '../../../common';\nimport type { Maybe } from '../../../type';\nimport { eastAsianCharacterInfo } from '../stringWidth';\nimport type { ITextMeasureOption, ITextMeasureSpec, ITextSize, TextMeasureInput, TextMeasureMethod } from './interface';\nimport { getContextFont } from './util';\n\nexport class TextMeasure<T extends Partial<ITextMeasureSpec>> {\n  /** 英文字母集 */\n  static readonly ALPHABET_CHAR_SET = 'abcdefghijklmnopqrstuvwxyz';\n\n  /** 数字集 */\n  static readonly NUMBERS_CHAR_SET = '0123456789';\n\n  /** 全角字符 */\n  static readonly FULL_SIZE_CHAR = '字';\n\n  /** 数字大小缓存 */\n  _numberCharSize: Maybe<ITextSize> = null;\n\n  /** 全角字符大小缓存 */\n  _fullCharSize: Maybe<ITextSize> = null;\n\n  /** 字母大小缓存 */\n  _letterCharSize: Maybe<ITextSize> = null;\n\n  /** 特殊字符缓存 */\n  _specialCharSizeMap: Record<string, ITextSize> = {};\n\n  /** 内置测量 canvas */\n  protected _canvas: Maybe<HTMLCanvasElement> = null;\n  protected _context: Maybe<CanvasRenderingContext2D> = null;\n  protected _contextSaved: boolean = false;\n\n  /** 是否不支持 canvas */\n  protected _notSupportCanvas: boolean = false;\n  /** 是否不支持 vrender */\n  protected _notSupportVRender: boolean = false;\n\n  /** 文字 spec */\n  protected readonly _userSpec: Partial<T> = {};\n  textSpec: ITextMeasureSpec;\n\n  protected readonly _option: ITextMeasureOption;\n\n  /** 标准测量方法 */\n  protected readonly _standardMethod: (text: TextMeasureInput) => ITextSize;\n\n  /** 特殊字符集 */\n  specialCharSet: string = '-/: .,@%\\'\"~';\n\n  constructor(option: ITextMeasureOption, textSpec?: Partial<T>) {\n    this._option = option;\n    this._userSpec = textSpec ?? {};\n    this.textSpec = this._initSpec();\n    if (isValid(option.specialCharSet)) {\n      this.specialCharSet = option.specialCharSet;\n    }\n    this._standardMethod = isValid(option.getTextBounds)\n      ? this.fullMeasure.bind(this)\n      : this.measureWithNaiveCanvas.bind(this);\n  }\n\n  /** 初始化测量相关上下文 */\n  initContext() {\n    if (this._notSupportCanvas) {\n      return false;\n    }\n    if (isNil(this._canvas)) {\n      if (isValid(this._option.getCanvasForMeasure)) {\n        this._canvas = this._option.getCanvasForMeasure();\n      }\n      if (\n        isNil(this._canvas) &&\n        typeof window !== 'undefined' &&\n        typeof window.document !== 'undefined' &&\n        globalThis &&\n        isValid(globalThis.document)\n      ) {\n        // 默认创建方法\n        this._canvas = globalThis.document.createElement('canvas');\n      }\n    }\n    if (isNil(this._context) && isValid(this._canvas)) {\n      const context = this._canvas.getContext('2d');\n      if (isValid(context)) {\n        context.save();\n        context.font = getContextFont(this.textSpec);\n        this._contextSaved = true;\n        this._context = context;\n      }\n    }\n    if (isNil(this._context)) {\n      this._notSupportCanvas = true;\n      return false;\n    }\n    return true;\n  }\n\n  protected _initSpec(): ITextMeasureSpec {\n    const { defaultFontParams = {} } = this._option;\n    const {\n      fontStyle = defaultFontParams.fontStyle,\n      fontVariant = defaultFontParams.fontVariant,\n      fontWeight = defaultFontParams.fontWeight ?? 'normal',\n      fontSize = defaultFontParams.fontSize ?? 12,\n      fontFamily = defaultFontParams.fontFamily ?? 'sans-serif',\n      align,\n      textAlign = align ?? 'center',\n      baseline,\n      textBaseline = baseline ?? 'middle',\n      ellipsis,\n      limit\n    } = this._userSpec;\n\n    let { lineHeight = fontSize } = this._userSpec;\n    if (isString(lineHeight) && lineHeight[lineHeight.length - 1] === '%') {\n      const scale = Number.parseFloat(lineHeight.substring(0, lineHeight.length - 1)) / 100;\n      lineHeight = fontSize * scale;\n    }\n\n    return {\n      fontStyle,\n      fontVariant,\n      fontFamily,\n      fontSize,\n      fontWeight,\n      textAlign,\n      textBaseline,\n      ellipsis,\n      limit,\n      lineHeight\n    };\n  }\n\n  /** 计算文本宽高 */\n  measure(text: TextMeasureInput, method?: TextMeasureMethod): ITextSize {\n    switch (method) {\n      case 'vrender':\n      case 'canopus' as any:\n        return this.fullMeasure(text);\n      case 'canvas':\n        return this.measureWithNaiveCanvas(text);\n      case 'simple':\n        return this.quickMeasureWithoutCanvas(text);\n      case 'quick':\n      default:\n        return this.quickMeasure(text);\n    }\n  }\n\n  /** 精确计算文本宽高 */\n  fullMeasure(text: TextMeasureInput): ITextSize {\n    if (isNil(text)) {\n      return { width: 0, height: 0 };\n    }\n    if (isNil(this._option.getTextBounds) || !this._notSupportVRender) {\n      return this.measureWithNaiveCanvas(text); // 降级\n    }\n    const { fontFamily, fontSize, fontWeight, textAlign, textBaseline, ellipsis, limit, lineHeight } = this.textSpec;\n    let size: ITextSize;\n    try {\n      const bounds = this._option.getTextBounds({\n        text,\n        fontFamily,\n        fontSize,\n        fontWeight,\n        textAlign,\n        textBaseline,\n        ellipsis: !!ellipsis,\n        maxLineWidth: limit || Infinity,\n        lineHeight\n      });\n      size = { width: bounds.width(), height: bounds.height() };\n    } catch (e) {\n      this._notSupportVRender = true;\n      size = this.measureWithNaiveCanvas(text); // 降级\n    }\n    return size;\n  }\n\n  /** 通过原生 canvas 精确计算文本宽度，高度为估算 */\n  measureWithNaiveCanvas(text: TextMeasureInput): ITextSize {\n    return this._measureReduce(text, this._measureWithNaiveCanvas.bind(this));\n  }\n  protected _measureWithNaiveCanvas(text: string): ITextSize {\n    if (!this.initContext()) {\n      return this._quickMeasureWithoutCanvas(text); // 降级\n    }\n    const metrics = this._context!.measureText(text);\n    const { fontSize, lineHeight } = this.textSpec;\n    return {\n      width: metrics.width,\n      height: (lineHeight as number) ?? fontSize,\n      fontBoundingBoxAscent: metrics.fontBoundingBoxAscent,\n      fontBoundingBoxDescent: metrics.fontBoundingBoxDescent\n    };\n  }\n\n  /** 快速估算文本宽高 */\n  quickMeasure(text: TextMeasureInput): ITextSize {\n    return this._measureReduce(text, this._quickMeasure.bind(this));\n  }\n  protected _quickMeasure(text: string): ITextSize {\n    const totalSize: ITextSize = {\n      width: 0,\n      height: 0\n    };\n\n    for (let i = 0; i < text.length; i++) {\n      const char = text[i];\n      // 先判断是否特殊字符\n      let size = this._measureSpecialChar(char);\n      // 再判断是否数字\n      if (isNil(size) && TextMeasure.NUMBERS_CHAR_SET.includes(char)) {\n        size = this._measureNumberChar();\n      }\n      // 再判断全角字符\n      if (isNil(size) && ['F', 'W'].includes(eastAsianCharacterInfo(char))) {\n        size = this._measureFullSizeChar();\n      }\n      // 最后按半角字符处理\n      if (isNil(size)) {\n        size = this._measureLetterChar();\n      }\n      totalSize.width += size.width;\n      totalSize.height = Math.max(totalSize.height, size.height);\n      !isNil(size.fontBoundingBoxAscent) && (totalSize.fontBoundingBoxAscent = size.fontBoundingBoxAscent);\n      !isNil(size.fontBoundingBoxDescent) && (totalSize.fontBoundingBoxDescent = size.fontBoundingBoxDescent);\n    }\n    return totalSize;\n  }\n\n  /** 不使用 canvas 来快速估算文本宽高 */\n  quickMeasureWithoutCanvas(text: TextMeasureInput): ITextSize {\n    return this._measureReduce(text, this._quickMeasureWithoutCanvas.bind(this));\n  }\n  protected _quickMeasureWithoutCanvas(text: string): ITextSize {\n    const totalSize: ITextSize = {\n      width: 0,\n      height: 0\n    };\n\n    const { fontSize, lineHeight } = this.textSpec;\n    for (let i = 0; i < text.length; i++) {\n      const char = text[i];\n      // 判断全角字符\n      const size = ['F', 'W'].includes(eastAsianCharacterInfo(char)) ? 1 : 0.53;\n      totalSize.width += size * fontSize;\n    }\n    totalSize.height = (lineHeight as number) ?? fontSize;\n    return totalSize;\n  }\n\n  protected _measureReduce(text: TextMeasureInput, processor: (str: string) => ITextSize): ITextSize {\n    const { fontSize, lineHeight } = this.textSpec;\n    const defaultResult = { width: 0, height: 0 };\n\n    if (isNil(text)) {\n      return defaultResult;\n    } else if (isArray(text)) {\n      const textArr = text.filter(isValid).map(s => s.toString());\n      if (textArr.length === 0) {\n        return defaultResult;\n      } else if (textArr.length === 1) {\n        return processor(textArr[0]);\n      }\n      return {\n        width: textArr.reduce((maxWidth, cur) => Math.max(maxWidth, processor(cur).width), 0),\n        height: textArr.length * (((lineHeight as number) ?? fontSize) + 1) + 1 // 经验值\n      };\n    }\n    return processor(text.toString());\n  }\n\n  /** 测量一个数字 */\n  protected _measureNumberChar(): ITextSize {\n    if (isNil(this._numberCharSize)) {\n      const numberBounds = this._standardMethod(TextMeasure.NUMBERS_CHAR_SET);\n      this._numberCharSize = {\n        width: numberBounds.width / TextMeasure.NUMBERS_CHAR_SET.length, // 宽度取均值\n        height: numberBounds.height,\n        fontBoundingBoxAscent: numberBounds.fontBoundingBoxAscent,\n        fontBoundingBoxDescent: numberBounds.fontBoundingBoxDescent\n      };\n    }\n    return this._numberCharSize;\n  }\n\n  /** 测量一个全角字符 */\n  protected _measureFullSizeChar(): ITextSize {\n    if (isNil(this._fullCharSize)) {\n      this._fullCharSize = this._standardMethod(TextMeasure.FULL_SIZE_CHAR);\n    }\n    return this._fullCharSize;\n  }\n\n  /** 测量一个英文字符 */\n  protected _measureLetterChar(): ITextSize {\n    if (isNil(this._letterCharSize)) {\n      const alphabetBounds = this._standardMethod(TextMeasure.ALPHABET_CHAR_SET);\n      this._letterCharSize = {\n        width: alphabetBounds.width / TextMeasure.ALPHABET_CHAR_SET.length, // 宽度取均值\n        height: alphabetBounds.height,\n        fontBoundingBoxAscent: alphabetBounds.fontBoundingBoxAscent,\n        fontBoundingBoxDescent: alphabetBounds.fontBoundingBoxDescent\n      };\n    }\n    return this._letterCharSize;\n  }\n\n  /** 测量一个特殊字符 */\n  protected _measureSpecialChar(char: string): Maybe<ITextSize> {\n    if (isValid(this._specialCharSizeMap[char])) {\n      return this._specialCharSizeMap[char];\n    }\n    if (this.specialCharSet.includes(char)) {\n      this._specialCharSizeMap[char] = this._standardMethod(char);\n      return this._specialCharSizeMap[char];\n    }\n    return null;\n  }\n\n  release() {\n    if (isValid(this._canvas)) {\n      this._canvas = null;\n    }\n    if (isValid(this._context)) {\n      if (this._contextSaved) {\n        this._context.restore();\n        this._contextSaved = false;\n      }\n      this._context = null;\n    }\n  }\n}\n", "import type { IBoundsLike, IOBBBounds } from '../data-structure';\n\nexport type InsideBoundsAnchorType = 'inside' | 'inside-top' | 'inside-bottom' | 'inside-left' | 'inside-right';\n\nexport type BoundsAnchorType =\n  | 'top'\n  | 'bottom'\n  | 'left'\n  | 'right'\n  | 'top-right'\n  | 'top-left'\n  | 'bottom-right'\n  | 'bottom-left'\n  | 'center';\n\nexport const calculateAnchorOfBounds = (bounds: IBoundsLike, anchorType: string) => {\n  const { x1, x2, y1, y2 } = bounds;\n  const rectWidth = Math.abs(x2 - x1);\n  const rectHeight = Math.abs(y2 - y1);\n  let anchorX = (x1 + x2) / 2;\n  let anchorY = (y1 + y2) / 2;\n\n  let sx = 0;\n  let sy = 0;\n\n  switch (anchorType) {\n    case 'top':\n    case 'inside-top':\n      sy = -0.5;\n      break;\n    case 'bottom':\n    case 'inside-bottom':\n      sy = 0.5;\n      break;\n    case 'left':\n    case 'inside-left':\n      sx = -0.5;\n      break;\n    case 'right':\n    case 'inside-right':\n      sx = 0.5;\n      break;\n    case 'top-right':\n      sx = 0.5;\n      sy = -0.5;\n      break;\n    case 'top-left':\n      sx = -0.5;\n      sy = -0.5;\n      break;\n    case 'bottom-right':\n      sx = 0.5;\n      sy = 0.5;\n      break;\n    case 'bottom-left':\n      sx = -0.5;\n      sy = 0.5;\n  }\n\n  anchorX += sx * rectWidth;\n  anchorY += sy * rectHeight;\n\n  return { x: anchorX, y: anchorY };\n};\n\nexport const aabbSeparation = (a: IBoundsLike, b: IBoundsLike) => {\n  return Math.max(b.x1 - a.x2, a.x1 - b.x2, b.y1 - a.y2, a.y1 - b.y2);\n};\n\nexport const obbSeparation = (a: IOBBBounds, b: IOBBBounds) => {\n  const axes = [\n    { x: Math.cos(a.angle), y: Math.sin(a.angle) }, // Rect A's first axis\n    { x: -Math.sin(a.angle), y: Math.cos(a.angle) }, // Rect A's second axis\n    { x: Math.cos(b.angle), y: Math.sin(a.angle) }, // Rect B's first axis\n    { x: -Math.sin(b.angle), y: Math.cos(a.angle) } // Rect B's second axis\n  ];\n\n  // calculate the projection range of a rectangle on a given axis\n  function getProjectionRange(obb: IOBBBounds, axisX: number, axisY: number): { min: number; max: number } {\n    const corners = obb.getRotatedCorners();\n    const projections = corners.map(p => p.x * axisX + p.y * axisY);\n    return { min: Math.min(...projections), max: Math.max(...projections) };\n  }\n\n  // Calculate distances for all axes\n  let maxDistance = 0;\n  for (const axis of axes) {\n    const rangeA = getProjectionRange(a, axis.x, axis.y);\n    const rangeB = getProjectionRange(b, axis.x, axis.y);\n    let distance;\n    if (rangeA.max < rangeB.min) {\n      distance = rangeB.min - rangeA.max; // B is to the right of A\n    } else if (rangeB.max < rangeA.min) {\n      distance = rangeA.min - rangeB.max; // A is to the right of B\n    } else {\n      distance = 0; // Overlapping\n    }\n    maxDistance = Math.max(maxDistance, distance);\n  }\n\n  return maxDistance;\n};\n", "import { isArray } from '../common';\nimport { isRotateAABBIntersect, rotatePoint } from '../graphics';\nimport type { vec4, vec8 } from '../math';\nimport { abs, epsilon } from '../math';\nimport type { IMatrix } from './matrix';\nimport type { IPointLike } from './point';\n\nexport type IBoundsLike = Pick<IBounds, 'x1' | 'y1' | 'x2' | 'y2'>;\nexport type IAABBBoundsLike = IBoundsLike;\nexport type IOBBBoundsLike = Pick<IOBBBounds, 'x1' | 'y1' | 'x2' | 'y2' | 'angle'>;\n\nexport interface IBounds {\n  x1: number;\n  y1: number;\n  x2: number;\n  y2: number;\n  clone: () => IBounds;\n  clear: () => IBounds;\n  empty: () => boolean;\n  equals: (b: IBounds) => boolean;\n  set: (x1: number, y1: number, x2: number, y2: number) => IBounds;\n  setValue: (x1: number, y1: number, x2: number, y2: number) => IBounds;\n  add: (x: number, y: number) => IBounds;\n  expand: (d: number) => IBounds;\n  round: () => IBounds;\n  translate: (dx: number, dy: number) => IBounds;\n  rotate: (angle: number, x: number, y: number) => IBounds;\n  scale: (sx: number, sy: number, x: number, y: number) => IBounds;\n  /**\n   * 并集\n   * @param b\n   * @returns\n   */\n  union: (b: IBoundsLike) => IBounds;\n  /**\n   * 交集\n   * @param b\n   * @returns\n   */\n  intersect: (b: IBoundsLike) => IBounds;\n  /**\n   * 是否包含b\n   * @param b\n   * @returns\n   */\n  encloses: (b: IBoundsLike) => boolean;\n  /**\n   * 是否共边\n   * @param b\n   * @returns\n   */\n  alignsWith: (b: IBoundsLike) => boolean;\n  /**\n   * 是否相交\n   * @param b\n   * @returns\n   */\n  intersects: (b: IBoundsLike) => boolean;\n  /**\n   * 是否包含\n   * @param x\n   * @param y\n   * @returns\n   */\n  contains: (x: number, y: number) => boolean;\n  containsPoint: (p: IPointLike) => boolean;\n  width: () => number;\n  height: () => number;\n  scaleX: (s: number) => IBounds;\n  scaleY: (s: number) => IBounds;\n\n  copy: (b: IBoundsLike) => IBounds;\n\n  transformWithMatrix: (matrix: IMatrix) => IBounds;\n}\n\nexport type IAABBBounds = IBounds;\n\nexport interface IOBBBounds extends IBounds {\n  angle: number;\n  getRotatedCorners: () => IPointLike[];\n}\n\nexport function transformBoundsWithMatrix(out: IBounds, bounds: IBounds, matrix: IMatrix): IBounds {\n  const { x1, y1, x2, y2 } = bounds;\n  // 如果没有旋转和缩放，那就直接translate\n  if (matrix.onlyTranslate()) {\n    if (out !== bounds) {\n      out.setValue(bounds.x1, bounds.y1, bounds.x2, bounds.y2);\n    }\n    out.translate(matrix.e, matrix.f);\n    return bounds;\n  }\n  out.clear();\n  out.add(matrix.a * x1 + matrix.c * y1 + matrix.e, matrix.b * x1 + matrix.d * y1 + matrix.f);\n  out.add(matrix.a * x2 + matrix.c * y1 + matrix.e, matrix.b * x2 + matrix.d * y1 + matrix.f);\n  out.add(matrix.a * x2 + matrix.c * y2 + matrix.e, matrix.b * x2 + matrix.d * y2 + matrix.f);\n  out.add(matrix.a * x1 + matrix.c * y2 + matrix.e, matrix.b * x1 + matrix.d * y2 + matrix.f);\n  return bounds;\n}\n\n/**\n * 依据graphic的属性对bounds进行变换\n * @param bounds\n * @param x\n * @param y\n * @param scaleX\n * @param scaleY\n * @param angle\n * @param rotateCenter\n */\nexport function transformBounds(\n  bounds: IBounds,\n  x: number,\n  y: number,\n  scaleX: number,\n  scaleY: number,\n  angle: number,\n  rotateCenter?: [number, number]\n) {\n  if (abs(scaleX) <= epsilon || abs(scaleY) <= epsilon) {\n    return;\n  }\n\n  scaleX !== 1 && bounds.scaleX(scaleX);\n  scaleY !== 1 && bounds.scaleY(scaleY);\n\n  if (isFinite(angle) && Math.abs(angle) > epsilon) {\n    let rx = 0;\n    let ry = 0;\n    if (rotateCenter !== undefined) {\n      rx = rotateCenter[0];\n      ry = rotateCenter[1];\n    }\n    bounds.rotate(angle, rx, ry);\n  }\n\n  bounds.translate(x, y);\n}\n\n/**\nCopyright (c) 2015-2021, University of Washington Interactive Data Lab\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this\n   list of conditions and the following disclaimer.\n\n2. Redistributions in binary form must reproduce the above copyright notice,\n   this list of conditions and the following disclaimer in the documentation\n   and/or other materials provided with the distribution.\n\n3. Neither the name of the copyright holder nor the names of its contributors\n  may be used to endorse or promote products derived from this software\n  without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n// 基于Vega的Bounds重构\n// https://github.com/vega/vega/blob/825bfaba6ccfe3306183df22b8c955a07bb30714/packages/vega-scenegraph/src/Bounds.js\nexport class Bounds implements IBounds {\n  // 默认初始值是Number.MAX_VALUE\n  x1: number;\n  y1: number;\n  x2: number;\n  y2: number;\n\n  constructor(bounds?: Bounds) {\n    if (bounds) {\n      this.setValue(bounds.x1, bounds.y1, bounds.x2, bounds.y2);\n    } else {\n      this.clear();\n    }\n  }\n\n  clone() {\n    return new Bounds(this);\n  }\n\n  clear(): Bounds {\n    this.x1 = +Number.MAX_VALUE;\n    this.y1 = +Number.MAX_VALUE;\n    this.x2 = -Number.MAX_VALUE;\n    this.y2 = -Number.MAX_VALUE;\n    return this;\n  }\n  empty(): boolean {\n    return (\n      this.x1 === +Number.MAX_VALUE &&\n      this.y1 === +Number.MAX_VALUE &&\n      this.x2 === -Number.MAX_VALUE &&\n      this.y2 === -Number.MAX_VALUE\n    );\n  }\n  equals(b: IBoundsLike): boolean {\n    return this.x1 === b.x1 && this.y1 === b.y1 && this.x2 === b.x2 && this.y2 === b.y2;\n  }\n  setValue(x1: number = 0, y1: number = 0, x2: number = 0, y2: number = 0): Bounds {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n    return this;\n  }\n  set(x1: number = 0, y1: number = 0, x2: number = 0, y2: number = 0): Bounds {\n    if (x2 < x1) {\n      this.x2 = x1;\n      this.x1 = x2;\n    } else {\n      this.x1 = x1;\n      this.x2 = x2;\n    }\n    if (y2 < y1) {\n      this.y2 = y1;\n      this.y1 = y2;\n    } else {\n      this.y1 = y1;\n      this.y2 = y2;\n    }\n    return this;\n  }\n  add(x: number = 0, y: number = 0): Bounds {\n    if (x < this.x1) {\n      this.x1 = x;\n    }\n    if (y < this.y1) {\n      this.y1 = y;\n    }\n    if (x > this.x2) {\n      this.x2 = x;\n    }\n    if (y > this.y2) {\n      this.y2 = y;\n    }\n    return this;\n  }\n  expand(d: number | [number, number, number, number] = 0): Bounds {\n    if (isArray(d)) {\n      this.y1 -= d[0];\n      this.x2 += d[1];\n      this.y2 += d[2];\n      this.x1 -= d[3];\n    } else {\n      this.x1 -= d;\n      this.y1 -= d;\n      this.x2 += d;\n      this.y2 += d;\n    }\n    return this;\n  }\n  round(): Bounds {\n    this.x1 = Math.floor(this.x1);\n    this.y1 = Math.floor(this.y1);\n    this.x2 = Math.ceil(this.x2);\n    this.y2 = Math.ceil(this.y2);\n    return this;\n  }\n  translate(dx: number = 0, dy: number = 0): Bounds {\n    this.x1 += dx;\n    this.x2 += dx;\n    this.y1 += dy;\n    this.y2 += dy;\n    return this;\n  }\n  rotate(angle: number = 0, x: number = 0, y: number = 0) {\n    const p = this.rotatedPoints(angle, x, y);\n    return this.clear().add(p[0], p[1]).add(p[2], p[3]).add(p[4], p[5]).add(p[6], p[7]);\n  }\n  scale(sx: number = 0, sy: number = 0, x: number = 0, y: number = 0) {\n    const p = this.scalePoints(sx, sy, x, y);\n    return this.clear().add(p[0], p[1]).add(p[2], p[3]);\n  }\n  /**\n   * 并集\n   * @param b\n   * @returns\n   */\n  union(b: IBoundsLike): Bounds {\n    if (b.x1 < this.x1) {\n      this.x1 = b.x1;\n    }\n    if (b.y1 < this.y1) {\n      this.y1 = b.y1;\n    }\n    if (b.x2 > this.x2) {\n      this.x2 = b.x2;\n    }\n    if (b.y2 > this.y2) {\n      this.y2 = b.y2;\n    }\n    return this;\n  }\n  /**\n   * 交集\n   * @param b\n   * @returns\n   */\n  intersect(b: IBoundsLike): Bounds {\n    if (b.x1 > this.x1) {\n      this.x1 = b.x1;\n    }\n    if (b.y1 > this.y1) {\n      this.y1 = b.y1;\n    }\n    if (b.x2 < this.x2) {\n      this.x2 = b.x2;\n    }\n    if (b.y2 < this.y2) {\n      this.y2 = b.y2;\n    }\n    return this;\n  }\n  /**\n   * 是否包含b\n   * @param b\n   * @returns\n   */\n  encloses(b: IBoundsLike): boolean {\n    return b && this.x1 <= b.x1 && this.x2 >= b.x2 && this.y1 <= b.y1 && this.y2 >= b.y2;\n  }\n  /**\n   * 是否共边\n   * @param b\n   * @returns\n   */\n  alignsWith(b: IBoundsLike): boolean {\n    return b && (this.x1 === b.x1 || this.x2 === b.x2 || this.y1 === b.y1 || this.y2 === b.y2);\n  }\n  /**\n   * 是否相交\n   * @param b\n   * @returns\n   */\n  intersects(b: IBoundsLike): boolean {\n    return b && !(this.x2 < b.x1 || this.x1 > b.x2 || this.y2 < b.y1 || this.y1 > b.y2);\n  }\n  /**\n   * 是否包含\n   * @param x\n   * @param y\n   * @returns\n   */\n  contains(x: number = 0, y: number = 0): boolean {\n    return !(x < this.x1 || x > this.x2 || y < this.y1 || y > this.y2);\n  }\n  containsPoint(p: IPointLike): boolean {\n    return !(p.x < this.x1 || p.x > this.x2 || p.y < this.y1 || p.y > this.y2);\n  }\n  width(): number {\n    if (this.empty()) {\n      return 0;\n    }\n    return this.x2 - this.x1;\n  }\n  height(): number {\n    if (this.empty()) {\n      return 0;\n    }\n    return this.y2 - this.y1;\n  }\n  scaleX(s: number = 0): Bounds {\n    this.x1 *= s;\n    this.x2 *= s;\n    return this;\n  }\n\n  scaleY(s: number = 0): Bounds {\n    this.y1 *= s;\n    this.y2 *= s;\n    return this;\n  }\n\n  transformWithMatrix(matrix: IMatrix): Bounds {\n    transformBoundsWithMatrix(this, this, matrix);\n    return this;\n  }\n\n  copy(b: IBoundsLike) {\n    this.x1 = b.x1;\n    this.y1 = b.y1;\n    this.x2 = b.x2;\n    this.y2 = b.y2;\n    return this;\n  }\n  private rotatedPoints(angle: number, x: number, y: number): vec8 {\n    const { x1, y1, x2, y2 } = this;\n    const cos = Math.cos(angle);\n    const sin = Math.sin(angle);\n    const cx = x - x * cos + y * sin;\n    const cy = y - x * sin - y * cos;\n\n    return [\n      cos * x1 - sin * y1 + cx,\n      sin * x1 + cos * y1 + cy,\n      cos * x1 - sin * y2 + cx,\n      sin * x1 + cos * y2 + cy,\n      cos * x2 - sin * y1 + cx,\n      sin * x2 + cos * y1 + cy,\n      cos * x2 - sin * y2 + cx,\n      sin * x2 + cos * y2 + cy\n    ];\n  }\n  private scalePoints(sx: number, sy: number, x: number, y: number): vec4 {\n    const { x1, y1, x2, y2 } = this;\n\n    return [sx * x1 + (1 - sx) * x, sy * y1 + (1 - sy) * y, sx * x2 + (1 - sx) * x, sy * y2 + (1 - sy) * y];\n  }\n}\n\nexport class AABBBounds extends Bounds {}\nexport class OBBBounds extends Bounds {\n  angle: number;\n\n  constructor(bounds?: Bounds, angle = 0) {\n    super(bounds);\n    if (bounds) {\n      this.angle = (bounds as any).angle ?? angle;\n    }\n  }\n\n  intersects(b: OBBBounds): boolean {\n    return isRotateAABBIntersect(this, b);\n  }\n\n  setValue(x1: number = 0, y1: number = 0, x2: number = 0, y2: number = 0, angle = 0): Bounds {\n    super.setValue(x1, y1, x2, y2);\n    this.angle = angle;\n    return this;\n  }\n\n  clone(): OBBBounds {\n    return new OBBBounds(this);\n  }\n\n  getRotatedCorners(): IPointLike[] {\n    const cx = (this.x1 + this.x2) / 2;\n    const cy = (this.y1 + this.y2) / 2;\n\n    const originPoint = { x: cx, y: cy };\n    return [\n      rotatePoint({ x: this.x1, y: this.y1 }, this.angle, originPoint),\n      rotatePoint({ x: this.x2, y: this.y1 }, this.angle, originPoint),\n      rotatePoint({ x: this.x1, y: this.y2 }, this.angle, originPoint),\n      rotatePoint({ x: this.x2, y: this.y2 }, this.angle, originPoint)\n    ];\n  }\n}\n", "import { radianToDegree } from '../angle';\nimport type { vec2 } from '../math';\nimport { cos, sin } from '../math';\nimport type { IPointLike } from './point';\n\nexport interface IMatrixLike {\n  a: number;\n  /**\n   * skew y\n   */\n  b: number;\n  /**\n   * skewx\n   */\n  c: number;\n  /**\n   * scale y\n   */\n  d: number;\n  /**\n   * translate x\n   */\n  e: number;\n  /**\n   * translate y\n   */\n  f: number;\n}\n\n// 不建议用户直接操作matrix\nexport interface IMatrix {\n  /**\n   * scale x\n   */\n  a: number;\n  /**\n   * skew y\n   */\n  b: number;\n  /**\n   * skewx\n   */\n  c: number;\n  /**\n   * scale y\n   */\n  d: number;\n  /**\n   * translate x\n   */\n  e: number;\n  /**\n   * translate y\n   */\n  f: number;\n\n  setValue: (a: number, b: number, c: number, d: number, e: number, f: number) => IMatrix;\n  /**\n   * 获取当前矩阵的逆矩阵\n   */\n  getInverse: () => IMatrix;\n  rotate: (rad: number) => IMatrix;\n  rotateByCenter: (rad: number, cx: number, cy: number) => IMatrix;\n  scale: (sx: number, sy: number) => IMatrix;\n  setScale: (sx: number, sy: number) => IMatrix;\n  transform: (a: number, b: number, c: number, d: number, e: number, f: number) => IMatrix;\n  translate: (x: number, y: number) => IMatrix;\n  transpose: () => IMatrix;\n  equalToMatrix: (m2: IMatrixLike) => boolean;\n  equalTo: (a2: number, b2: number, c2: number, d2: number, e2: number, f2: number) => boolean;\n  /**\n   * 矩阵相乘\n   * @param matrix\n   */\n  multiply: (a2: number, b2: number, c2: number, d2: number, e2: number, f2: number) => IMatrix;\n  /**\n   * 插值计算\n   * @param m2\n   * @param t\n   */\n  interpolate: (m2: IMatrix, t: number) => IMatrix;\n\n  // 将point转到当前矩阵的坐标空间中\n  transformPoint: (source: IPointLike, target: IPointLike) => void;\n\n  reset: () => IMatrix;\n\n  // 是否只有translate\n  onlyTranslate: (scale?: number) => boolean;\n\n  clone: () => IMatrix;\n\n  toTransformAttrs: () => {\n    x: number;\n    y: number;\n    scaleX: number;\n    scaleY: number;\n    skewX: number;\n    skewY: number;\n    rotateDeg: number;\n  };\n}\n\nexport class Matrix implements IMatrix {\n  /**\n   * scale x\n   */\n  a: number;\n  /**\n   * skew y\n   */\n  b: number;\n  /**\n   * skewx\n   */\n  c: number;\n  /**\n   * scale y\n   */\n  d: number;\n  /**\n   * translate x\n   */\n  e: number;\n  /**\n   * translate y\n   */\n  f: number;\n\n  constructor(a: number = 1, b: number = 0, c: number = 0, d: number = 1, e: number = 0, f: number = 0) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    this.e = e;\n    this.f = f;\n  }\n\n  equalToMatrix(m2: IMatrixLike): boolean {\n    // ef -> ad -> bc\n    return !(\n      this.e !== m2.e ||\n      this.f !== m2.f ||\n      this.a !== m2.a ||\n      this.d !== m2.d ||\n      this.b !== m2.b ||\n      this.c !== m2.c\n    );\n  }\n  equalTo(a: number, b: number, c: number, d: number, e: number, f: number): boolean {\n    // ef -> ad -> bc\n    return !(this.e !== e || this.f !== f || this.a !== a || this.d !== d || this.b !== b || this.c !== c);\n  }\n\n  setValue(a: number, b: number, c: number, d: number, e: number, f: number) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    this.e = e;\n    this.f = f;\n    return this;\n  }\n\n  reset(): this {\n    this.a = 1;\n    this.b = 0;\n    this.c = 0;\n    this.d = 1;\n    this.e = 0;\n    this.f = 0;\n    return this;\n  }\n\n  /**\n   * 获取当前矩阵的逆矩阵\n   */\n  getInverse() {\n    const a = this.a;\n    const b = this.b;\n    const c = this.c;\n    const d = this.d;\n    const e = this.e;\n    const f = this.f;\n    const m = new Matrix();\n    const dt = a * d - b * c;\n\n    m.a = d / dt;\n    m.b = -b / dt;\n    m.c = -c / dt;\n    m.d = a / dt;\n    m.e = (c * f - d * e) / dt;\n    m.f = -(a * f - b * e) / dt;\n\n    return m;\n  }\n\n  rotate(rad: number) {\n    const c = Math.cos(rad);\n    const s = Math.sin(rad);\n    const m11 = this.a * c + this.c * s;\n    const m12 = this.b * c + this.d * s;\n    const m21 = this.a * -s + this.c * c;\n    const m22 = this.b * -s + this.d * c;\n    this.a = m11;\n    this.b = m12;\n    this.c = m21;\n    this.d = m22;\n    return this;\n  }\n\n  rotateByCenter(rad: number, cx: number, cy: number) {\n    /** rotate matrix\n     * | cos -sin (1-cos)*cx+sin*cy |\n     * | sin cos  (1-cos)*cy-sin*cx |\n     * | 0   0    1                 |\n     * after multiply\n     *   m13 = (1-cos)*cx+sin*cy;\n     *   m23 = (1-cos)*cy-sin*cx;\n     * | cos*a-sin*b cos*c-sin*d cos*e-sin*f+m13 |\n     * | sin*a+cos*b sin*c+cos*d sin*e+cos*f+m23 |\n     * | 0           0           1               |\n     */\n    const cos = Math.cos(rad);\n    const sin = Math.sin(rad);\n    const rotateM13 = (1 - cos) * cx + sin * cy;\n    const rotateM23 = (1 - cos) * cy - sin * cx;\n    const m11 = cos * this.a - sin * this.b;\n    const m21 = sin * this.a + cos * this.b;\n    const m12 = cos * this.c - sin * this.d;\n    const m22 = sin * this.c + cos * this.d;\n    const m13 = cos * this.e - sin * this.f + rotateM13;\n    const m23 = sin * this.e + cos * this.f + rotateM23;\n    this.a = m11;\n    this.b = m21;\n    this.c = m12;\n    this.d = m22;\n    this.e = m13;\n    this.f = m23;\n    return this;\n  }\n\n  scale(sx: number, sy: number) {\n    this.a *= sx;\n    this.b *= sx;\n    this.c *= sy;\n    this.d *= sy;\n    return this;\n  }\n\n  setScale(sx: number, sy: number) {\n    this.b = (this.b / this.a) * sx;\n    this.c = (this.c / this.d) * sy;\n    this.a = sx;\n    this.d = sy;\n    return this;\n  }\n\n  transform(a: number, b: number, c: number, d: number, e: number, f: number) {\n    this.multiply(a, b, c, d, e, f);\n    return this;\n  }\n\n  translate(x: number, y: number) {\n    this.e += this.a * x + this.c * y;\n    this.f += this.b * x + this.d * y;\n    return this;\n  }\n\n  transpose() {\n    /** transpose matrix\n     * | 0 1 0 |\n     * | 1 0 0 |\n     * | 0 0 1 |\n     * after multiply\n     * | b d f |\n     * | a c e |\n     * | 0 0 1 |\n     */\n    const { a, b, c, d, e, f } = this;\n    this.a = b;\n    this.b = a;\n    this.c = d;\n    this.d = c;\n    this.e = f;\n    this.f = e;\n    return this;\n  }\n\n  /**\n   * 矩阵相乘\n   * @param matrix\n   */\n  multiply(a2: number, b2: number, c2: number, d2: number, e2: number, f2: number) {\n    const a1 = this.a;\n    const b1 = this.b;\n    const c1 = this.c;\n    const d1 = this.d;\n    const e1 = this.e;\n    const f1 = this.f;\n\n    const m11 = a1 * a2 + c1 * b2;\n    const m12 = b1 * a2 + d1 * b2;\n    const m21 = a1 * c2 + c1 * d2;\n    const m22 = b1 * c2 + d1 * d2;\n    const dx = a1 * e2 + c1 * f2 + e1;\n    const dy = b1 * e2 + d1 * f2 + f1;\n\n    this.a = m11;\n    this.b = m12;\n    this.c = m21;\n    this.d = m22;\n    this.e = dx;\n    this.f = dy;\n    return this;\n  }\n\n  /**\n   * 插值计算\n   * @param m2\n   * @param t\n   */\n  interpolate(m2: Matrix, t: number) {\n    const m = new Matrix();\n\n    m.a = this.a + (m2.a - this.a) * t;\n    m.b = this.b + (m2.b - this.b) * t;\n    m.c = this.c + (m2.c - this.c) * t;\n    m.d = this.d + (m2.d - this.d) * t;\n    m.e = this.e + (m2.e - this.e) * t;\n    m.f = this.f + (m2.f - this.f) * t;\n\n    return m;\n  }\n\n  /**\n   * 将point转到当前矩阵的坐标空间中\n   * @param source\n   * @param target\n   */\n  transformPoint(source: IPointLike, target: IPointLike) {\n    const { a, b, c, d, e, f } = this;\n    const dt = a * d - b * c;\n\n    const nextA = d / dt;\n    const nextB = -b / dt;\n    const nextC = -c / dt;\n    const nextD = a / dt;\n    const nextE = (c * f - d * e) / dt;\n    const nextF = -(a * f - b * e) / dt;\n\n    const { x, y } = source;\n    target.x = x * nextA + y * nextC + nextE;\n    target.y = x * nextB + y * nextD + nextF;\n  }\n\n  // 只有translate\n  onlyTranslate(scale: number = 1): boolean {\n    return this.a === scale && this.b === 0 && this.c === 0 && this.d === scale;\n  }\n\n  clone(): Matrix {\n    return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n  }\n\n  toTransformAttrs() {\n    const a = this.a;\n    const b = this.b;\n    const c = this.c;\n    const d = this.d;\n    const e = this.e;\n    const f = this.f;\n\n    const delta = a * d - b * c;\n\n    const result = {\n      x: e,\n      y: f,\n      rotateDeg: 0,\n      scaleX: 0,\n      scaleY: 0,\n      skewX: 0,\n      skewY: 0\n    };\n\n    // Apply the QR-like decomposition.\n    if (a !== 0 || b !== 0) {\n      const r = Math.sqrt(a * a + b * b);\n      result.rotateDeg = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n      result.scaleX = r;\n      result.scaleY = delta / r;\n      result.skewX = (a * c + b * d) / delta;\n      result.skewY = 0;\n    } else if (c !== 0 || d !== 0) {\n      const s = Math.sqrt(c * c + d * d);\n      result.rotateDeg = Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n      result.scaleX = delta / s;\n      result.scaleY = s;\n      result.skewX = 0;\n      result.skewY = (a * c + b * d) / delta;\n    } else {\n      // a = b = c = d = 0\n    }\n\n    result.rotateDeg = radianToDegree(result.rotateDeg);\n\n    return result;\n  }\n}\n\n/**\n * 对matrix进行通常的变换（基于rotateCenter进行旋转的同时进行translate和scale）\n * @param out\n * @param origin\n * @param x\n * @param y\n * @param scaleX\n * @param scaleY\n * @param angle\n * @param rotateCenter\n */\nexport function normalTransform(\n  out: Matrix,\n  origin: Matrix,\n  x: number,\n  y: number,\n  scaleX: number,\n  scaleY: number,\n  angle: number,\n  rotateCenter?: vec2\n) {\n  const oa = origin.a;\n  const ob = origin.b;\n  const oc = origin.c;\n  const od = origin.d;\n  const oe = origin.e;\n  const of = origin.f;\n  const cosTheta = cos(angle);\n  const sinTheta = sin(angle);\n  let rotateCenterX: number;\n  let rotateCenterY: number;\n  if (rotateCenter) {\n    rotateCenterX = rotateCenter[0];\n    rotateCenterY = rotateCenter[1];\n  } else {\n    rotateCenterX = x;\n    rotateCenterY = y;\n  }\n  const offsetX = rotateCenterX - x;\n  const offsetY = rotateCenterY - y;\n\n  const a1 = oa * cosTheta + oc * sinTheta;\n  const b1 = ob * cosTheta + od * sinTheta;\n  const c1 = oc * cosTheta - oa * sinTheta;\n  const d1 = od * cosTheta - ob * sinTheta;\n  out.a = scaleX * a1;\n  out.b = scaleX * b1;\n  out.c = scaleY * c1;\n  out.d = scaleY * d1;\n\n  out.e = oe + oa * rotateCenterX + oc * rotateCenterY - a1 * offsetX - c1 * offsetY;\n  out.f = of + ob * rotateCenterX + od * rotateCenterY - b1 * offsetX - d1 * offsetY;\n}\n", "export default function hslToRgb(h: number, s: number, l: number) {\n  s /= 100;\n  l /= 100;\n\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs(((h / 60) % 2) - 1));\n  const m = l - c / 2;\n  let r = 0;\n  let g = 0;\n  let b = 0;\n\n  if (0 <= h && h < 60) {\n    r = c;\n    g = x;\n    b = 0;\n  } else if (60 <= h && h < 120) {\n    r = x;\n    g = c;\n    b = 0;\n  } else if (120 <= h && h < 180) {\n    r = 0;\n    g = c;\n    b = x;\n  } else if (180 <= h && h < 240) {\n    r = 0;\n    g = x;\n    b = c;\n  } else if (240 <= h && h < 300) {\n    r = x;\n    g = 0;\n    b = c;\n  } else if (300 <= h && h < 360) {\n    r = c;\n    g = 0;\n    b = x;\n  }\n  r = Math.round((r + m) * 255);\n  g = Math.round((g + m) * 255);\n  b = Math.round((b + m) * 255);\n  return { r, g, b };\n}\n", "export default function rgbToHsl(r: number, g: number, b: number) {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n\n  // Find greatest and smallest channel values\n  const cMin = Math.min(r, g, b);\n  const cMax = Math.max(r, g, b);\n  const delta = cMax - cMin;\n  let h = 0;\n  let s = 0;\n  let l = 0;\n\n  if (delta === 0) {\n    h = 0;\n  }\n  // Red is max\n  else if (cMax === r) {\n    h = ((g - b) / delta) % 6;\n  }\n  // Green is max\n  else if (cMax === g) {\n    h = (b - r) / delta + 2;\n  }\n  // Blue is max\n  else {\n    h = (r - g) / delta + 4;\n  }\n\n  h = Math.round(h * 60);\n  if (h < 0) {\n    h += 360;\n  }\n  l = (cMax + cMin) / 2;\n\n  // Calculate saturation\n  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n\n  // Multiply l and s by 100\n  s = +(s * 100).toFixed(1);\n  l = +(l * 100).toFixed(1);\n  return {\n    h,\n    s,\n    l\n  };\n}\n", "/*\nCopyright (c) 2013, Jason Davies.\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this\n    list of conditions and the following disclaimer.\n\n  * Redistributions in binary form must reproduce the above copyright notice,\n    this list of conditions and the following disclaimer in the documentation\n    and/or other materials provided with the distribution.\n\n  * The name Jason Davies may not be used to endorse or promote products\n    derived from this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL JASON DAVIES BE LIABLE FOR ANY DIRECT, INDIRECT,\nINCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\nPROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\nLIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\nOR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\nADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n// Mike Bostock, https://github.com/d3/d3-color\n/**\n * 参考 d3-color 实现。用于颜色转化\n * 16进制/rgb 转化为r，g，b， o\n */\nimport { clamp, isArray, isNil, isNumber, isValid } from '../common';\nimport hslToRgb from './hslToRgb';\nimport rgbToHsl from './rgbToHsl';\n\nconst REG_HEX = /^#([0-9a-f]{3,8})$/;\n\nconst DEFAULT_COLORS_OPACITY = {\n  transparent: 0xffffff00\n};\n\nexport const DEFAULT_COLORS = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\nfunction hex(value: number) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? '0' : '') + value.toString(16);\n}\n\nfunction rgb(value: number | number[]): RGB {\n  if (isNumber(value)) {\n    return new RGB((value as number) >> 16, ((value as number) >> 8) & 0xff, (value as number) & 0xff, 1);\n  } else if (isArray(value)) {\n    return new RGB(value[0], value[1], value[2]);\n  }\n\n  // default return\n  return new RGB(255, 255, 255);\n}\n\nfunction rgba(value: number | number[]): RGB {\n  if (isNumber(value)) {\n    return new RGB(\n      (value as number) >>> 24,\n      ((value as number) >>> 16) & 0xff,\n      ((value as number) >>> 8) & 0xff,\n      (value as number) & 0xff\n    );\n  } else if (isArray(value)) {\n    return new RGB(value[0], value[1], value[2], value[3]);\n  }\n\n  // default return\n  return new RGB(255, 255, 255, 1);\n}\n\nfunction SRGBToLinear(c: number) {\n  return c < 0.04045 ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n}\n\nfunction LinearToSRGB(c: number) {\n  return c < 0.0031308 ? c * 12.92 : 1.055 * Math.pow(c, 0.41666) - 0.055;\n}\n\nconst setHex = (formatValue: string, forceHex?: boolean) => {\n  const isHex = REG_HEX.exec(formatValue);\n\n  if (forceHex || isHex) {\n    const hex = parseInt(isHex[1], 16);\n    const hexLength = isHex[1].length;\n    // #fff\n    if (hexLength === 3) {\n      return new RGB(\n        ((hex >> 8) & 0xf) + (((hex >> 8) & 0xf) << 4),\n        ((hex >> 4) & 0xf) + (((hex >> 4) & 0xf) << 4),\n        (hex & 0xf) + ((hex & 0xf) << 4),\n        1\n      );\n    }\n    // #ffffff\n    if (hexLength === 6) {\n      return rgb(hex);\n    }\n    // #ffffffaa\n    else if (hexLength === 8) {\n      return new RGB((hex >> 24) & 0xff, (hex >> 16) & 0xff, (hex >> 8) & 0xff, (hex & 0xff) / 0xff);\n    }\n\n    return null;\n  }\n\n  return undefined;\n};\n\nexport class Color {\n  color!: RGB;\n\n  static Brighter(source: string, b = 1) {\n    if (b === 1) {\n      return source;\n    }\n    return new Color(source).brighter(b).toRGBA();\n  }\n\n  static SetOpacity(source: string, o = 1) {\n    if (o === 1) {\n      return source;\n    }\n    return new Color(source).setOpacity(o).toRGBA();\n  }\n\n  static getColorBrightness(source: string | Color, model: 'hsv' | 'hsl' | 'lum' | 'lum2' | 'lum3' | 'wcag' = 'hsl') {\n    const color = source instanceof Color ? source : new Color(source);\n    switch (model) {\n      case 'hsv':\n        return color.getHSVBrightness();\n      case 'hsl':\n        return color.getHSLBrightness();\n      case 'lum':\n        return color.getLuminance();\n      case 'lum2':\n        return color.getLuminance2();\n      case 'lum3':\n        return color.getLuminance3();\n      case 'wcag':\n        return color.getLuminanceWCAG();\n      default:\n        return color.getHSVBrightness();\n    }\n  }\n\n  static parseColorString(value: string) {\n    // case0: transparent\n    if (isValid(DEFAULT_COLORS_OPACITY[value])) {\n      return rgba(DEFAULT_COLORS_OPACITY[value]);\n    }\n\n    // case1: 简写 ['blue','red']\n    if (isValid(DEFAULT_COLORS[value])) {\n      return rgb(DEFAULT_COLORS[value]);\n    }\n    const formatValue = `${value}`.trim().toLowerCase();\n\n    // case2: 16进制\n    const hexRes = setHex(formatValue);\n\n    if (hexRes !== undefined) {\n      return hexRes;\n    }\n\n    // case3 : rgb\n    if (/^(rgb|RGB|rgba|RGBA)/.test(formatValue)) {\n      const aColor = formatValue.replace(/(?:\\(|\\)|rgba|RGBA|rgb|RGB)*/g, '').split(',');\n      return new RGB(parseInt(aColor[0], 10), parseInt(aColor[1], 10), parseInt(aColor[2], 10), parseFloat(aColor[3]));\n    }\n\n    // case4: hsl\n    if (/^(hsl|HSL|hsla|HSLA)/.test(formatValue)) {\n      const aColor = formatValue.replace(/(?:\\(|\\)|hsla|HSLA|hsl|HSL)*/g, '').split(',');\n      const rgb = hslToRgb(parseInt(aColor[0], 10), parseInt(aColor[1], 10), parseInt(aColor[2], 10));\n\n      return new RGB(rgb.r, rgb.g, rgb.b, parseFloat(aColor[3]));\n    }\n\n    return;\n  }\n\n  constructor(value: string) {\n    const color = Color.parseColorString(value);\n\n    // case0: transparent\n    if (color) {\n      this.color = color;\n    } else {\n      // default: 白色\n      console.warn(`Warn: 传入${value}无法解析为Color`);\n      this.color = new RGB(255, 255, 255);\n    }\n  }\n  toRGBA() {\n    return this.color.formatRgb();\n  }\n  toString() {\n    return this.color.formatRgb();\n  }\n  toHex() {\n    return this.color.formatHex();\n  }\n  toHsl() {\n    return this.color.formatHsl();\n  }\n\n  brighter(k: number) {\n    const { r, g, b } = this.color;\n    this.color.r = Math.max(0, Math.min(255, Math.floor(r * k)));\n    this.color.g = Math.max(0, Math.min(255, Math.floor(g * k)));\n    this.color.b = Math.max(0, Math.min(255, Math.floor(b * k)));\n    return this;\n  }\n\n  add(color: Color) {\n    const { r, g, b } = this.color;\n    this.color.r += Math.min(255, r + color.color.r);\n    this.color.g += Math.min(255, g + color.color.g);\n    this.color.b += Math.min(255, b + color.color.b);\n    return this;\n  }\n\n  sub(color: Color) {\n    this.color.r = Math.max(0, this.color.r - color.color.r);\n    this.color.g = Math.max(0, this.color.g - color.color.g);\n    this.color.b = Math.max(0, this.color.b - color.color.b);\n    return this;\n  }\n\n  multiply(color: Color) {\n    const { r, g, b } = this.color;\n    this.color.r = Math.max(0, Math.min(255, Math.floor(r * color.color.r)));\n    this.color.g = Math.max(0, Math.min(255, Math.floor(g * color.color.g)));\n    this.color.b = Math.max(0, Math.min(255, Math.floor(b * color.color.b)));\n    return this;\n  }\n\n  // todo: 这里亮度计算都没考虑alpha通道\n  getHSVBrightness() {\n    return Math.max(this.color.r, this.color.g, this.color.b) / 255;\n  }\n\n  getHSLBrightness() {\n    return (\n      (Math.max(this.color.r, this.color.g, this.color.b) / 255 +\n        Math.min(this.color.r, this.color.g, this.color.b) / 255) *\n      0.5\n    );\n  }\n\n  setHsl(h?: number | null | undefined, s?: number | null | undefined, l?: number | null | undefined) {\n    const opacity = this.color.opacity;\n    const hsl = rgbToHsl(this.color.r, this.color.g, this.color.b);\n\n    const rgb = hslToRgb(\n      isNil(h) ? hsl.h : clamp(h as number, 0, 360),\n      isNil(s) ? hsl.s : s >= 0 && s <= 1 ? s * 100 : s,\n      isNil(l) ? hsl.l : l <= 1 && l >= 0 ? l * 100 : l\n    );\n    this.color = new RGB(rgb.r, rgb.g, rgb.b, opacity);\n\n    return this;\n  }\n\n  setRGB(r: number, g: number, b: number) {\n    !isNil(r) && (this.color.r = r);\n    !isNil(g) && (this.color.g = g);\n    !isNil(b) && (this.color.b = b);\n\n    return this;\n  }\n\n  setHex(value: string) {\n    const formatValue = `${value}`.trim().toLowerCase();\n\n    const res = setHex(formatValue, true);\n\n    return res ?? this;\n  }\n\n  setColorName(name: string) {\n    // color keywords\n    const hex = DEFAULT_COLORS[name.toLowerCase()];\n\n    if (typeof hex !== 'undefined') {\n      // red\n      this.setHex(hex);\n    } else {\n      // unknown color\n      console.warn('THREE.Color: Unknown color ' + name);\n    }\n\n    return this;\n  }\n\n  setScalar(scalar: number) {\n    this.color.r = scalar;\n    this.color.g = scalar;\n    this.color.b = scalar;\n    return this;\n  }\n\n  setOpacity(o = 1) {\n    this.color.opacity = o;\n    return this;\n  }\n\n  getLuminance() {\n    return (0.2126 * this.color.r + 0.7152 * this.color.g + 0.0722 * this.color.b) / 255;\n  }\n\n  getLuminance2() {\n    return (0.2627 * this.color.r + 0.678 * this.color.g + 0.0593 * this.color.b) / 255;\n  }\n\n  getLuminance3() {\n    return (0.299 * this.color.r + 0.587 * this.color.g + 0.114 * this.color.b) / 255;\n  }\n\n  /**\n   * https://www.w3.org/TR/WCAG21/#use-of-color\n   */\n  getLuminanceWCAG() {\n    const RsRGB = this.color.r / 255;\n    const GsRGB = this.color.g / 255;\n    const BsRGB = this.color.b / 255;\n    let R;\n    let G;\n    let B;\n    if (RsRGB <= 0.03928) {\n      R = RsRGB / 12.92;\n    } else {\n      R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n    }\n    if (GsRGB <= 0.03928) {\n      G = GsRGB / 12.92;\n    } else {\n      G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n    }\n    if (BsRGB <= 0.03928) {\n      B = BsRGB / 12.92;\n    } else {\n      B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n    }\n    const L = 0.2126 * R + 0.7152 * G + 0.0722 * B;\n    return L;\n  }\n\n  clone() {\n    return new Color(this.color.toString());\n  }\n\n  copyGammaToLinear(color: Color, gammaFactor = 2.0) {\n    this.color.r = Math.pow(color.color.r, gammaFactor);\n    this.color.g = Math.pow(color.color.g, gammaFactor);\n    this.color.b = Math.pow(color.color.b, gammaFactor);\n    return this;\n  }\n\n  copyLinearToGamma(color: Color, gammaFactor = 2.0) {\n    const safeInverse = gammaFactor > 0 ? 1.0 / gammaFactor : 1.0;\n\n    this.color.r = Math.pow(color.color.r, safeInverse);\n    this.color.g = Math.pow(color.color.g, safeInverse);\n    this.color.b = Math.pow(color.color.b, safeInverse);\n\n    return this;\n  }\n\n  convertGammaToLinear(gammaFactor: number) {\n    this.copyGammaToLinear(this, gammaFactor);\n    return this;\n  }\n\n  convertLinearToGamma(gammaFactor: number) {\n    this.copyLinearToGamma(this, gammaFactor);\n    return this;\n  }\n\n  copySRGBToLinear(color: Color) {\n    this.color.r = SRGBToLinear(color.color.r);\n    this.color.g = SRGBToLinear(color.color.g);\n    this.color.b = SRGBToLinear(color.color.b);\n    return this;\n  }\n\n  copyLinearToSRGB(color: Color) {\n    this.color.r = LinearToSRGB(color.color.r);\n    this.color.g = LinearToSRGB(color.color.g);\n    this.color.b = LinearToSRGB(color.color.b);\n    return this;\n  }\n\n  convertSRGBToLinear() {\n    this.copySRGBToLinear(this);\n    return this;\n  }\n\n  convertLinearToSRGB() {\n    this.copyLinearToSRGB(this);\n    return this;\n  }\n}\n\nexport class RGB {\n  r: number;\n  g: number;\n  b: number;\n  opacity: number;\n  constructor(r: number, g: number, b: number, opacity?: number) {\n    this.r = isNaN(+r) ? 255 : Math.max(0, Math.min(255, +r));\n    this.g = isNaN(+g) ? 255 : Math.max(0, Math.min(255, +g));\n    this.b = isNaN(+b) ? 255 : Math.max(0, Math.min(255, +b));\n\n    if (isValid(opacity)) {\n      this.opacity = isNaN(+(opacity as number)) ? 1 : Math.max(0, Math.min(1, +(opacity as number)));\n    } else {\n      this.opacity = 1;\n    }\n  }\n  // 转为16进制\n  formatHex() {\n    return `#${hex(this.r) + hex(this.g) + hex(this.b) + (this.opacity === 1 ? '' : hex(this.opacity * 255))}`;\n  }\n  formatRgb() {\n    const opacity = this.opacity;\n    return `${opacity === 1 ? 'rgb(' : 'rgba('}${this.r},${this.g},${this.b}${opacity === 1 ? ')' : `,${opacity})`}`;\n  }\n\n  formatHsl() {\n    const opacity = this.opacity;\n    const { h, s, l } = rgbToHsl(this.r, this.g, this.b);\n\n    return `${opacity === 1 ? 'hsl(' : 'hsla('}${h},${s}%,${l}%${opacity === 1 ? ')' : `,${opacity})`}`;\n  }\n  // 转为16进制\n  toString() {\n    return this.formatHex();\n  }\n}\n", "export { Color, RGB, DEFAULT_COLORS } from './Color';\nexport { default as hexToRgb } from './hexToRgb';\nexport { default as hslToRgb } from './hslToRgb';\nexport { default as rgbToHex } from './rgbToHex';\nexport { default as rgbToHsl } from './rgbToHsl';\nexport * from './interpolate';\n", "/**\n * 将 hex 格式颜色转换为 rgb 格式\n * @param str hex 格式的颜色值\n * @returns rgb 格式\n */\nexport default function hexToRgb(str: string): [number, number, number] {\n  let r = '';\n  let g = '';\n  let b = '';\n  const strtIndex = str[0] === '#' ? 1 : 0;\n  for (let i = strtIndex; i < str.length; i++) {\n    if (str[i] === '#') {\n      continue;\n    }\n    if (i < strtIndex + 2) {\n      r += str[i];\n    } else if (i < strtIndex + 4) {\n      g += str[i];\n    } else if (i < strtIndex + 6) {\n      b += str[i];\n    }\n  }\n  const ri = parseInt(r, 16);\n  const gi = parseInt(g, 16);\n  const bi = parseInt(b, 16);\n  return [ri, gi, bi];\n}\n", "export default function rgbToHex(r: number, g: number, b: number) {\n  return Number((1 << 24) + (r << 16) + (g << 8) + b)\n    .toString(16)\n    .slice(1);\n}\n", "import { RGB } from './Color';\n\nexport function interpolateRgb(colorA: RGB, colorB: RGB): (x: number) => RGB {\n  const redA = colorA.r;\n  const redB = colorB.r;\n  const greenA = colorA.g;\n  const greenB = colorB.g;\n  const blueA = colorA.b;\n  const blueB = colorB.b;\n  const opacityA = colorA.opacity;\n  const opacityB = colorB.opacity;\n\n  return (t: number) => {\n    const r = Math.round(redA * (1 - t) + redB * t);\n    const g = Math.round(greenA * (1 - t) + greenB * t);\n    const b = Math.round(blueA * (1 - t) + blueB * t);\n    const opacity = opacityA * (1 - t) + opacityB * t;\n\n    return new RGB(r, g, b, opacity);\n  };\n}\n", "import isValidNumber from './common/isValidNumber';\nimport isArray from './common/isArray';\nimport isObject from './common/isObject';\n\nexport type IPadding = {\n  top?: number;\n  bottom?: number;\n  left?: number;\n  right?: number;\n};\n\n/**\n * 将 padding 转换为通用的格式（[上，右，下，左]）\n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function normalizePadding(padding: number | number[] | IPadding) {\n  if (isValidNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      const paddingValue = padding[0];\n      return [paddingValue, paddingValue, paddingValue, paddingValue];\n    }\n\n    if (length === 2) {\n      const [vertical, horizontal] = padding;\n      return [vertical, horizontal, vertical, horizontal];\n    }\n\n    if (length === 3) {\n      const [top, horizontal, bottom] = padding;\n      return [top, horizontal, bottom, horizontal];\n    }\n\n    if (length === 4) {\n      return padding;\n    }\n  }\n\n  if (isObject(padding)) {\n    const { top = 0, right = 0, bottom = 0, left = 0 } = padding as IPadding;\n    return [top, right, bottom, left];\n  }\n\n  return [0, 0, 0, 0];\n}\n", "import type { IPointLike } from './data-structure';\n\nexport function getContainerSize(el: HTMLElement | null, defaultWidth: number = 0, defaultHeight: number = 0) {\n  if (!el) {\n    return { width: defaultWidth, height: defaultHeight };\n  }\n\n  let getComputedStyle;\n  try {\n    getComputedStyle = window?.getComputedStyle;\n  } catch (e) {\n    getComputedStyle = () => {\n      return {} as CSSStyleDeclaration;\n    };\n  }\n\n  const style = getComputedStyle(el);\n\n  // clientWidth/clientHeight: 默认整数，会向上取整，导致canvas > container\n  // getBoundingClientRect：默认小数，但是在container上有css类似 transform: scale(0.5)时，获取结果不对\n  // getComputedStyle：默认小数，获取最终结果，但是会包含padding；\n\n  if (/^(\\d*\\.?\\d+)(px)$/.exec(style.width)) {\n    // 当dom元素的 display: 'none' 的时候，获取到的宽高会变成原始的样式配置，而不是计算后的像素值\n    const computedWidth =\n      parseFloat(style.width) - parseFloat(style.paddingLeft) - parseFloat(style.paddingRight) || el.clientWidth - 1;\n\n    const computedHeight =\n      parseFloat(style.height) - parseFloat(style.paddingTop) - parseFloat(style.paddingBottom) || el.clientHeight - 1;\n\n    // 理论上不用向下取整，目前没加。\n    return {\n      width: computedWidth <= 0 ? defaultWidth : computedWidth,\n      height: computedHeight <= 0 ? defaultHeight : computedHeight\n    };\n  }\n\n  return { width: defaultWidth, height: defaultHeight };\n}\n\n/**\n * 获取元素的绝对位置坐标（相对于页面左上角）\n * @param element\n * @returns\n */\nexport function getElementAbsolutePosition(element: HTMLElement): IPointLike {\n  const { x, y } = element.getBoundingClientRect();\n  return { x, y };\n}\n\n/**\n * 获取元素的相对位置坐标（相对于其他dom元素）\n * @param element\n * @returns\n */\nexport function getElementRelativePosition(element: HTMLElement, base: HTMLElement): IPointLike {\n  const posElement = getElementAbsolutePosition(element);\n  const posBase = getElementAbsolutePosition(base);\n  return { x: posElement.x - posBase.x, y: posElement.y - posBase.y };\n}\n\nexport const getScrollLeft = (element: HTMLElement) => {\n  if (element === globalThis?.document?.body) {\n    return globalThis?.document?.documentElement?.scrollLeft || element.scrollLeft;\n  } else if (element.tagName.toLowerCase() === 'html') {\n    return 0;\n  }\n  return element.scrollLeft;\n};\nexport const getScrollTop = (element: HTMLElement) => {\n  if (element === globalThis?.document?.body) {\n    return globalThis?.document?.documentElement?.scrollTop || element.scrollTop;\n  } else if (element.tagName.toLowerCase() === 'html') {\n    return 0;\n  }\n  return element.scrollTop;\n};\n\nexport const getScaleX = (element: HTMLElement) => {\n  return element.getBoundingClientRect().width / element.offsetWidth;\n};\n\nexport const getScaleY = (element: HTMLElement) => {\n  return element.getBoundingClientRect().height / element.offsetHeight;\n};\n\n/**\n * 获取目标元素的缩放因数\n * @param element 目标 dom 元素\n * @returns\n */\nexport const getScale = (element: HTMLElement) => {\n  if (element.offsetWidth > 0) {\n    return getScaleX(element);\n  }\n  return getScaleY(element);\n};\n\n/**\n * 判断是否是元素的父元素\n * @param element 从其父元素开始查找的 DOM 元素\n * @param target 要查找的目标父元素\n * @returns boolean, true 代表查找到，false 表示未找到\n */\nexport function hasParentElement(element: HTMLElement, target: HTMLElement): boolean {\n  let parent = element.parentNode;\n\n  while (parent !== null) {\n    if (parent === target) {\n      return true;\n    }\n    parent = parent.parentNode;\n  }\n\n  return false;\n}\n\n/**\n * 将style字符串转换成对象形式\n * @param style字符串 例如：\"color:red;line-height:20px;\"\n * @returns style对象，如 { color: 'red', 'line-height': '20px' }\n */\nexport const styleStringToObject = (styleStr: string = '') => {\n  const res: any = {};\n  styleStr.split(';').forEach(item => {\n    if (item) {\n      const arr = item.split(':');\n\n      if (arr.length === 2) {\n        const key = arr[0].trim();\n        const value = arr[1].trim();\n\n        if (key && value) {\n          res[key] = value;\n        }\n      }\n    }\n  });\n\n  return res;\n};\n\n/**\n * 将小驼峰转换成中划线连接的字符串\n * @param str 如：'lineHeight'  => 'line-height'\n * @returns\n */\nexport const lowerCamelCaseToMiddle = (str: string) => {\n  return str.replace(/([A-Z])/g, '-$1').toLowerCase();\n};\n\n/**\n * 将中划线连接的字符串转换成驼峰字符串\n * @param str 如：'line-height'  => 'lineHeight'\n * @returns\n */\nexport function toCamelCase(str: string) {\n  return str.replace(/-([a-z])/g, (_, letter) => letter.toUpperCase());\n}\n\nexport function isHTMLElement(obj: any): obj is Element {\n  try {\n    return obj instanceof Element;\n  } catch {\n    // 跨端 plan B\n    const htmlElementKeys: (keyof Element)[] = [\n      'children',\n      'innerHTML',\n      'classList',\n      'setAttribute',\n      'tagName',\n      'getBoundingClientRect'\n    ];\n    const keys = Object.keys(obj);\n    return htmlElementKeys.every(key => keys.includes(key));\n  }\n}\n", "/* Adapted from d3-time-format by Mike Bostock\n * https://github.com/d3/d3-time-format\n * Licensed under the ISC\n\n * url: https://github.com/d3/d3-time-format/blob/d6feb945baa4b7a45898a9ca926ebca044e20657/src/locale.js\n * License: https://github.com/d3/d3-time-format/blob/main/LICENSE\n * @license\n */\n\ninterface dateInfo {\n  y?: number;\n  m?: number;\n  d?: number;\n  w?: number;\n  p?: number;\n  H?: number;\n  M?: number;\n  S?: number;\n  L?: number;\n}\n\nexport class TimeUtil {\n  private locale_shortWeekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  private locale_periods = ['AM', 'PM'];\n  private locale_weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  private locale_shortMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  private numberRe = /^\\s*\\d+/; // note: ignores next directive\n  private pads = { '-': '', _: ' ', '0': '0' };\n\n  //   const percentRe = /^%/;\n  private requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\n  private periodRe: RegExp;\n  private periodLookup: Map<string, number>;\n  private weekdayRe: RegExp;\n  private weekdayLookup: Map<string, number>;\n  private shortWeekdayRe: RegExp;\n  private shortWeekdayLookup: Map<string, number>;\n  private monthRe: RegExp;\n  private monthLookup: Map<string, number>;\n  private shortMonthRe: RegExp;\n  private shortMonthLookup: Map<string, number>;\n\n  private static instance: TimeUtil;\n  static getInstance(): TimeUtil {\n    if (!TimeUtil.instance) {\n      TimeUtil.instance = new TimeUtil();\n    }\n\n    return TimeUtil.instance;\n  }\n\n  private requoteF;\n  private constructor() {\n    this.requoteF = this.requote.bind(this);\n    this.periodRe = this.formatRe(this.locale_periods);\n    this.periodLookup = this.formatLookup(this.locale_periods);\n    this.weekdayRe = this.formatRe(this.locale_weekdays);\n    this.weekdayLookup = this.formatLookup(this.locale_weekdays);\n    this.shortWeekdayRe = this.formatRe(this.locale_shortWeekdays);\n    this.shortWeekdayLookup = this.formatLookup(this.locale_shortWeekdays);\n    this.monthRe = this.formatRe(this.locale_months);\n    this.monthLookup = this.formatLookup(this.locale_months);\n    this.shortMonthRe = this.formatRe(this.locale_shortMonths);\n    this.shortMonthLookup = this.formatLookup(this.locale_shortMonths);\n  }\n\n  private requote(s: string) {\n    return s.replace(this.requoteRe, '\\\\$&');\n  }\n\n  private localDate(d: dateInfo) {\n    if (0 <= d.y && d.y < 100) {\n      const date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n      date.setFullYear(d.y);\n      return date;\n    }\n    return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n  }\n\n  private utcDate(d: dateInfo) {\n    if (0 <= d.y && d.y < 100) {\n      const date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n      date.setUTCFullYear(d.y);\n      return date;\n    }\n    return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n  }\n\n  private newDate(y: number, m: number, d: number) {\n    return { y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0 };\n  }\n  private formatRe(names: string[]) {\n    return new RegExp('^(?:' + names.map(this.requoteF).join('|') + ')', 'i');\n  }\n  private formatLookup(names: string[]) {\n    return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n  }\n\n  private locale_months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n  ];\n\n  private formatShortWeekday = (d: Date) => {\n    return this.locale_shortWeekdays[d.getDay()];\n  };\n\n  private formatWeekday = (d: Date) => {\n    return this.locale_weekdays[d.getDay()];\n  };\n\n  private formatShortMonth = (d: Date) => {\n    return this.locale_shortMonths[d.getMonth()];\n  };\n\n  private formatMonth = (d: Date) => {\n    return this.locale_months[d.getMonth()];\n  };\n\n  private pad(value: number, fill: string, width: number) {\n    const sign = value < 0 ? '-' : '';\n    const string = (sign ? -value : value) + '';\n    const length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n  }\n\n  private formatDayOfMonth = (d: Date, p: string) => {\n    return this.pad(d.getDate(), p, 2);\n  };\n\n  private formatHour24 = (d: Date, p: string) => {\n    return this.pad(d.getHours(), p, 2);\n  };\n\n  private formatHour12 = (d: Date, p: string) => {\n    return this.pad(d.getHours() % 12 || 12, p, 2);\n  };\n\n  private formatMilliseconds = (d: Date, p: string) => {\n    return this.pad(d.getMilliseconds(), p, 3);\n  };\n\n  private formatMonthNumber = (d: Date, p: string) => {\n    return this.pad(d.getMonth() + 1, p, 2);\n  };\n\n  private formatMinutes = (d: Date, p: string) => {\n    return this.pad(d.getMinutes(), p, 2);\n  };\n\n  private formatPeriod = (d: Date) => {\n    return this.locale_periods[+(d.getHours() >= 12)];\n  };\n\n  private formatSeconds = (d: Date, p: string) => {\n    return this.pad(d.getSeconds(), p, 2);\n  };\n\n  private formatFullYear = (d: Date, p: string) => {\n    return this.pad(d.getFullYear() % 10000, p, 4);\n  };\n\n  private formatUTCShortWeekday = (d: Date) => {\n    return this.locale_shortWeekdays[d.getUTCDay()];\n  };\n\n  private formatUTCWeekday = (d: Date) => {\n    return this.locale_weekdays[d.getUTCDay()];\n  };\n\n  private formatUTCShortMonth = (d: Date) => {\n    return this.locale_shortMonths[d.getUTCMonth()];\n  };\n\n  private formatUTCMonth = (d: Date) => {\n    return this.locale_months[d.getUTCMonth()];\n  };\n\n  private formatUTCDayOfMonth = (d: Date, p: string) => {\n    return this.pad(d.getUTCDate(), p, 2);\n  };\n\n  private formatUTCHour24 = (d: Date, p: string) => {\n    return this.pad(d.getUTCHours(), p, 2);\n  };\n\n  private formatUTCHour12 = (d: Date, p: string) => {\n    return this.pad(d.getUTCHours() % 12 || 12, p, 2);\n  };\n\n  private formatUTCMilliseconds = (d: Date, p: string) => {\n    return this.pad(d.getUTCMilliseconds(), p, 3);\n  };\n\n  private formatUTCMonthNumber = (d: Date, p: string) => {\n    return this.pad(d.getUTCMonth() + 1, p, 2);\n  };\n\n  private formatUTCMinutes = (d: Date, p: string) => {\n    return this.pad(d.getUTCMinutes(), p, 2);\n  };\n\n  private formatUTCPeriod = (d: Date) => {\n    return this.locale_periods[+(d.getUTCHours() >= 12)];\n  };\n\n  private formatUTCSeconds = (d: Date, p: string) => {\n    return this.pad(d.getUTCSeconds(), p, 2);\n  };\n\n  private formatUTCFullYear = (d: Date, p: string) => {\n    return this.pad(d.getUTCFullYear() % 10000, p, 4);\n  };\n\n  private formats = {\n    a: this.formatShortWeekday,\n    A: this.formatWeekday,\n    b: this.formatShortMonth,\n    B: this.formatMonth,\n    d: this.formatDayOfMonth,\n    e: this.formatDayOfMonth,\n    H: this.formatHour24,\n    I: this.formatHour12,\n    L: this.formatMilliseconds,\n    m: this.formatMonthNumber,\n    M: this.formatMinutes,\n    p: this.formatPeriod,\n    S: this.formatSeconds,\n    Y: this.formatFullYear\n  };\n\n  private utcFormats = {\n    a: this.formatUTCShortWeekday,\n    A: this.formatUTCWeekday,\n    b: this.formatUTCShortMonth,\n    B: this.formatUTCMonth,\n    d: this.formatUTCDayOfMonth,\n    e: this.formatUTCDayOfMonth,\n    H: this.formatUTCHour24,\n    I: this.formatUTCHour12,\n    L: this.formatUTCMilliseconds,\n    m: this.formatUTCMonthNumber,\n    M: this.formatUTCMinutes,\n    p: this.formatUTCPeriod,\n    S: this.formatUTCSeconds,\n    Y: this.formatUTCFullYear\n  };\n\n  private parseShortWeekday = (d: dateInfo, string: string, i: number) => {\n    const n = this.shortWeekdayRe.exec(string.slice(i));\n    return n ? ((d.w = this.shortWeekdayLookup.get(n[0].toLowerCase())), i + n[0].length) : -1;\n  };\n\n  private parseWeekday = (d: dateInfo, string: string, i: number) => {\n    const n = this.weekdayRe.exec(string.slice(i));\n    return n ? ((d.w = this.weekdayLookup.get(n[0].toLowerCase())), i + n[0].length) : -1;\n  };\n\n  private parseShortMonth = (d: dateInfo, string: string, i: number) => {\n    const n = this.shortMonthRe.exec(string.slice(i));\n    return n ? ((d.m = this.shortMonthLookup.get(n[0].toLowerCase())), i + n[0].length) : -1;\n  };\n\n  private parseMonth = (d: dateInfo, string: string, i: number) => {\n    const n = this.monthRe.exec(string.slice(i));\n    return n ? ((d.m = this.monthLookup.get(n[0].toLowerCase())), i + n[0].length) : -1;\n  };\n\n  private parseDayOfMonth = (d: dateInfo, string: string, i: number) => {\n    const n = this.numberRe.exec(string.slice(i, i + 2));\n    return n ? ((d.d = +n[0]), i + n[0].length) : -1;\n  };\n\n  private parseHour24 = (d: dateInfo, string: string, i: number) => {\n    const n = this.numberRe.exec(string.slice(i, i + 2));\n    return n ? ((d.H = +n[0]), i + n[0].length) : -1;\n  };\n\n  private parseMilliseconds = (d: dateInfo, string: string, i: number) => {\n    const n = this.numberRe.exec(string.slice(i, i + 3));\n    return n ? ((d.L = +n[0]), i + n[0].length) : -1;\n  };\n\n  private parseMonthNumber = (d: dateInfo, string: string, i: number) => {\n    const n = this.numberRe.exec(string.slice(i, i + 2));\n    return n ? ((d.m = (n as any[0]) - 1), i + n[0].length) : -1;\n  };\n\n  private parseMinutes = (d: dateInfo, string: string, i: number) => {\n    const n = this.numberRe.exec(string.slice(i, i + 2));\n    return n ? ((d.M = +n[0]), i + n[0].length) : -1;\n  };\n\n  private parsePeriod = (d: dateInfo, string: string, i: number) => {\n    const n = this.periodRe.exec(string.slice(i));\n    return n ? ((d.p = this.periodLookup.get(n[0].toLowerCase())), i + n[0].length) : -1;\n  };\n\n  private parseSeconds = (d: dateInfo, string: string, i: number) => {\n    const n = this.numberRe.exec(string.slice(i, i + 2));\n    return n ? ((d.S = +n[0]), i + n[0].length) : -1;\n  };\n\n  private parseFullYear = (d: dateInfo, string: string, i: number) => {\n    const n = this.numberRe.exec(string.slice(i, i + 4));\n    return n ? ((d.y = +n[0]), i + n[0].length) : -1;\n  };\n\n  private parses = {\n    a: this.parseShortWeekday,\n    A: this.parseWeekday,\n    b: this.parseShortMonth,\n    B: this.parseMonth,\n    d: this.parseDayOfMonth,\n    e: this.parseDayOfMonth,\n    H: this.parseHour24,\n    I: this.parseHour24,\n    L: this.parseMilliseconds,\n    m: this.parseMonthNumber,\n    M: this.parseMinutes,\n    p: this.parsePeriod,\n    S: this.parseSeconds,\n    Y: this.parseFullYear\n  };\n\n  private parseSpecifier(d: dateInfo, specifier: string, string: string, j: number) {\n    let i = 0;\n    const n = specifier.length;\n    const m = string.length;\n    let c;\n    let parse;\n\n    while (i < n) {\n      if (j >= m) {\n        return -1;\n      }\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = this.parses[c in this.pads ? specifier.charAt(i++) : c];\n        if (!parse || (j = parse(d, string, j)) < 0) {\n          return -1;\n        }\n      } else if (c !== string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  private newParse(specifier: string, Z: boolean) {\n    const that = this;\n    return function (string: string) {\n      const d = that.newDate(1900, undefined, 1) as any;\n      const i = that.parseSpecifier(d, specifier, (string += ''), 0);\n      if (i !== string.length) {\n        return null;\n      }\n\n      // If a UNIX timestamp is specified, return it.\n      if ('Q' in d) {\n        return new Date(d.Q);\n      }\n      if ('s' in d) {\n        return new Date(d.s * 1000 + ('L' in d ? d.L : 0));\n      }\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !('Z' in d)) {\n        d.Z = 0;\n      }\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if ('p' in d) {\n        d.H = (d.H % 12) + d.p * 12;\n      }\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) {\n        d.m = 'q' in d ? d.q : 0;\n      }\n      if ('Z' in d) {\n        d.H += (d.Z / 100) | 0;\n        d.M += d.Z % 100;\n        return that.utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return that.localDate(d);\n    };\n  }\n  private newFormat(specifier: string, formats: any) {\n    const that = this;\n    return function (date: Date) {\n      const string = [];\n      let i = -1;\n      let j = 0;\n      const n = specifier.length;\n      let c;\n      let pad;\n      let format;\n      if (!(date instanceof Date)) {\n        date = new Date(+date);\n      }\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = that.pads[(c = specifier.charAt(++i))])) {\n            c = specifier.charAt(++i);\n          } else {\n            pad = c === 'e' ? ' ' : '0';\n          }\n          format = formats[c];\n          c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join('');\n    };\n  }\n\n  private getFullTimeStamp(timeText: string | number) {\n    const timeOriStamp = parseInt(timeText + '', 10);\n    return String(timeOriStamp).length === 10 ? timeOriStamp * 1000 : timeOriStamp;\n  }\n\n  timeFormat = (specifier: string, timeText: string | number) => {\n    return this.newFormat(specifier, this.formats)(new Date(this.getFullTimeStamp(timeText)));\n  };\n\n  timeUTCFormat = (specifier: string, timeText: string | number) => {\n    return this.newFormat(specifier, this.utcFormats)(new Date(this.getFullTimeStamp(timeText)));\n  };\n\n  timeParse = (specifier: string, timeText: string | number) => {\n    return this.newParse(specifier, false)(timeText + '');\n  };\n}\n", "import { Logger } from '../../logger';\n\nexport interface IFormatSpecifier {\n  fill?: string | undefined;\n  align?: string | undefined;\n  sign?: string | undefined;\n  symbol?: string | undefined;\n  zero?: string | undefined;\n  width?: string | undefined;\n  comma?: string | undefined;\n  precision?: string | undefined;\n  trim?: string | undefined;\n  type?: string | undefined;\n}\n\nexport class FormatSpecifier {\n  fill;\n  align;\n  sign;\n  symbol;\n  zero;\n  width;\n  comma;\n  precision;\n  trim;\n  type;\n\n  constructor(specifier: IFormatSpecifier = {}) {\n    this.fill = specifier.fill === undefined ? ' ' : specifier.fill + '';\n    this.align = specifier.align === undefined ? '>' : specifier.align + '';\n    this.sign = specifier.sign === undefined ? '-' : specifier.sign + '';\n    this.symbol = specifier.symbol === undefined ? '' : specifier.symbol + '';\n    this.zero = !!specifier.zero;\n    this.width = specifier.width === undefined ? undefined : +specifier.width;\n    this.comma = !!specifier.comma;\n    this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n    this.trim = !!specifier.trim;\n    this.type = specifier.type === undefined ? '' : specifier.type + '';\n  }\n\n  toString() {\n    return (\n      this.fill +\n      this.align +\n      this.sign +\n      this.symbol +\n      (this.zero ? '0' : '') +\n      (this.width === undefined ? '' : Math.max(1, this.width | 0)) +\n      (this.comma ? ',' : '') +\n      (this.precision === undefined ? '' : '.' + Math.max(0, this.precision | 0)) +\n      (this.trim ? '~' : '') +\n      this.type\n    );\n  }\n}\n\nexport const numberSpecifierReg = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport function formatSpecifier(specifier: string) {\n  let match;\n  if (!(match = numberSpecifierReg.exec(specifier))) {\n    Logger.getInstance().error('invalid format: ' + specifier);\n    return;\n  }\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n", "/* Adapted from d3-time-format by Mike Bostock\n * https://github.com/d3/d3-format\n * Licensed under the ISC\n\n * License: https://github.com/d3/d3-format/blob/main/LICENSE\n * @license\n */\nexport function formatDecimal(x: number) {\n  return Math.abs((x = Math.round(x))) >= 1e21 ? x.toLocaleString('en').replace(/,/g, '') : x.toString(10);\n}\n\nexport function formatDecimalParts(x: number, p?: number): [string, number] | null {\n  const _x = p ? x.toExponential(p - 1) : x.toExponential();\n  const i = _x.indexOf('e');\n  if (i < 0) {\n    return null; // NaN, ±Infinity\n  }\n  const coefficient = _x.slice(0, i);\n\n  return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +_x.slice(i + 1)];\n}\n", "/* Adapted from d3-time-format by Mike Bostock\n * https://github.com/d3/d3-format\n * Licensed under the ISC\n\n * License: https://github.com/d3/d3-format/blob/main/LICENSE\n * @license\n */\nexport function formatGroup(grouping: number[], thousands: string) {\n  return function (value: string, width: number) {\n    let i = value.length;\n    const t = [];\n    let j = 0;\n    let g = grouping[0];\n    let length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) {\n        g = Math.max(1, width - length);\n      }\n      t.push(value.substring((i -= g), i + g));\n      if ((length += g + 1) > width) {\n        break;\n      }\n      g = grouping[(j = (j + 1) % grouping.length)];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n", "/* Adapted from d3-time-format by Mike Bostock\n * https://github.com/d3/d3-format\n * Licensed under the ISC\n\n * License: https://github.com/d3/d3-format/blob/main/LICENSE\n * @license\n */\nimport { formatDecimalParts } from './formatDecimal';\n\nexport let prefixExponent: number;\n\nexport function formatPrefixAuto(x: number, p: number) {\n  const d = formatDecimalParts(x, p);\n  if (!d) {\n    return x + '';\n  }\n  const coefficient = d[0];\n  const exponent = d[1];\n  const i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1;\n  const n = coefficient.length;\n  return i === n\n    ? coefficient\n    : i > n\n    ? coefficient + new Array(i - n + 1).join('0')\n    : i > 0\n    ? coefficient.slice(0, i) + '.' + coefficient.slice(i)\n    : '0.' + new Array(1 - i).join('0') + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n", "/* Adapted from d3-time-format by Mike Bostock\n * https://github.com/d3/d3-format\n * Licensed under the ISC\n\n * License: https://github.com/d3/d3-format/blob/main/LICENSE\n * @license\n */\nimport { formatDecimalParts } from './formatDecimal';\n\nexport function formatRounded(x: number, p: number) {\n  const d = formatDecimalParts(x, p);\n  if (!d) {\n    return x + '';\n  }\n  const coefficient = d[0];\n  const exponent = d[1];\n  return exponent < 0\n    ? '0.' + new Array(-exponent).join('0') + coefficient\n    : coefficient.length > exponent + 1\n    ? coefficient.slice(0, exponent + 1) + '.' + coefficient.slice(exponent + 1)\n    : coefficient + new Array(exponent - coefficient.length + 2).join('0');\n}\n", "/* Adapted from d3-time-format by Mike Bostock\n * https://github.com/d3/d3-format\n * Licensed under the ISC\n\n * License: https://github.com/d3/d3-format/blob/main/LICENSE\n * @license\n */\nexport function formatTrim(s: string) {\n  const n = s.length;\n  let i0 = -1;\n  let i1;\n  out: for (let i = 1; i < n; ++i) {\n    switch (s[i]) {\n      case '.':\n        i0 = i1 = i;\n        break;\n      case '0':\n        if (i0 === 0) {\n          i0 = i;\n        }\n        i1 = i;\n        break;\n      default:\n        if (!+s[i]) {\n          break out;\n        }\n        if (i0 > 0) {\n          i0 = 0;\n        }\n        break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n", "/* Adapted from d3-time-format by Mike Bostock\n * https://github.com/d3/d3-format\n * Licensed under the ISC\n\n * License: https://github.com/d3/d3-format/blob/main/LICENSE\n * @license\n */\n\nimport { formatDecimal, formatDecimalParts } from './formatDecimal';\nimport { formatGroup } from './formatGroup';\nimport { formatPrefixAuto, prefixExponent } from './formatPrefixAuto';\nimport { formatRounded } from './formatRounded';\nimport { formatTrim } from './formatTrim';\nimport { formatSpecifier } from './specifier';\n\nexport interface FormatLocale {\n  thousands: string;\n  grouping: number[];\n  currency: [string, string];\n  numerals?: string[] | undefined;\n  percent?: string | undefined;\n  minus?: string | undefined;\n  nan?: string | undefined;\n  decimal?: string;\n}\n\nconst prefixes = ['y', 'z', 'a', 'f', 'p', 'n', 'µ', 'm', '', 'k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'];\n\nexport class NumberUtil {\n  private locale: FormatLocale = {\n    thousands: ',',\n    grouping: [3],\n    currency: ['$', '']\n  };\n\n  private group =\n    this.locale.grouping === undefined || this.locale.thousands === undefined\n      ? (group: any) => group\n      : formatGroup([...this.locale.grouping].map(Number), `${this.locale.thousands}`);\n  private currencyPrefix = this.locale.currency === undefined ? '' : this.locale.currency[0] + '';\n  private currencySuffix = this.locale.currency === undefined ? '' : this.locale.currency[1] + '';\n  private decimal = this.locale.decimal === undefined ? '.' : this.locale.decimal + '';\n  private numerals =\n    this.locale.numerals === undefined\n      ? (numerals: any) => numerals\n      : formatNumerals([...this.locale.numerals].map(String));\n  private percent = this.locale.percent === undefined ? '%' : this.locale.percent + '';\n  private minus = this.locale.minus === undefined ? '−' : this.locale.minus + '';\n  private nan = this.locale.nan === undefined ? 'NaN' : this.locale.nan + '';\n\n  private static instance: NumberUtil;\n\n  static getInstance(): NumberUtil {\n    if (!NumberUtil.instance) {\n      NumberUtil.instance = new NumberUtil();\n    }\n    return NumberUtil.instance;\n  }\n\n  private newFormat(specifier: string) {\n    const specifierIns = formatSpecifier(specifier);\n\n    let fill = specifierIns.fill;\n    let align = specifierIns.align;\n    const sign = specifierIns.sign;\n    const symbol = specifierIns.symbol;\n    let zero = specifierIns.zero;\n    const width = specifierIns.width;\n    let comma = specifierIns.comma;\n    let precision = specifierIns.precision;\n    let trim = specifierIns.trim;\n    let type = specifierIns.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === 'n') {\n      (comma = true), (type = 'g');\n    }\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    // @ts-ignore\n    else if (!formatTypes[type]) {\n      precision === undefined && (precision = 12), (trim = true), (type = 'g');\n    }\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    // @ts-ignore\n    if (zero || (fill === '0' && align === '=')) {\n      (zero = true), (fill = '0'), (align = '=');\n    }\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    const prefix =\n      symbol === '$' ? this.currencyPrefix : symbol === '#' && /[boxX]/.test(type) ? '0' + type.toLowerCase() : '';\n    const suffix = symbol === '$' ? this.currencySuffix : /[%p]/.test(type) ? this.percent : '';\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    const formatType = formatTypes[type];\n    const maybeSuffix = /[defgprstz%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision =\n      precision === undefined\n        ? 6\n        : /[gprs]/.test(type)\n        ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    const { nan, minus, decimal, group, numerals } = this;\n\n    function format(value: number) {\n      let valuePrefix = prefix;\n      let valueSuffix = suffix;\n      let i;\n      let n;\n      let c;\n      let _value: any = value;\n\n      if (type === 'c') {\n        valueSuffix = formatType(_value) + valueSuffix;\n        _value = '';\n      } else {\n        _value = +_value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        let valueNegative = _value < 0 || 1 / _value < 0;\n\n        // Perform the initial formatting.\n        _value = isNaN(_value) ? nan : formatType(Math.abs(_value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) {\n          _value = formatTrim(_value);\n        }\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +_value === 0 && sign !== '+') {\n          valueNegative = false;\n        }\n\n        // Compute the prefix and suffix.\n        valuePrefix =\n          (valueNegative ? (sign === '(' ? sign : minus) : sign === '-' || sign === '(' ? '' : sign) + valuePrefix;\n        valueSuffix =\n          (type === 's' ? prefixes[8 + prefixExponent / 3] : '') +\n          valueSuffix +\n          (valueNegative && sign === '(' ? ')' : '');\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          (i = -1), (n = _value.length);\n          while (++i < n) {\n            if (((c = _value.charCodeAt(i)), 48 > c || c > 57)) {\n              valueSuffix = (c === 46 ? decimal + _value.slice(i + 1) : _value.slice(i)) + valueSuffix;\n              _value = _value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) {\n        _value = group(_value, Infinity);\n      }\n\n      // Compute the padding.\n      let length = valuePrefix.length + _value.length + valueSuffix.length;\n      let padding = length < width ? new Array(width - length + 1).join(fill) : '';\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) {\n        _value = group(padding + _value, padding.length ? width - valueSuffix.length : Infinity);\n        padding = '';\n      }\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case '<':\n          _value = valuePrefix + _value + valueSuffix + padding;\n          break;\n        case '=':\n          _value = valuePrefix + padding + _value + valueSuffix;\n          break;\n        case '^':\n          _value =\n            padding.slice(0, (length = padding.length >> 1)) +\n            valuePrefix +\n            _value +\n            valueSuffix +\n            padding.slice(length);\n          break;\n        default:\n          _value = padding + valuePrefix + _value + valueSuffix;\n          break;\n      }\n      return numerals(_value);\n    }\n\n    format.toString = function () {\n      return specifier + '';\n    };\n\n    return format;\n  }\n\n  private _formatPrefix(specifier: string, value: number) {\n    const _specifier = formatSpecifier(specifier);\n    _specifier.type = 'f';\n    const f = this.newFormat(_specifier.toString());\n    const e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3;\n    const k = Math.pow(10, -e);\n    const prefix = prefixes[8 + e / 3];\n    return function (value: number) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  formatter = (specifier: string) => {\n    return this.newFormat(specifier);\n  };\n\n  format = (specifier: string, value: number) => {\n    return this.formatter(specifier)(value);\n  };\n\n  formatPrefix = (specifier: string, value: number) => {\n    return this._formatPrefix(specifier, value);\n  };\n}\n\nexport const formatTypes = {\n  '%': (x: number, p: number) => (x * 100).toFixed(p),\n  b: (x: number) => Math.round(x).toString(2),\n  c: (x: number) => x + '',\n  d: formatDecimal,\n  f: (x: number, p: number) => x.toFixed(p),\n  e: (x: number, p: number) => x.toExponential(p),\n  g: (x: number, p: number) => x.toPrecision(p),\n  o: (x: number) => Math.round(x).toString(8),\n  p: (x: number, p: number) => formatRounded(x * 100, p),\n  r: formatRounded,\n  s: formatPrefixAuto,\n  X: (x: number) => Math.round(x).toString(16).toUpperCase(),\n  x: (x: number) => Math.round(x).toString(16),\n  t: (x: number, p: number) => {\n    // 判断是否为整数\n    if (Number.isInteger(x)) {\n      return x.toFixed(2);\n    }\n    return Math.floor(x * Math.pow(10, p)) / Math.pow(10, p) + '';\n  },\n  z: (x: number, p: number) => (x % 1 === 0 ? x + '' : x.toFixed(p))\n};\n\nexport function exponent(x: number) {\n  const _x = formatDecimalParts(Math.abs(x));\n  return _x ? _x[1] : NaN;\n}\n\nexport function formatNumerals(numerals: string[]) {\n  return function (value: string) {\n    return value.replace(/[0-9]/g, (i: string) => numerals[+i]);\n  };\n}\n", "import EventEmitter from 'eventemitter3';\n\n/**\n * A high performance event emitter\n * @see {@link https://github.com/primus/eventemitter3}\n * @memberof PIXI.utils\n * @class EventEmitter\n */\nexport { EventEmitter };\n\nexport * from './common';\n\n// data structure\nexport * from './data-structure';\n\n// algorithm\nexport * from './lru';\n\n// math\nexport * from './math';\n\n// angle\nexport * from './angle';\n\n// color\n// TODO: 后续删除这个导出，避免引入不需要的内容\nexport * as ColorUtil from './color';\n\n// methods about graphics\nexport * from './graphics';\n\n// type\nexport * from './type';\n\n// log\nexport * from './logger';\n\n// padding\nexport * from './padding';\n\nexport * from './time';\n\n// dom\nexport * from './dom';\n\nexport * from './geo';\n\nexport * from './color';\n\nexport * from './format/time';\nexport * from './format/number';\n\nexport * from './fmin';\n", "interface Threshold {\n  CLEAN_THRESHOLD?: number;\n  L_TIME?: number;\n  R_COUNT?: number;\n  R_TIMESTAMP_MAX_SIZE?: number;\n}\n// LRU清除\nexport class LRU {\n  private CLEAN_THRESHOLD = 1e3;\n  private L_TIME = 1000; // 1000ms以内\n  private R_COUNT = 1; // 使用次数为0\n  private R_TIMESTAMP_MAX_SIZE = 20; // timestamp最大长度\n\n  clearCache<TK, TV extends { timestamp: number[] }>(cache: Map<TK, TV>, params: Threshold): number {\n    const { CLEAN_THRESHOLD = this.CLEAN_THRESHOLD, L_TIME = this.L_TIME, R_COUNT = this.R_COUNT } = params;\n    if (cache.size < CLEAN_THRESHOLD) {\n      return 0;\n    }\n    // 开始清理，清理最近1000ms内使用次数为0的缓存\n    let clearNum = 0;\n    const clear = (key: TK) => {\n      clearNum++;\n      cache.delete(key);\n    };\n    const now = Date.now();\n    cache.forEach((item, key) => {\n      if (item.timestamp.length < R_COUNT) {\n        return clear(key);\n      } // 最近使用次数小于R_COUNT，清除\n      let useCount = 0;\n      while (now - item.timestamp[item.timestamp.length - 1 - useCount] < L_TIME) {\n        useCount++;\n        if (useCount >= R_COUNT) {\n          break;\n        }\n      }\n      if (useCount < R_COUNT) {\n        return clear(key);\n      } // 最近L_TIME以内使用次数小于R_COUNT，清除\n      // 清除L_TIME以外的key，避免数组过长\n      while (now - item.timestamp[0] > L_TIME) {\n        item.timestamp.shift();\n      }\n      return;\n    });\n    return clearNum;\n  }\n\n  addLimitedTimestamp<T extends { timestamp: number[] }>(cacheItem: T, t: number, params: Threshold) {\n    const { R_TIMESTAMP_MAX_SIZE = this.R_TIMESTAMP_MAX_SIZE } = params;\n    if (cacheItem.timestamp.length > R_TIMESTAMP_MAX_SIZE) {\n      // cacheItem.timestamp[cacheItem.timestamp.length-1] =\n      cacheItem.timestamp.shift();\n    }\n    cacheItem.timestamp.push(t);\n  }\n\n  clearTimeStamp<TK, TV extends { timestamp: number[] }>(cache: Map<TK, TV>, params: Threshold) {\n    const { L_TIME = this.L_TIME } = params;\n    const now = Date.now();\n    cache.forEach(item => {\n      while (now - item.timestamp[0] > L_TIME) {\n        item.timestamp.shift();\n      }\n    });\n  }\n\n  clearItemTimestamp<T extends { timestamp: number[] }>(cacheItem: T, params: Threshold) {\n    const { L_TIME = this.L_TIME } = params;\n    const now = Date.now();\n    while (now - cacheItem.timestamp[0] > L_TIME) {\n      cacheItem.timestamp.shift();\n    }\n  }\n}\n", "export const SECOND = 1000;\nexport const MINUTE = 60 * SECOND;\nexport const HOUR = 60 * MINUTE;\nexport const DAY = 24 * HOUR;\nexport const MONTH = DAY * 31;\nexport const YEAR = DAY * 365;\n\nexport const yearFloor = (date: Date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n\n  return date;\n};\nexport const yearOffset = (date: Date, step: number) => {\n  date.setFullYear(date.getFullYear() + step);\n  return date;\n};\n\nexport const yearCount = (start: Date, end: Date) => {\n  return end.getFullYear() - start.getFullYear();\n};\nexport const yearField = (date: Date) => date.getFullYear();\n\nexport const utcYearFloor = (date: Date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n\n  return date;\n};\nexport const utcYearOffset = (date: Date, step: number) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n  return date;\n};\n\nexport const utcYearCount = (start: Date, end: Date) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n};\nexport const utcYearField = (date: Date) => date.getUTCFullYear();\n\nexport const monthFloor = (date: Date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n\n  return date;\n};\nexport const monthOffset = (date: Date, step: number) => {\n  date.setMonth(date.getMonth() + step);\n\n  return date;\n};\n\nexport const monthCount = (start: Date, end: Date) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n};\nexport const monthField = (date: Date) => date.getMonth();\n\nexport const utcMonthFloor = (date: Date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n\n  return date;\n};\nexport const utcMonthOffset = (date: Date, step: number) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n\n  return date;\n};\n\nexport const utcMonthCount = (start: Date, end: Date) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n};\nexport const utcMonthField = (date: Date) => date.getUTCMonth();\n\nexport const dayFloor = (date: Date) => {\n  date.setHours(0, 0, 0, 0);\n\n  return date;\n};\nexport const dayOffset = (date: Date, step: number) => {\n  date.setDate(date.getDate() + step);\n  return date;\n};\nexport const dayCount = (start: Date, end: Date) => {\n  return (+end - +start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * MINUTE) / DAY;\n};\nexport const dayField = (date: Date) => date.getDate() - 1;\n\nexport const utcDayFloor = (date: Date) => {\n  date.setUTCHours(0, 0, 0, 0);\n\n  return date;\n};\nexport const utcDayOffset = (date: Date, step: number) => {\n  date.setUTCDate(date.getUTCDate() + step);\n  return date;\n};\n\nexport const utcDayCount = (start: Date, end: Date) => {\n  return (+end - +start) / DAY;\n};\nexport const utcDayField = (date: Date) => date.getUTCDate() - 1;\n\nexport const hourFloor = (date: Date) => {\n  date.setTime(+date - date.getMilliseconds() - date.getSeconds() * SECOND - date.getMinutes() * MINUTE);\n\n  return date;\n};\nexport const hourOffset = (date: Date, step: number) => {\n  date.setHours(date.getHours() + step);\n  return date;\n};\n\nexport const hourCount = (start: Date, end: Date) => {\n  return (+end - +start) / HOUR;\n};\nexport const hourField = (date: Date) => date.getHours();\n\nexport const utcHourFloor = (date: Date) => {\n  date.setTime(+date - date.getUTCMilliseconds() - date.getUTCSeconds() * SECOND - date.getUTCMinutes() * MINUTE);\n\n  return date;\n};\nexport const utcHourOffset = (date: Date, step: number) => {\n  date.setUTCHours(date.getUTCHours() + step);\n  return date;\n};\n\nexport const utcHourField = (date: Date) => date.getUTCHours();\n\nexport const minuteFloor = (date: Date) => {\n  date.setTime(+date - date.getMilliseconds() - date.getSeconds() * SECOND);\n\n  return date;\n};\nexport const minuteOffset = (date: Date, step: number) => {\n  date.setMinutes(date.getMinutes() + step);\n  return date;\n};\n\nexport const minuteCount = (start: Date, end: Date) => {\n  return (+end - +start) / MINUTE;\n};\n\nexport const minuteField = (date: Date) => {\n  return date.getMinutes();\n};\n\nexport const utcMinuteFloor = (date: Date) => {\n  date.setTime(+date - date.getUTCMilliseconds() - date.getUTCSeconds() * SECOND);\n\n  return date;\n};\nexport const utcMinuteOffset = (date: Date, step: number) => {\n  date.setUTCMinutes(date.getUTCMinutes() + step);\n  return date;\n};\n\nexport const utcMinuteField = (date: Date) => {\n  return date.getUTCMinutes();\n};\n\nexport const secondFloor = (date: Date) => {\n  date.setTime(+date - date.getMilliseconds());\n\n  return date;\n};\nexport const secondOffset = (date: Date, step: number) => {\n  date.setSeconds(date.getSeconds() + step);\n  return date;\n};\n\nexport const secondCount = (start: Date, end: Date) => {\n  return (+end - +start) / SECOND;\n};\nexport const secondField = (date: Date) => date.getSeconds();\n\nexport const utcSecondFloor = (date: Date) => {\n  date.setTime(+date - date.getUTCMilliseconds());\n\n  return date;\n};\nexport const utcSecondOffset = (date: Date, step: number) => {\n  date.setUTCSeconds(date.getUTCSeconds() + step);\n  return date;\n};\n\nexport const utcSecondField = (date: Date) => date.getUTCSeconds();\n\nexport const millisecondsFloor = (date: Date) => {\n  return date;\n};\nexport const millisecondsOffset = (date: Date, step: number) => {\n  date.setTime(+date + step);\n  return date;\n};\nexport const millisecondsCount = (start: Date, end: Date) => +end - +start;\n\nexport const generateCeil = (floor: (d: Date) => Date, offset: (d: Date, step: number) => Date) => {\n  return (date: Date) => {\n    const n = new Date(+date - 1);\n\n    offset(n, 1);\n    floor(n);\n\n    return n;\n  };\n};\n\nexport const generateCount = (floor: (d: Date) => Date, count: (start: Date, end: Date) => number) => {\n  return (start: Date | number, end: Date | number) => {\n    const a = new Date();\n    const b = new Date();\n\n    a.setTime(+start);\n    b.setTime(+end);\n\n    floor(a);\n    floor(b);\n\n    return Math.floor(count(a, b));\n  };\n};\n\nexport const generateStepInterval = (\n  step: number,\n  {\n    floor,\n    offset,\n    field,\n    count\n  }: {\n    floor: (d: Date) => Date;\n    offset: (d: Date, step: number) => Date;\n    count: (start: Date, end: Date) => number;\n    field?: (d: Date) => number;\n  }\n) => {\n  const s = Math.floor(step);\n\n  if (!Number.isFinite(s) || s <= 0) {\n    return null;\n  }\n  if (s <= 1) {\n    return {\n      floor,\n      offset,\n      ceil: generateCeil(floor, offset)\n    };\n  }\n  const stepCount = generateCount(floor, count);\n  const testFunc = field\n    ? (d: Date) => {\n        return field(d) % s === 0;\n      }\n    : (d: Date) => {\n        return stepCount(0, d) % s === 0;\n      };\n\n  const stepFloor = (date: Date) => {\n    if (!Number.isNaN(+date)) {\n      floor(date);\n      while (!testFunc(date)) {\n        date.setTime(+date - 1);\n        floor(date);\n      }\n    }\n\n    return date;\n  };\n\n  const stepOffset = (date: Date, stepCount: number) => {\n    if (!Number.isNaN(+date)) {\n      if (s < 0) {\n        while (++stepCount <= 0) {\n          offset(date, -1);\n          while (!testFunc(date)) {\n            offset(date, -1);\n          }\n        }\n      } else {\n        while (--stepCount >= 0) {\n          offset(date, +1);\n          while (!testFunc(date)) {\n            offset(date, +1);\n          }\n        }\n      }\n    }\n\n    return date;\n  };\n\n  return {\n    floor: stepFloor,\n    offset: stepOffset,\n    ceil: generateCeil(stepFloor, stepOffset)\n  };\n};\n\nexport const getIntervalOptions = (type: string, isUTC?: boolean) => {\n  if (type === 'year' && isUTC) {\n    return { floor: utcYearFloor, offset: utcYearOffset, count: utcYearCount, field: utcYearField };\n  }\n  if (type === 'month' && isUTC) {\n    return { floor: utcMonthFloor, offset: utcMonthOffset, count: utcMonthCount, field: utcMonthField };\n  }\n  if (type === 'day' && isUTC) {\n    return { floor: utcDayFloor, offset: utcDayOffset, count: utcDayCount, field: utcDayField };\n  }\n  if (type === 'hour' && isUTC) {\n    return { floor: utcHourFloor, offset: utcHourOffset, count: hourCount, field: utcHourField };\n  }\n  if (type === 'minute' && isUTC) {\n    return { floor: utcMinuteFloor, offset: utcMinuteOffset, count: minuteCount, field: utcMinuteField };\n  }\n  if (type === 'second' && isUTC) {\n    return { floor: utcSecondFloor, offset: utcSecondOffset, count: secondCount, field: utcSecondField };\n  }\n  if (type === 'year') {\n    return { floor: yearFloor, offset: yearOffset, count: yearCount, field: yearField };\n  }\n  if (type === 'month') {\n    return { floor: monthFloor, offset: monthOffset, count: monthCount, field: monthField };\n  }\n  if (type === 'day') {\n    return { floor: dayFloor, offset: dayOffset, count: dayCount, field: dayField };\n  }\n  if (type === 'hour') {\n    return { floor: hourFloor, offset: hourOffset, count: hourCount, field: hourField };\n  }\n  if (type === 'minute') {\n    return { floor: minuteFloor, offset: minuteOffset, count: minuteCount, field: minuteField };\n  }\n  if (type === 'second') {\n    return { floor: secondFloor, offset: secondOffset, count: secondCount, field: secondField };\n  }\n\n  return { floor: millisecondsFloor, offset: millisecondsOffset, count: millisecondsCount };\n};\n", "/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexport var earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var factors = {\n    centimeters: earthRadius * 100,\n    centimetres: earthRadius * 100,\n    degrees: earthRadius / 111325,\n    feet: earthRadius * 3.28084,\n    inches: earthRadius * 39.37,\n    kilometers: earthRadius / 1000,\n    kilometres: earthRadius / 1000,\n    meters: earthRadius,\n    metres: earthRadius,\n    miles: earthRadius / 1609.344,\n    millimeters: earthRadius * 1000,\n    millimetres: earthRadius * 1000,\n    nauticalmiles: earthRadius / 1852,\n    radians: 1,\n    yards: earthRadius * 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / earthRadius,\n    yards: 1.0936133,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nexport function feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nexport function geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nexport function point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nexport function points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nexport function polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nexport function polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nexport function lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nexport function lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nexport function featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nexport function multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nexport function multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nexport function multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nexport function geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nexport function round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nexport function radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nexport function lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nexport function lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nexport function bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nexport function radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nexport function degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nexport function convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nexport function convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nexport function isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nexport function isObject(input) {\n    return !!input && input.constructor === Object;\n}\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nexport function validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nexport function validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\n", "/**\n * The MIT License (MIT)\n *\n * Copyright (c) 2019 Morgan Herlocker\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in allcopies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n */\n\nimport type { Feature, MultiPolygon, Polygon, Units } from './interface';\nimport { lengthToRadians } from '@turf/helpers';\nimport { pointInRect, polygonContainPoint } from '../graphics';\nimport type { IPointLike } from '../data-structure';\nimport { degreeToRadian, radianToDegree } from '../angle';\n\n// https://github.com/Turfjs/turf\nfunction getGeom(geojson: any): any {\n  if (geojson.type === 'Feature') {\n    return geojson.geometry;\n  }\n  return geojson;\n}\n\nexport function isPointInPolygon<G extends Polygon | MultiPolygon>(point: IPointLike, polygon: Feature<G> | G) {\n  if (!point) {\n    return false;\n  }\n\n  if (!polygon) {\n    return false;\n  }\n\n  const geom = getGeom(polygon);\n  const type = geom.type;\n  //  BBox [west, south, east, north]\n  const bbox = polygon.bbox;\n  let polys: any[] = geom.coordinates;\n\n  if (bbox && pointInRect(point, { x1: bbox[0], x2: bbox[1], y1: bbox[1], y2: bbox[3] }, true) === true) {\n    return false;\n  }\n\n  if (type === 'Polygon') {\n    polys = [polys];\n  }\n  let result = false;\n\n  for (let i = 0; i < polys.length; ++i) {\n    for (let j = 0; j < polys[i].length; ++j) {\n      const polyResult = polygonContainPoint(\n        polys[i][j].map((p: number[]) => ({ x: p[0], y: p[1] })),\n        point.x,\n        point.y\n      );\n      if (polyResult) {\n        result = true;\n        return result;\n      }\n    }\n  }\n\n  return result;\n}\n\n// https://github.com/Turfjs/turf\nexport function destination(\n  point: IPointLike,\n  distance: number,\n  bearing: number,\n  options: {\n    units?: Units;\n  } = {}\n) {\n  const longitude1 = degreeToRadian(point[0]);\n  const latitude1 = degreeToRadian(point[1]);\n  const bearingRad = degreeToRadian(bearing);\n  const radians = lengthToRadians(distance, options.units);\n\n  // Main\n  const latitude2 = Math.asin(\n    Math.sin(latitude1) * Math.cos(radians) + Math.cos(latitude1) * Math.sin(radians) * Math.cos(bearingRad)\n  );\n  const longitude2 =\n    longitude1 +\n    Math.atan2(\n      Math.sin(bearingRad) * Math.sin(radians) * Math.cos(latitude1),\n      Math.cos(radians) - Math.sin(latitude1) * Math.sin(latitude2)\n    );\n  const lng = radianToDegree(longitude2);\n  const lat = radianToDegree(latitude2);\n\n  return { x: lng, y: lat };\n}\n", "/* Adapted from venn.js by Ben Frederickson\n * https://github.com/benfred/venn.js\n * Licensed under the MIT\n\n * url: https://github.com/benfred/venn.js/blob/master/src/circleintersection.js\n * License: https://github.com/benfred/venn.js/blob/master/LICENSE\n * @license\n */\n\nexport const SMALL = 1e-10;\n", "/* Adapted from venn.js by Ben Frederickson\n * https://github.com/benfred/venn.js\n * Licensed under the MIT\n\n * url: https://github.com/benfred/venn.js/blob/master/src/circleintersection.js\n * License: https://github.com/benfred/venn.js/blob/master/LICENSE\n * @license\n */\n\nimport type { IPointLike } from '../data-structure';\n// eslint-disable-next-line no-duplicate-imports\nimport { PointService } from '../data-structure';\nimport { SMALL } from './constant';\nimport type { ICircleArc, ICircle, IIntersectPoint, IOverlapAreaStats } from './interface';\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles: ICircle[], stats?: IOverlapAreaStats) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0;\n  let polygonArea = 0;\n  const arcs: ICircleArc[] = [];\n\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (let i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (let i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]];\n          const a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y);\n          const a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = PointService.distancePP(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a)\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (let i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (let i = 0; i < circles.length; ++i) {\n      if (PointService.distancePP(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point: IPointLike, circles: ICircle[]) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (PointService.distancePP(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles: ICircle[]) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r: number, width: number) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1: number, r2: number, d: number) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d);\n  const w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1: ICircle, p2: ICircle): IIntersectPoint[] {\n  const d = PointService.distancePP(p1, p2);\n  const r1 = p1.radius;\n  const r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d);\n  const h = Math.sqrt(r1 * r1 - a * a);\n  const x0 = p1.x + (a * (p2.x - p1.x)) / d;\n  const y0 = p1.y + (a * (p2.y - p1.y)) / d;\n  const rx = -(p2.y - p1.y) * (h / d);\n  const ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry }\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points: IPointLike[]) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n", "/* Adapted from fmin by Ben Frederickson\n * https://github.com/benfred/fmin\n * Licensed under the BSD-3-Clause\n\n * url: https://github.com/benfred/fmin/blob/master/src/blas1.js\n * License: https://github.com/benfred/fmin/blob/master/LICENSE\n * @license\n */\n\nimport { dotProduct } from '../math';\n\n// need some basic operations on vectors, rather than adding a dependency,\n// just define here\nexport function zeros(x: number): number[] {\n  const r = new Array(x);\n  for (let i = 0; i < x; ++i) {\n    r[i] = 0;\n  }\n  return r;\n}\nexport function zerosM(x: number, y: number) {\n  return zeros(x).map(function () {\n    return zeros(y);\n  });\n}\n\nexport function norm2(a: number[]) {\n  return Math.sqrt(dotProduct(a, a));\n}\n\nexport function scale(ret: number[], value: number[], c: number) {\n  for (let i = 0; i < value.length; ++i) {\n    ret[i] = value[i] * c;\n  }\n}\n\nexport function weightedSum(ret: number[], w1: number, v1: number[], w2: number, v2: number[]) {\n  for (let j = 0; j < ret.length; ++j) {\n    ret[j] = w1 * v1[j] + w2 * v2[j];\n  }\n}\n\nexport function gemv(output: number[], A: number[][], x: number[]) {\n  for (let i = 0; i < output.length; ++i) {\n    output[i] = dotProduct(A[i], x);\n  }\n}\n", "/* Adapted from fmin by Ben Frederickson\n * https://github.com/benfred/fmin\n * Licensed under the BSD-3-Clause\n\n * url: https://github.com/benfred/fmin/blob/master/src/nelderMead.js\n * License: https://github.com/benfred/fmin/blob/master/LICENSE\n * @license\n */\n\nimport { weightedSum } from './blas1';\n\n/** minimizes a function using the downhill simplex method */\nexport function nelderMead(f: any, x0: any, parameters: any) {\n  parameters = parameters || {};\n\n  const maxIterations = parameters.maxIterations || x0.length * 200;\n  const nonZeroDelta = parameters.nonZeroDelta || 1.05;\n  const zeroDelta = parameters.zeroDelta || 0.001;\n  const minErrorDelta = parameters.minErrorDelta || 1e-6;\n  const minTolerance = parameters.minErrorDelta || 1e-5;\n  const rho = parameters.rho !== undefined ? parameters.rho : 1;\n  const chi = parameters.chi !== undefined ? parameters.chi : 2;\n  const psi = parameters.psi !== undefined ? parameters.psi : -0.5;\n  const sigma = parameters.sigma !== undefined ? parameters.sigma : 0.5;\n  let maxDiff;\n\n  // initialize simplex.\n  const N = x0.length;\n  const simplex = new Array(N + 1);\n  simplex[0] = x0;\n  simplex[0].fx = f(x0);\n  simplex[0].id = 0;\n  for (let i = 0; i < N; ++i) {\n    const point = x0.slice();\n    point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n    simplex[i + 1] = point;\n    simplex[i + 1].fx = f(point);\n    simplex[i + 1].id = i + 1;\n  }\n\n  function updateSimplex(value: any) {\n    for (let i = 0; i < value.length; i++) {\n      simplex[N][i] = value[i];\n    }\n    simplex[N].fx = value.fx;\n  }\n\n  const sortOrder = function (a: any, b: any) {\n    return a.fx - b.fx;\n  };\n\n  const centroid = x0.slice();\n  const reflected = x0.slice();\n  const contracted = x0.slice();\n  const expanded = x0.slice();\n\n  for (let iteration = 0; iteration < maxIterations; ++iteration) {\n    simplex.sort(sortOrder);\n\n    if (parameters.history) {\n      // copy the simplex (since later iterations will mutate) and\n      // sort it to have a consistent order between iterations\n      const sortedSimplex = simplex.map(function (x) {\n        const state = x.slice();\n        state.fx = x.fx;\n        state.id = x.id;\n        return state;\n      });\n      sortedSimplex.sort(function (a, b) {\n        return a.id - b.id;\n      });\n\n      parameters.history.push({ x: simplex[0].slice(), fx: simplex[0].fx, simplex: sortedSimplex });\n    }\n\n    maxDiff = 0;\n    for (let i = 0; i < N; ++i) {\n      maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n    }\n\n    if (Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta && maxDiff < minTolerance) {\n      break;\n    }\n\n    // compute the centroid of all but the worst point in the simplex\n    for (let i = 0; i < N; ++i) {\n      centroid[i] = 0;\n      for (let j = 0; j < N; ++j) {\n        centroid[i] += simplex[j][i];\n      }\n      centroid[i] /= N;\n    }\n\n    // reflect the worst point past the centroid  and compute loss at reflected\n    // point\n    const worst = simplex[N];\n    weightedSum(reflected, 1 + rho, centroid, -rho, worst);\n    reflected.fx = f(reflected);\n\n    // if the reflected point is the best seen, then possibly expand\n    if (reflected.fx < simplex[0].fx) {\n      weightedSum(expanded, 1 + chi, centroid, -chi, worst);\n      expanded.fx = f(expanded);\n      if (expanded.fx < reflected.fx) {\n        updateSimplex(expanded);\n      } else {\n        updateSimplex(reflected);\n      }\n    }\n\n    // if the reflected point is worse than the second worst, we need to\n    // contract\n    else if (reflected.fx >= simplex[N - 1].fx) {\n      let shouldReduce = false;\n\n      if (reflected.fx > worst.fx) {\n        // do an inside contraction\n        weightedSum(contracted, 1 + psi, centroid, -psi, worst);\n        contracted.fx = f(contracted);\n        if (contracted.fx < worst.fx) {\n          updateSimplex(contracted);\n        } else {\n          shouldReduce = true;\n        }\n      } else {\n        // do an outside contraction\n        weightedSum(contracted, 1 - psi * rho, centroid, psi * rho, worst);\n        contracted.fx = f(contracted);\n        if (contracted.fx < reflected.fx) {\n          updateSimplex(contracted);\n        } else {\n          shouldReduce = true;\n        }\n      }\n\n      if (shouldReduce) {\n        // if we don't contract here, we're done\n        if (sigma >= 1) {\n          break;\n        }\n\n        // do a reduction\n        for (let i = 1; i < simplex.length; ++i) {\n          weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n          simplex[i].fx = f(simplex[i]);\n        }\n      }\n    } else {\n      updateSimplex(reflected);\n    }\n  }\n\n  simplex.sort(sortOrder);\n  return { fx: simplex[0].fx, x: simplex[0] };\n}\n", "/* Adapted from fmin by Ben Frederickson\n * https://github.com/benfred/fmin\n * Licensed under the BSD-3-Clause\n\n * url: https://github.com/benfred/fmin/blob/master/src/linesearch.js\n * License: https://github.com/benfred/fmin/blob/master/LICENSE\n * @license\n */\n\nimport { dotProduct } from '../math';\nimport { weightedSum } from './blas1';\n\n/// searches along line 'pk' for a point that satifies the wolfe conditions\n/// See 'Numerical Optimization' by Nocedal and Wright p59-60\n/// f : objective function\n/// pk : search direction\n/// current: object containing current gradient/loss\n/// next: output: contains next gradient/loss\n/// returns a: step size taken\nexport function wolfeLineSearch(f: any, pk: number[], current: any, next: any, a: number, c1?: number, c2?: number) {\n  const phi0 = current.fx;\n  const phiPrime0 = dotProduct(current.fxprime, pk);\n  let phi = phi0;\n  let phi_old = phi0;\n  let phiPrime = phiPrime0;\n  let a0 = 0;\n\n  a = a || 1;\n  c1 = c1 || 1e-6;\n  c2 = c2 || 0.1;\n\n  function zoom(a_lo: number, a_high: number, phi_lo: number) {\n    for (let iteration = 0; iteration < 16; ++iteration) {\n      a = (a_lo + a_high) / 2;\n      weightedSum(next.x, 1.0, current.x, a, pk);\n      phi = next.fx = f(next.x, next.fxprime);\n      phiPrime = dotProduct(next.fxprime, pk);\n\n      if (phi > phi0 + c1 * a * phiPrime0 || phi >= phi_lo) {\n        a_high = a;\n      } else {\n        if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n          return a;\n        }\n\n        if (phiPrime * (a_high - a_lo) >= 0) {\n          a_high = a_lo;\n        }\n\n        a_lo = a;\n        phi_lo = phi;\n      }\n    }\n\n    return 0;\n  }\n\n  for (let iteration = 0; iteration < 10; ++iteration) {\n    weightedSum(next.x, 1.0, current.x, a, pk);\n    phi = next.fx = f(next.x, next.fxprime);\n    phiPrime = dotProduct(next.fxprime, pk);\n    if (phi > phi0 + c1 * a * phiPrime0 || (iteration && phi >= phi_old)) {\n      return zoom(a0, a, phi_old);\n    }\n\n    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n      return a;\n    }\n\n    if (phiPrime >= 0) {\n      return zoom(a, a0, phi);\n    }\n\n    phi_old = phi;\n    a0 = a;\n    a *= 2;\n  }\n\n  return a;\n}\n", "/* Adapted from fmin by Ben Frederickson\n * https://github.com/benfred/fmin\n * Licensed under the BSD-3-Clause\n\n * url: https://github.com/benfred/fmin/blob/master/src/conjugateGradient.js\n * License: https://github.com/benfred/fmin/blob/master/LICENSE\n * @license\n */\n\nimport { dotProduct } from '../math';\nimport { norm2, scale, weightedSum } from './blas1';\nimport { wolfeLineSearch } from './linesearch';\n\nexport function conjugateGradient(f: any, initial: any, params: any) {\n  // allocate all memory up front here, keep out of the loop for perfomance\n  // reasons\n  let current = { x: initial.slice(), fx: 0, fxprime: initial.slice() };\n  let next = { x: initial.slice(), fx: 0, fxprime: initial.slice() };\n  const yk = initial.slice();\n  let temp;\n  let a = 1;\n\n  params = params || {};\n  const maxIterations = params.maxIterations || initial.length * 20;\n\n  current.fx = f(current.x, current.fxprime);\n  const pk = current.fxprime.slice();\n  scale(pk, current.fxprime, -1);\n\n  for (let i = 0; i < maxIterations; ++i) {\n    a = wolfeLineSearch(f, pk, current, next, a);\n\n    // todo: history in wrong spot?\n    if (params.history) {\n      params.history.push({ x: current.x.slice(), fx: current.fx, fxprime: current.fxprime.slice(), alpha: a });\n    }\n\n    if (!a) {\n      // faiiled to find point that satifies wolfe conditions.\n      // reset direction for next iteration\n      scale(pk, current.fxprime, -1);\n    } else {\n      // update direction using Polak–Ribiere CG method\n      weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n      const delta_k = dotProduct(current.fxprime, current.fxprime);\n      const beta_k = Math.max(0, dotProduct(yk, next.fxprime) / delta_k);\n\n      weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n      temp = current;\n      current = next;\n      next = temp;\n    }\n\n    if (norm2(current.fxprime) <= 1e-5) {\n      break;\n    }\n  }\n\n  if (params.history) {\n    params.history.push({ x: current.x.slice(), fx: current.fx, fxprime: current.fxprime.slice(), alpha: a });\n  }\n\n  return current;\n}\n", "var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n", "import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n", "import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n", "export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();", "var thirdPi = Math.PI / 3,\n    angles = [0, thirdPi, 2 * thirdPi, 3 * thirdPi, 4 * thirdPi, 5 * thirdPi];\n\nfunction pointX(d) {\n  return d[0];\n}\n\nfunction pointY(d) {\n  return d[1];\n}\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1,\n      x = pointX,\n      y = pointY,\n      r,\n      dx,\n      dy;\n\n  function hexbin(points) {\n    var binsById = {}, bins = [], i, n = points.length;\n\n    for (i = 0; i < n; ++i) {\n      if (isNaN(px = +x.call(null, point = points[i], i, points))\n          || isNaN(py = +y.call(null, point, i, points))) continue;\n\n      var point,\n          px,\n          py,\n          pj = Math.round(py = py / dy),\n          pi = Math.round(px = px / dx - (pj & 1) / 2),\n          py1 = py - pj;\n\n      if (Math.abs(py1) * 3 > 1) {\n        var px1 = px - pi,\n            pi2 = pi + (px < pi ? -1 : 1) / 2,\n            pj2 = pj + (py < pj ? -1 : 1),\n            px2 = px - pi2,\n            py2 = py - pj2;\n        if (px1 * px1 + py1 * py1 > px2 * px2 + py2 * py2) pi = pi2 + (pj & 1 ? 1 : -1) / 2, pj = pj2;\n      }\n\n      var id = pi + \"-\" + pj, bin = binsById[id];\n      if (bin) bin.push(point);\n      else {\n        bins.push(bin = binsById[id] = [point]);\n        bin.x = (pi + (pj & 1) / 2) * dx;\n        bin.y = pj * dy;\n      }\n    }\n\n    return bins;\n  }\n\n  function hexagon(radius) {\n    var x0 = 0, y0 = 0;\n    return angles.map(function(angle) {\n      var x1 = Math.sin(angle) * radius,\n          y1 = -Math.cos(angle) * radius,\n          dx = x1 - x0,\n          dy = y1 - y0;\n      x0 = x1, y0 = y1;\n      return [dx, dy];\n    });\n  }\n\n  hexbin.hexagon = function(radius) {\n    return \"m\" + hexagon(radius == null ? r : +radius).join(\"l\") + \"z\";\n  };\n\n  hexbin.centers = function() {\n    var centers = [],\n        j = Math.round(y0 / dy),\n        i = Math.round(x0 / dx);\n    for (var y = j * dy; y < y1 + r; y += dy, ++j) {\n      for (var x = i * dx + (j & 1) * dx / 2; x < x1 + dx / 2; x += dx) {\n        centers.push([x, y]);\n      }\n    }\n    return centers;\n  };\n\n  hexbin.mesh = function() {\n    var fragment = hexagon(r).slice(0, 4).join(\"l\");\n    return hexbin.centers().map(function(p) { return \"M\" + p + \"m\" + fragment; }).join(\"\");\n  };\n\n  hexbin.x = function(_) {\n    return arguments.length ? (x = _, hexbin) : x;\n  };\n\n  hexbin.y = function(_) {\n    return arguments.length ? (y = _, hexbin) : y;\n  };\n\n  hexbin.radius = function(_) {\n    return arguments.length ? (r = +_, dx = r * 2 * Math.sin(thirdPi), dy = r * 1.5, hexbin) : r;\n  };\n\n  hexbin.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], hexbin) : [x1 - x0, y1 - y0];\n  };\n\n  hexbin.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], hexbin) : [[x0, y0], [x1, y1]];\n  };\n\n  return hexbin.radius(1);\n}\n", "export default function(x) {\n  return x;\n}\n", "function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n", "// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n", "export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n", "export default function noop() {}\n", "import adder from \"../adder.js\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n", "import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n", "import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n", "import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n", "import adder from \"../adder.js\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n", "export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n", "import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n", "import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n", "import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n", "import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n", "import adder from \"./adder.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nvar sum = adder();\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n", "export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n", "import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n", "var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n", "var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n", "export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n", "import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n", "import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n", "export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n", "import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n", "import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n", "import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n", "export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n", "import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n", "export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n", "import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n", "import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n", "import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n", "import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n", "import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n", "import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n", "import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n", "import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n", "import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n", "import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n", "import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n", "import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n", "import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n", "import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n", "import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n", "import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n", "import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n", "import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n", "import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n", "import adder from \"./adder.js\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n", "import adder from \"./adder.js\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n", "import adder from \"./adder.js\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n", "/**\n * [Simple linear regression](http://en.wikipedia.org/wiki/Simple_linear_regression)\n * is a simple way to find a fitted line\n * between a set of coordinates. This algorithm finds the slope and y-intercept of a regression line\n * using the least sum of squares.\n *\n * @param {Array<Array<number>>} data an array of two-element of arrays,\n * like `[[0, 1], [2, 3]]`\n * @returns {Object} object containing slope and intersect of regression line\n * @example\n * linearRegression([[0, 0], [1, 1]]); // => { m: 1, b: 0 }\n */\nfunction linearRegression(data) {\n    let m;\n    let b;\n\n    // Store data length in a local variable to reduce\n    // repeated object property lookups\n    const dataLength = data.length;\n\n    //if there's only one point, arbitrarily choose a slope of 0\n    //and a y-intercept of whatever the y of the initial point is\n    if (dataLength === 1) {\n        m = 0;\n        b = data[0][1];\n    } else {\n        // Initialize our sums and scope the `m` and `b`\n        // variables that define the line.\n        let sumX = 0;\n        let sumY = 0;\n        let sumXX = 0;\n        let sumXY = 0;\n\n        // Use local variables to grab point values\n        // with minimal object property lookups\n        let point;\n        let x;\n        let y;\n\n        // Gather the sum of all x values, the sum of all\n        // y values, and the sum of x^2 and (x*y) for each\n        // value.\n        //\n        // In math notation, these would be SS_x, SS_y, SS_xx, and SS_xy\n        for (let i = 0; i < dataLength; i++) {\n            point = data[i];\n            x = point[0];\n            y = point[1];\n\n            sumX += x;\n            sumY += y;\n\n            sumXX += x * x;\n            sumXY += x * y;\n        }\n\n        // `m` is the slope of the regression line\n        m =\n            (dataLength * sumXY - sumX * sumY) /\n            (dataLength * sumXX - sumX * sumX);\n\n        // `b` is the y-intercept of the line.\n        b = sumY / dataLength - (m * sumX) / dataLength;\n    }\n\n    // Return both values as an object.\n    return {\n        m: m,\n        b: b\n    };\n}\n\nexport default linearRegression;\n", "/**\n * Given the output of `linearRegression`: an object\n * with `m` and `b` values indicating slope and intercept,\n * respectively, generate a line function that translates\n * x values into y values.\n *\n * @param {Object} mb object with `m` and `b` members, representing\n * slope and intersect of desired line\n * @returns {Function} method that computes y-value at any given\n * x-value on the line.\n * @example\n * var l = linearRegressionLine(linearRegression([[0, 0], [1, 1]]));\n * l(0) // = 0\n * l(2) // = 2\n * linearRegressionLine({ b: 0, m: 1 })(1); // => 1\n * linearRegressionLine({ b: 1, m: 1 })(1); // => 2\n */\nfunction linearRegressionLine(mb /*: { b: number, m: number }*/) {\n    // Return a function that computes a `y` value for each\n    // x value it is given, based on the values of `b` and `a`\n    // that we just computed.\n    return function (x) {\n        return mb.b + mb.m * x;\n    };\n}\n\nexport default linearRegressionLine;\n", "/**\n * Our default sum is the [Kahan-Babuska algorithm](https://pdfs.semanticscholar.org/1760/7d467cda1d0277ad272deb2113533131dc09.pdf).\n * This method is an improvement over the classical\n * [Kahan summation algorithm](https://en.wikipedia.org/wiki/Kahan_summation_algorithm).\n * It aims at computing the sum of a list of numbers while correcting for\n * floating-point errors. Traditionally, sums are calculated as many\n * successive additions, each one with its own floating-point roundoff. These\n * losses in precision add up as the number of numbers increases. This alternative\n * algorithm is more accurate than the simple way of calculating sums by simple\n * addition.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x input\n * @return {number} sum of all input numbers\n * @example\n * sum([1, 2, 3]); // => 6\n */\nfunction sum(x) {\n    // If the array is empty, we needn't bother computing its sum\n    if (x.length === 0) {\n        return 0;\n    }\n\n    // Initializing the sum as the first number in the array\n    let sum = x[0];\n\n    // Keeping track of the floating-point error correction\n    let correction = 0;\n\n    let transition;\n\n    if (typeof sum !== \"number\") {\n        return Number.NaN;\n    }\n\n    for (let i = 1; i < x.length; i++) {\n        if (typeof x[i] !== \"number\") {\n            return Number.NaN;\n        }\n        transition = sum + x[i];\n\n        // Here we need to update the correction in a different fashion\n        // if the new absolute value is greater than the absolute sum\n        if (Math.abs(sum) >= Math.abs(x[i])) {\n            correction += sum - transition + x[i];\n        } else {\n            correction += x[i] - transition + sum;\n        }\n\n        sum = transition;\n    }\n\n    // Returning the corrected sum\n    return sum + correction;\n}\n\nexport default sum;\n", "import sum from \"./sum.js\";\n\n/**\n * The mean, _also known as average_,\n * is the sum of all values over the number of values.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the length of x is less than one\n * @returns {number} mean\n * @example\n * mean([0, 10]); // => 5\n */\nfunction mean(x) {\n    if (x.length === 0) {\n        throw new Error(\"mean requires at least one data point\");\n    }\n\n    return sum(x) / x.length;\n}\n\nexport default mean;\n", "import mean from \"./mean.js\";\n\n/**\n * The sum of deviations to the Nth power.\n * When n=2 it's the sum of squared deviations.\n * When n=3 it's the sum of cubed deviations.\n *\n * @param {Array<number>} x\n * @param {number} n power\n * @returns {number} sum of nth power deviations\n *\n * @example\n * var input = [1, 2, 3];\n * // since the variance of a set is the mean squared\n * // deviations, we can calculate that with sumNthPowerDeviations:\n * sumNthPowerDeviations(input, 2) / input.length;\n */\nfunction sumNthPowerDeviations(x, n) {\n    const meanValue = mean(x);\n    let sum = 0;\n    let tempValue;\n    let i;\n\n    // This is an optimization: when n is 2 (we're computing a number squared),\n    // multiplying the number by itself is significantly faster than using\n    // the Math.pow method.\n    if (n === 2) {\n        for (i = 0; i < x.length; i++) {\n            tempValue = x[i] - meanValue;\n            sum += tempValue * tempValue;\n        }\n    } else {\n        for (i = 0; i < x.length; i++) {\n            sum += Math.pow(x[i] - meanValue, n);\n        }\n    }\n\n    return sum;\n}\n\nexport default sumNthPowerDeviations;\n", "import sumNthPowerDeviations from \"./sum_nth_power_deviations.js\";\n\n/**\n * The [variance](http://en.wikipedia.org/wiki/Variance)\n * is the sum of squared deviations from the mean.\n *\n * This is an implementation of variance, not sample variance:\n * see the `sampleVariance` method if you want a sample measure.\n *\n * @param {Array<number>} x a population of one or more data points\n * @returns {number} variance: a value greater than or equal to zero.\n * zero indicates that all values are identical.\n * @throws {Error} if x's length is 0\n * @example\n * variance([1, 2, 3, 4, 5, 6]); // => 2.9166666666666665\n */\nfunction variance(x) {\n    if (x.length === 0) {\n        throw new Error(\"variance requires at least one data point\");\n    }\n\n    // Find the mean of squared deviations between the\n    // mean value and each value.\n    return sumNthPowerDeviations(x, 2) / x.length;\n}\n\nexport default variance;\n", "import variance from \"./variance.js\";\n\n/**\n * The [standard deviation](http://en.wikipedia.org/wiki/Standard_deviation)\n * is the square root of the variance. This is also known as the population\n * standard deviation. It's useful for measuring the amount\n * of variation or dispersion in a set of values.\n *\n * Standard deviation is only appropriate for full-population knowledge: for\n * samples of a population, {@link sampleStandardDeviation} is\n * more appropriate.\n *\n * @param {Array<number>} x input\n * @returns {number} standard deviation\n * @example\n * variance([2, 4, 4, 4, 5, 5, 7, 9]); // => 4\n * standardDeviation([2, 4, 4, 4, 5, 5, 7, 9]); // => 2\n */\nfunction standardDeviation(x) {\n    if (x.length === 1) {\n        return 0;\n    }\n    const v = variance(x);\n    return Math.sqrt(v);\n}\n\nexport default standardDeviation;\n", "/**\n * The [R Squared](http://en.wikipedia.org/wiki/Coefficient_of_determination)\n * value of data compared with a function `f`\n * is the sum of the squared differences between the prediction\n * and the actual value.\n *\n * @param {Array<Array<number>>} x input data: this should be doubly-nested\n * @param {Function} func function called on `[i][0]` values within the dataset\n * @returns {number} r-squared value\n * @example\n * var samples = [[0, 0], [1, 1]];\n * var regressionLine = linearRegressionLine(linearRegression(samples));\n * rSquared(samples, regressionLine); // = 1 this line is a perfect fit\n */\nfunction rSquared(x, func) {\n    if (x.length < 2) {\n        return 1;\n    }\n\n    // Compute the average y value for the actual\n    // data set in order to compute the\n    // _total sum of squares_\n    let sum = 0;\n    for (let i = 0; i < x.length; i++) {\n        sum += x[i][1];\n    }\n    const average = sum / x.length;\n\n    // Compute the total sum of squares - the\n    // squared difference between each point\n    // and the average of all points.\n    let sumOfSquares = 0;\n    for (let j = 0; j < x.length; j++) {\n        sumOfSquares += Math.pow(average - x[j][1], 2);\n    }\n\n    // Finally estimate the error: the squared\n    // difference between the estimate and the actual data\n    // value at each point.\n    let err = 0;\n    for (let k = 0; k < x.length; k++) {\n        err += Math.pow(x[k][1] - func(x[k][0]), 2);\n    }\n\n    // As the error grows larger, its ratio to the\n    // sum of squares increases and the r squared\n    // value grows lower.\n    return 1 - err / sumOfSquares;\n}\n\nexport default rSquared;\n", "/**\n * The [mode](https://en.wikipedia.org/wiki/Mode_%28statistics%29) is the number\n * that appears in a list the highest number of times.\n * There can be multiple modes in a list: in the event of a tie, this\n * algorithm will return the most recently seen mode.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n)` because the input is sorted.\n *\n * @param {Array<number>} sorted a sample of one or more data points\n * @returns {number} mode\n * @throws {Error} if sorted is empty\n * @example\n * modeSorted([0, 0, 1]); // => 0\n */\nfunction modeSorted(sorted) {\n    // Handle edge cases:\n    // The mode of an empty list is undefined\n    if (sorted.length === 0) {\n        throw new Error(\"mode requires at least one data point\");\n    }\n    if (sorted.length === 1) {\n        return sorted[0];\n    }\n\n    // This assumes it is dealing with an array of size > 1, since size\n    // 0 and 1 are handled immediately. Hence it starts at index 1 in the\n    // array.\n    let last = sorted[0];\n    // store the mode as we find new modes\n    let value = Number.NaN;\n    // store how many times we've seen the mode\n    let maxSeen = 0;\n    // how many times the current candidate for the mode\n    // has been seen\n    let seenThis = 1;\n\n    // end at sorted.length + 1 to fix the case in which the mode is\n    // the highest number that occurs in the sequence. the last iteration\n    // compares sorted[i], which is undefined, to the highest number\n    // in the series\n    for (let i = 1; i < sorted.length + 1; i++) {\n        // we're seeing a new number pass by\n        if (sorted[i] !== last) {\n            // the last number is the new mode since we saw it more\n            // often than the old one\n            if (seenThis > maxSeen) {\n                maxSeen = seenThis;\n                value = last;\n            }\n            seenThis = 1;\n            last = sorted[i];\n            // if this isn't a new number, it's one more occurrence of\n            // the potential mode\n        } else {\n            seenThis++;\n        }\n    }\n    return value;\n}\n\nexport default modeSorted;\n", "/**\n * Sort an array of numbers by their numeric value, ensuring that the\n * array is not changed in place.\n *\n * This is necessary because the default behavior of .sort\n * in JavaScript is to sort arrays as string values\n *\n *     [1, 10, 12, 102, 20].sort()\n *     // output\n *     [1, 10, 102, 12, 20]\n *\n * @param {Array<number>} x input array\n * @return {Array<number>} sorted array\n * @private\n * @example\n * numericSort([3, 2, 1]) // => [1, 2, 3]\n */\nfunction numericSort(x) {\n    return (\n        x\n            // ensure the array is not changed in-place\n            .slice()\n            // comparator function that treats input as numeric\n            .sort(function (a, b) {\n                return a - b;\n            })\n    );\n}\n\nexport default numericSort;\n", "import modeSorted from \"./mode_sorted.js\";\nimport numericSort from \"./numeric_sort.js\";\n\n/**\n * The [mode](https://en.wikipedia.org/wiki/Mode_%28statistics%29) is the number\n * that appears in a list the highest number of times.\n * There can be multiple modes in a list: in the event of a tie, this\n * algorithm will return the most recently seen mode.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n log(n))` because it needs to sort the array internally\n * before running an `O(n)` search to find the mode.\n *\n * @param {Array<number>} x input\n * @returns {number} mode\n * @example\n * mode([0, 0, 1]); // => 0\n */\nfunction mode(x) {\n    // Sorting the array lets us iterate through it below and be sure\n    // that every time we see a new number it's new and we'll never\n    // see the same number twice\n    return modeSorted(numericSort(x));\n}\n\nexport default mode;\n", "/* globals Map: false */\n\n/**\n * The [mode](https://en.wikipedia.org/wiki/Mode_%28statistics%29) is the number\n * that appears in a list the highest number of times.\n * There can be multiple modes in a list: in the event of a tie, this\n * algorithm will return the most recently seen mode.\n *\n * modeFast uses a Map object to keep track of the mode, instead of the approach\n * used with `mode`, a sorted array. As a result, it is faster\n * than `mode` and supports any data type that can be compared with `==`.\n * It also requires a\n * [JavaScript environment with support for Map](https://kangax.github.io/compat-table/es6/#test-Map),\n * and will throw an error if Map is not available.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * @param {Array<*>} x a sample of one or more data points\n * @returns {?*} mode\n * @throws {ReferenceError} if the JavaScript environment doesn't support Map\n * @throws {Error} if x is empty\n * @example\n * modeFast(['rabbits', 'rabbits', 'squirrels']); // => 'rabbits'\n */\nfunction modeFast(x) {\n    // This index will reflect the incidence of different values, indexing\n    // them like\n    // { value: count }\n    const index = new Map();\n\n    // A running `mode` and the number of times it has been encountered.\n    let mode;\n    let modeCount = 0;\n\n    for (let i = 0; i < x.length; i++) {\n        let newCount = index.get(x[i]);\n        if (newCount === undefined) {\n            newCount = 1;\n        } else {\n            newCount++;\n        }\n        if (newCount > modeCount) {\n            mode = x[i];\n            modeCount = newCount;\n        }\n        index.set(x[i], newCount);\n    }\n\n    if (modeCount === 0) {\n        throw new Error(\"mode requires at last one data point\");\n    }\n\n    return mode;\n}\n\nexport default modeFast;\n", "/**\n * The min is the lowest number in the array.\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the length of x is less than one\n * @returns {number} minimum value\n * @example\n * min([1, 5, -10, 100, 2]); // => -10\n */\nfunction min(x) {\n    if (x.length === 0) {\n        throw new Error(\"min requires at least one data point\");\n    }\n\n    let value = x[0];\n    for (let i = 1; i < x.length; i++) {\n        if (x[i] < value) {\n            value = x[i];\n        }\n    }\n    return value;\n}\n\nexport default min;\n", "/**\n * This computes the maximum number in an array.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} maximum value\n * @throws {Error} if the length of x is less than one\n * @example\n * max([1, 2, 3, 4]);\n * // => 4\n */\nfunction max(x) {\n    if (x.length === 0) {\n        throw new Error(\"max requires at least one data point\");\n    }\n\n    let value = x[0];\n    for (let i = 1; i < x.length; i++) {\n        if (x[i] > value) {\n            value = x[i];\n        }\n    }\n    return value;\n}\n\nexport default max;\n", "/**\n * This computes the minimum & maximum number in an array.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {Array<number>} minimum & maximum value\n * @throws {Error} if the length of x is less than one\n * @example\n * extent([1, 2, 3, 4]);\n * // => [1, 4]\n */\nfunction extent(x) {\n    if (x.length === 0) {\n        throw new Error(\"extent requires at least one data point\");\n    }\n\n    let min = x[0];\n    let max = x[0];\n    for (let i = 1; i < x.length; i++) {\n        if (x[i] > max) {\n            max = x[i];\n        }\n        if (x[i] < min) {\n            min = x[i];\n        }\n    }\n    return [min, max];\n}\n\nexport default extent;\n", "/**\n * The minimum is the lowest number in the array. With a sorted array,\n * the first element in the array is always the smallest, so this calculation\n * can be done in one step, or constant time.\n *\n * @param {Array<number>} x input\n * @returns {number} minimum value\n * @example\n * minSorted([-100, -10, 1, 2, 5]); // => -100\n */\nfunction minSorted(x) {\n    return x[0];\n}\n\nexport default minSorted;\n", "/**\n * The maximum is the highest number in the array. With a sorted array,\n * the last element in the array is always the largest, so this calculation\n * can be done in one step, or constant time.\n *\n * @param {Array<number>} x input\n * @returns {number} maximum value\n * @example\n * maxSorted([-100, -10, 1, 2, 5]); // => 5\n */\nfunction maxSorted(x) {\n    return x[x.length - 1];\n}\n\nexport default maxSorted;\n", "/**\n * The extent is the lowest & highest number in the array. With a sorted array,\n * the first element in the array is always the lowest while the last element is always the largest, so this calculation\n * can be done in one step, or constant time.\n *\n * @param {Array<number>} x input\n * @returns {Array<number>} minimum & maximum value\n * @example\n * extentSorted([-100, -10, 1, 2, 5]); // => [-100, 5]\n */\nfunction extentSorted(x) {\n    return [x[0], x[x.length - 1]];\n}\n\nexport default extentSorted;\n", "/**\n * The simple [sum](https://en.wikipedia.org/wiki/Summation) of an array\n * is the result of adding all numbers together, starting from zero.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x input\n * @return {number} sum of all input numbers\n * @example\n * sumSimple([1, 2, 3]); // => 6\n */\nfunction sumSimple(x) {\n    let value = 0;\n    for (let i = 0; i < x.length; i++) {\n        if (typeof x[i] !== \"number\") {\n            return Number.NaN;\n        }\n        value += x[i];\n    }\n    return value;\n}\n\nexport default sumSimple;\n", "/**\n * The [product](https://en.wikipedia.org/wiki/Product_(mathematics)) of an array\n * is the result of multiplying all numbers together, starting using one as the multiplicative identity.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x input\n * @return {number} product of all input numbers\n * @example\n * product([1, 2, 3, 4]); // => 24\n */\nfunction product(x) {\n    let value = 1;\n    for (let i = 0; i < x.length; i++) {\n        value *= x[i];\n    }\n    return value;\n}\n\nexport default product;\n", "/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantileSorted(x, p) {\n    const idx = x.length * p;\n    if (x.length === 0) {\n        throw new Error(\"quantile requires at least one data point.\");\n    } else if (p < 0 || p > 1) {\n        throw new Error(\"quantiles must be between 0 and 1\");\n    } else if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n    } else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n    } else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n    } else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n    } else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n    }\n}\n\nexport default quantileSorted;\n", "/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nfunction quickselect(arr, k, left, right) {\n    left = left || 0;\n    right = right || arr.length - 1;\n\n    while (right > left) {\n        // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n        if (right - left > 600) {\n            const n = right - left + 1;\n            const m = k - left + 1;\n            const z = Math.log(n);\n            const s = 0.5 * Math.exp((2 * z) / 3);\n            let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n            if (m - n / 2 < 0) sd *= -1;\n            const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n            const newRight = Math.min(\n                right,\n                Math.floor(k + ((n - m) * s) / n + sd)\n            );\n            quickselect(arr, k, newLeft, newRight);\n        }\n\n        const t = arr[k];\n        let i = left;\n        let j = right;\n\n        swap(arr, left, k);\n        if (arr[right] > t) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (arr[i] < t) i++;\n            while (arr[j] > t) j--;\n        }\n\n        if (arr[left] === t) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nexport default quickselect;\n", "import quantileSorted from \"./quantile_sorted.js\";\nimport quickselect from \"./quickselect.js\";\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x, p) {\n    const copy = x.slice();\n\n    if (Array.isArray(p)) {\n        // rearrange elements so that each element corresponding to a requested\n        // quantile is on a place it would be if the array was fully sorted\n        multiQuantileSelect(copy, p);\n        // Initialize the result array\n        const results = [];\n        // For each requested quantile\n        for (let i = 0; i < p.length; i++) {\n            results[i] = quantileSorted(copy, p[i]);\n        }\n        return results;\n    } else {\n        const idx = quantileIndex(copy.length, p);\n        quantileSelect(copy, idx, 0, copy.length - 1);\n        return quantileSorted(copy, p);\n    }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n    if (k % 1 === 0) {\n        quickselect(arr, k, left, right);\n    } else {\n        k = Math.floor(k);\n        quickselect(arr, k, left, right);\n        quickselect(arr, k + 1, k + 1, right);\n    }\n}\n\nfunction multiQuantileSelect(arr, p) {\n    const indices = [0];\n    for (let i = 0; i < p.length; i++) {\n        indices.push(quantileIndex(arr.length, p[i]));\n    }\n    indices.push(arr.length - 1);\n    indices.sort(compare);\n\n    const stack = [0, indices.length - 1];\n\n    while (stack.length) {\n        const r = Math.ceil(stack.pop());\n        const l = Math.floor(stack.pop());\n        if (r - l <= 1) continue;\n\n        const m = Math.floor((l + r) / 2);\n        quantileSelect(\n            arr,\n            indices[m],\n            Math.floor(indices[l]),\n            Math.ceil(indices[r])\n        );\n\n        stack.push(l, m, m, r);\n    }\n}\n\nfunction compare(a, b) {\n    return a - b;\n}\n\nfunction quantileIndex(len, p) {\n    const idx = len * p;\n    if (p === 1) {\n        // If p is 1, directly return the last index\n        return len - 1;\n    } else if (p === 0) {\n        // If p is 0, directly return the first index\n        return 0;\n    } else if (idx % 1 !== 0) {\n        // If index is not integer, return the next index in array\n        return Math.ceil(idx) - 1;\n    } else if (len % 2 === 0) {\n        // If the list has even-length, we'll return the middle of two indices\n        // around quantile to indicate that we need an average value of the two\n        return idx - 0.5;\n    } else {\n        // Finally, in the simple case of an integer index\n        // with an odd-length list, return the index\n        return idx;\n    }\n}\n\nexport default quantile;\n", "/* eslint no-bitwise: 0 */\n\n/**\n * This function returns the quantile in which one would find the given value in\n * the given array. With a sorted array, leveraging binary search, we can find\n * this information in logarithmic time.\n *\n * @param {Array<number>} x input\n * @returns {number} value value\n * @example\n * quantileRankSorted([1, 2, 3, 4], 3); // => 0.75\n * quantileRankSorted([1, 2, 3, 3, 4], 3); // => 0.7\n * quantileRankSorted([1, 2, 3, 4], 6); // => 1\n * quantileRankSorted([1, 2, 3, 3, 5], 4); // => 0.8\n */\nfunction quantileRankSorted(x, value) {\n    // Value is lesser than any value in the array\n    if (value < x[0]) {\n        return 0;\n    }\n\n    // Value is greater than any value in the array\n    if (value > x[x.length - 1]) {\n        return 1;\n    }\n\n    let l = lowerBound(x, value);\n\n    // Value is not in the array\n    if (x[l] !== value) {\n        return l / x.length;\n    }\n\n    l++;\n\n    const u = upperBound(x, value);\n\n    // The value exists only once in the array\n    if (u === l) {\n        return l / x.length;\n    }\n\n    // Here, we are basically computing the mean of the range of indices\n    // containing our searched value. But, instead, of initializing an\n    // array and looping over it, there is a dedicated math formula that\n    // we apply below to get the result.\n    const r = u - l + 1;\n    const sum = (r * (u + l)) / 2;\n    const mean = sum / r;\n\n    return mean / x.length;\n}\n\nfunction lowerBound(x, value) {\n    let mid = 0;\n    let lo = 0;\n    let hi = x.length;\n\n    while (lo < hi) {\n        mid = (lo + hi) >>> 1;\n\n        if (value <= x[mid]) {\n            hi = mid;\n        } else {\n            lo = -~mid;\n        }\n    }\n\n    return lo;\n}\n\nfunction upperBound(x, value) {\n    let mid = 0;\n    let lo = 0;\n    let hi = x.length;\n\n    while (lo < hi) {\n        mid = (lo + hi) >>> 1;\n\n        if (value >= x[mid]) {\n            lo = -~mid;\n        } else {\n            hi = mid;\n        }\n    }\n\n    return lo;\n}\n\nexport default quantileRankSorted;\n", "import numericSort from \"./numeric_sort.js\";\nimport quantileRankSorted from \"./quantile_rank_sorted.js\";\n\n/**\n * This function returns the quantile in which one would find the given value in\n * the given array. It will copy and sort your array before each run, so\n * if you know your array is already sorted, you should use `quantileRankSorted`\n * instead.\n *\n * @param {Array<number>} x input\n * @returns {number} value value\n * @example\n * quantileRank([4, 3, 1, 2], 3); // => 0.75\n * quantileRank([4, 3, 2, 3, 1], 3); // => 0.7\n * quantileRank([2, 4, 1, 3], 6); // => 1\n * quantileRank([5, 3, 1, 2, 3], 4); // => 0.8\n */\nfunction quantileRank(x, value) {\n    // Cloning and sorting the array\n    const sortedCopy = numericSort(x);\n\n    return quantileRankSorted(sortedCopy, value);\n}\n\nexport default quantileRank;\n", "import quantile from \"./quantile.js\";\n\n/**\n * The [Interquartile range](http://en.wikipedia.org/wiki/Interquartile_range) is\n * a measure of statistical dispersion, or how scattered, spread, or\n * concentrated a distribution is. It's computed as the difference between\n * the third quartile and first quartile.\n *\n * @param {Array<number>} x sample of one or more numbers\n * @returns {number} interquartile range: the span between lower and upper quartile,\n * 0.25 and 0.75\n * @example\n * interquartileRange([0, 1, 2, 3]); // => 2\n */\nfunction interquartileRange(x) {\n    // Interquartile range is the span between the upper quartile,\n    // at `0.75`, and lower quartile, `0.25`\n    const q1 = quantile(x, 0.75);\n    const q2 = quantile(x, 0.25);\n\n    if (typeof q1 === \"number\" && typeof q2 === \"number\") {\n        return q1 - q2;\n    }\n}\n\nexport default interquartileRange;\n", "import quantile from \"./quantile.js\";\n\n/**\n * The [median](http://en.wikipedia.org/wiki/Median) is\n * the middle number of a list. This is often a good indicator of 'the middle'\n * when there are outliers that skew the `mean()` value.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * The median isn't necessarily one of the elements in the list: the value\n * can be the average of two elements if the list has an even length\n * and the two central values are different.\n *\n * @param {Array<number>} x input\n * @returns {number} median value\n * @example\n * median([10, 2, 5, 100, 2, 1]); // => 3.5\n */\nfunction median(x) {\n    return +quantile(x, 0.5);\n}\n\nexport default median;\n", "import median from \"./median.js\";\n\n/**\n * The [Median Absolute Deviation](http://en.wikipedia.org/wiki/Median_absolute_deviation) is\n * a robust measure of statistical\n * dispersion. It is more resilient to outliers than the standard deviation.\n *\n * @param {Array<number>} x input array\n * @returns {number} median absolute deviation\n * @example\n * medianAbsoluteDeviation([1, 1, 2, 2, 4, 6, 9]); // => 1\n */\nfunction medianAbsoluteDeviation(x) {\n    const medianValue = median(x);\n    const medianAbsoluteDeviations = [];\n\n    // Make a list of absolute deviations from the median\n    for (let i = 0; i < x.length; i++) {\n        medianAbsoluteDeviations.push(Math.abs(x[i] - medianValue));\n    }\n\n    // Find the median value of that list\n    return median(medianAbsoluteDeviations);\n}\n\nexport default medianAbsoluteDeviation;\n", "/**\n * Split an array into chunks of a specified size. This function\n * has the same behavior as [PHP's array_chunk](http://php.net/manual/en/function.array-chunk.php)\n * function, and thus will insert smaller-sized chunks at the end if\n * the input size is not divisible by the chunk size.\n *\n * `x` is expected to be an array, and `chunkSize` a number.\n * The `x` array can contain any kind of data.\n *\n * @param {Array} x a sample\n * @param {number} chunkSize size of each output array. must be a positive integer\n * @returns {Array<Array>} a chunked array\n * @throws {Error} if chunk size is less than 1 or not an integer\n * @example\n * chunk([1, 2, 3, 4, 5, 6], 2);\n * // => [[1, 2], [3, 4], [5, 6]]\n */\nfunction chunk(x, chunkSize) {\n    // a list of result chunks, as arrays in an array\n    const output = [];\n\n    // `chunkSize` must be zero or higher - otherwise the loop below,\n    // in which we call `start += chunkSize`, will loop infinitely.\n    // So, we'll detect and throw in that case to indicate\n    // invalid input.\n    if (chunkSize < 1) {\n        throw new Error(\"chunk size must be a positive number\");\n    }\n\n    if (Math.floor(chunkSize) !== chunkSize) {\n        throw new Error(\"chunk size must be an integer\");\n    }\n\n    // `start` is the index at which `.slice` will start selecting\n    // new array elements\n    for (let start = 0; start < x.length; start += chunkSize) {\n        // for each chunk, slice that part of the array and add it\n        // to the output. The `.slice` function does not change\n        // the original array.\n        output.push(x.slice(start, start + chunkSize));\n    }\n    return output;\n}\n\nexport default chunk;\n", "/**\n * Sampling with replacement is a type of sampling that allows the same\n * item to be picked out of a population more than once.\n *\n * @param {Array<*>} x an array of any kind of value\n * @param {number} n count of how many elements to take\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @return {Array} n sampled items from the population\n * @example\n * var values = [1, 2, 3, 4];\n * sampleWithReplacement(values, 2); // returns 2 random values, like [2, 4];\n */\nfunction sampleWithReplacement(x, n, randomSource) {\n    if (x.length === 0) {\n        return [];\n    }\n\n    // a custom random number source can be provided if you want to use\n    // a fixed seed or another random number generator, like\n    // [random-js](https://www.npmjs.org/package/random-js)\n    randomSource = randomSource || Math.random;\n\n    const length = x.length;\n    const sample = [];\n\n    for (let i = 0; i < n; i++) {\n        const index = Math.floor(randomSource() * length);\n\n        sample.push(x[index]);\n    }\n\n    return sample;\n}\n\nexport default sampleWithReplacement;\n", "/**\n * A [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)\n * in-place - which means that it **will change the order of the original\n * array by reference**.\n *\n * This is an algorithm that generates a random [permutation](https://en.wikipedia.org/wiki/Permutation)\n * of a set.\n *\n * @param {Array} x sample of one or more numbers\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @returns {Array} x\n * @example\n * var x = [1, 2, 3, 4];\n * shuffleInPlace(x);\n * // x is shuffled to a value like [2, 1, 4, 3]\n */\nfunction shuffleInPlace(x, randomSource) {\n    // a custom random number source can be provided if you want to use\n    // a fixed seed or another random number generator, like\n    // [random-js](https://www.npmjs.org/package/random-js)\n    randomSource = randomSource || Math.random;\n\n    // store the current length of the x to determine\n    // when no elements remain to shuffle.\n    let length = x.length;\n\n    // temporary is used to hold an item when it is being\n    // swapped between indices.\n    let temporary;\n\n    // The index to swap at each stage.\n    let index;\n\n    // While there are still items to shuffle\n    while (length > 0) {\n        // choose a random index within the subset of the array\n        // that is not yet shuffled\n        index = Math.floor(randomSource() * length--);\n\n        // store the value that we'll move temporarily\n        temporary = x[length];\n\n        // swap the value at `x[length]` with `x[index]`\n        x[length] = x[index];\n        x[index] = temporary;\n    }\n\n    return x;\n}\n\nexport default shuffleInPlace;\n", "import shuffleInPlace from \"./shuffle_in_place.js\";\n\n/**\n * A [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)\n * is a fast way to create a random permutation of a finite set. This is\n * a function around `shuffle_in_place` that adds the guarantee that\n * it will not modify its input.\n *\n * @param {Array} x sample of 0 or more numbers\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @return {Array} shuffled version of input\n * @example\n * var shuffled = shuffle([1, 2, 3, 4]);\n * shuffled; // = [2, 3, 1, 4] or any other random permutation\n */\nfunction shuffle(x, randomSource) {\n    // slice the original array so that it is not modified\n    const sample = x.slice();\n\n    // and then shuffle that shallow-copied array, in place\n    return shuffleInPlace(sample, randomSource);\n}\n\nexport default shuffle;\n", "import shuffle from \"./shuffle.js\";\n\n/**\n * Create a [simple random sample](http://en.wikipedia.org/wiki/Simple_random_sample)\n * from a given array of `n` elements.\n *\n * The sampled values will be in any order, not necessarily the order\n * they appear in the input.\n *\n * @param {Array<any>} x input array. can contain any type\n * @param {number} n count of how many elements to take\n * @param {Function} [randomSource=Math.random] an optional entropy source that\n * returns numbers between 0 inclusive and 1 exclusive: the range [0, 1)\n * @return {Array} subset of n elements in original array\n *\n * @example\n * var values = [1, 2, 4, 5, 6, 7, 8, 9];\n * sample(values, 3); // returns 3 random values, like [2, 5, 8];\n */\nfunction sample(x, n, randomSource) {\n    // shuffle the original array using a fisher-yates shuffle\n    const shuffled = shuffle(x, randomSource);\n\n    // and then return a subset of it - the first `n` elements.\n    return shuffled.slice(0, n);\n}\n\nexport default sample;\n", "/**\n * Create a new column x row matrix.\n *\n * @private\n * @param {number} columns\n * @param {number} rows\n * @return {Array<Array<number>>} matrix\n * @example\n * makeMatrix(10, 10);\n */\nfunction makeMatrix(columns, rows) {\n    const matrix = [];\n    for (let i = 0; i < columns; i++) {\n        const column = [];\n        for (let j = 0; j < rows; j++) {\n            column.push(0);\n        }\n        matrix.push(column);\n    }\n    return matrix;\n}\n\nexport default makeMatrix;\n", "/**\n * For a sorted input, counting the number of unique values\n * is possible in constant time and constant memory. This is\n * a simple implementation of the algorithm.\n *\n * Values are compared with `===`, so objects and non-primitive objects\n * are not handled in any special way.\n *\n * @param {Array<*>} x an array of any kind of value\n * @returns {number} count of unique values\n * @example\n * uniqueCountSorted([1, 2, 3]); // => 3\n * uniqueCountSorted([1, 1, 1]); // => 1\n */\nfunction uniqueCountSorted(x) {\n    let uniqueValueCount = 0;\n    let lastSeenValue;\n    for (let i = 0; i < x.length; i++) {\n        if (i === 0 || x[i] !== lastSeenValue) {\n            lastSeenValue = x[i];\n            uniqueValueCount++;\n        }\n    }\n    return uniqueValueCount;\n}\n\nexport default uniqueCountSorted;\n", "import makeMatrix from \"./make_matrix.js\";\nimport numericSort from \"./numeric_sort.js\";\nimport uniqueCountSorted from \"./unique_count_sorted.js\";\n\n/**\n * Generates incrementally computed values based on the sums and sums of\n * squares for the data array\n *\n * @private\n * @param {number} j\n * @param {number} i\n * @param {Array<number>} sums\n * @param {Array<number>} sumsOfSquares\n * @return {number}\n * @example\n * ssq(0, 1, [-1, 0, 2], [1, 1, 5]);\n */\nfunction ssq(j, i, sums, sumsOfSquares) {\n    let sji; // s(j, i)\n    if (j > 0) {\n        const muji = (sums[i] - sums[j - 1]) / (i - j + 1); // mu(j, i)\n        sji =\n            sumsOfSquares[i] - sumsOfSquares[j - 1] - (i - j + 1) * muji * muji;\n    } else {\n        sji = sumsOfSquares[i] - (sums[i] * sums[i]) / (i + 1);\n    }\n    if (sji < 0) {\n        return 0;\n    }\n    return sji;\n}\n\n/**\n * Function that recursively divides and conquers computations\n * for cluster j\n *\n * @private\n * @param {number} iMin Minimum index in cluster to be computed\n * @param {number} iMax Maximum index in cluster to be computed\n * @param {number} cluster Index of the cluster currently being computed\n * @param {Array<Array<number>>} matrix\n * @param {Array<Array<number>>} backtrackMatrix\n * @param {Array<number>} sums\n * @param {Array<number>} sumsOfSquares\n */\nfunction fillMatrixColumn(\n    iMin,\n    iMax,\n    cluster,\n    matrix,\n    backtrackMatrix,\n    sums,\n    sumsOfSquares\n) {\n    if (iMin > iMax) {\n        return;\n    }\n\n    // Start at midpoint between iMin and iMax\n    const i = Math.floor((iMin + iMax) / 2);\n\n    matrix[cluster][i] = matrix[cluster - 1][i - 1];\n    backtrackMatrix[cluster][i] = i;\n\n    let jlow = cluster; // the lower end for j\n\n    if (iMin > cluster) {\n        jlow = Math.max(jlow, backtrackMatrix[cluster][iMin - 1] || 0);\n    }\n    jlow = Math.max(jlow, backtrackMatrix[cluster - 1][i] || 0);\n\n    let jhigh = i - 1; // the upper end for j\n    if (iMax < matrix[0].length - 1) {\n        /* c8 ignore start */\n        jhigh = Math.min(jhigh, backtrackMatrix[cluster][iMax + 1] || 0);\n        /* c8 ignore end */\n    }\n\n    let sji;\n    let sjlowi;\n    let ssqjlow;\n    let ssqj;\n    for (let j = jhigh; j >= jlow; --j) {\n        sji = ssq(j, i, sums, sumsOfSquares);\n\n        if (sji + matrix[cluster - 1][jlow - 1] >= matrix[cluster][i]) {\n            break;\n        }\n\n        // Examine the lower bound of the cluster border\n        sjlowi = ssq(jlow, i, sums, sumsOfSquares);\n\n        ssqjlow = sjlowi + matrix[cluster - 1][jlow - 1];\n\n        if (ssqjlow < matrix[cluster][i]) {\n            // Shrink the lower bound\n            matrix[cluster][i] = ssqjlow;\n            backtrackMatrix[cluster][i] = jlow;\n        }\n        jlow++;\n\n        ssqj = sji + matrix[cluster - 1][j - 1];\n        if (ssqj < matrix[cluster][i]) {\n            matrix[cluster][i] = ssqj;\n            backtrackMatrix[cluster][i] = j;\n        }\n    }\n\n    fillMatrixColumn(\n        iMin,\n        i - 1,\n        cluster,\n        matrix,\n        backtrackMatrix,\n        sums,\n        sumsOfSquares\n    );\n    fillMatrixColumn(\n        i + 1,\n        iMax,\n        cluster,\n        matrix,\n        backtrackMatrix,\n        sums,\n        sumsOfSquares\n    );\n}\n\n/**\n * Initializes the main matrices used in Ckmeans and kicks\n * off the divide and conquer cluster computation strategy\n *\n * @private\n * @param {Array<number>} data sorted array of values\n * @param {Array<Array<number>>} matrix\n * @param {Array<Array<number>>} backtrackMatrix\n */\nfunction fillMatrices(data, matrix, backtrackMatrix) {\n    const nValues = matrix[0].length;\n\n    // Shift values by the median to improve numeric stability\n    const shift = data[Math.floor(nValues / 2)];\n\n    // Cumulative sum and cumulative sum of squares for all values in data array\n    const sums = [];\n    const sumsOfSquares = [];\n\n    // Initialize first column in matrix & backtrackMatrix\n    for (let i = 0, shiftedValue; i < nValues; ++i) {\n        shiftedValue = data[i] - shift;\n        if (i === 0) {\n            sums.push(shiftedValue);\n            sumsOfSquares.push(shiftedValue * shiftedValue);\n        } else {\n            sums.push(sums[i - 1] + shiftedValue);\n            sumsOfSquares.push(\n                sumsOfSquares[i - 1] + shiftedValue * shiftedValue\n            );\n        }\n\n        // Initialize for cluster = 0\n        matrix[0][i] = ssq(0, i, sums, sumsOfSquares);\n        backtrackMatrix[0][i] = 0;\n    }\n\n    // Initialize the rest of the columns\n    let iMin;\n    for (let cluster = 1; cluster < matrix.length; ++cluster) {\n        if (cluster < matrix.length - 1) {\n            iMin = cluster;\n        } else {\n            // No need to compute matrix[K-1][0] ... matrix[K-1][N-2]\n            iMin = nValues - 1;\n        }\n\n        fillMatrixColumn(\n            iMin,\n            nValues - 1,\n            cluster,\n            matrix,\n            backtrackMatrix,\n            sums,\n            sumsOfSquares\n        );\n    }\n}\n\n/**\n * Ckmeans clustering is an improvement on heuristic-based clustering\n * approaches like Jenks. The algorithm was developed in\n * [Haizhou Wang and Mingzhou Song](http://journal.r-project.org/archive/2011-2/RJournal_2011-2_Wang+Song.pdf)\n * as a [dynamic programming](https://en.wikipedia.org/wiki/Dynamic_programming) approach\n * to the problem of clustering numeric data into groups with the least\n * within-group sum-of-squared-deviations.\n *\n * Minimizing the difference within groups - what Wang & Song refer to as\n * `withinss`, or within sum-of-squares, means that groups are optimally\n * homogenous within and the data is split into representative groups.\n * This is very useful for visualization, where you may want to represent\n * a continuous variable in discrete color or style groups. This function\n * can provide groups that emphasize differences between data.\n *\n * Being a dynamic approach, this algorithm is based on two matrices that\n * store incrementally-computed values for squared deviations and backtracking\n * indexes.\n *\n * This implementation is based on Ckmeans 3.4.6, which introduced a new divide\n * and conquer approach that improved runtime from O(kn^2) to O(kn log(n)).\n *\n * Unlike the [original implementation](https://cran.r-project.org/web/packages/Ckmeans.1d.dp/index.html),\n * this implementation does not include any code to automatically determine\n * the optimal number of clusters: this information needs to be explicitly\n * provided.\n *\n * ### References\n * _Ckmeans.1d.dp: Optimal k-means Clustering in One Dimension by Dynamic\n * Programming_ Haizhou Wang and Mingzhou Song ISSN 2073-4859\n *\n * from The R Journal Vol. 3/2, December 2011\n * @param {Array<number>} x input data, as an array of number values\n * @param {number} nClusters number of desired classes. This cannot be\n * greater than the number of values in the data array.\n * @returns {Array<Array<number>>} clustered input\n * @throws {Error} if the number of requested clusters is higher than the size of the data\n * @example\n * ckmeans([-1, 2, -1, 2, 4, 5, 6, -1, 2, -1], 3);\n * // The input, clustered into groups of similar numbers.\n * //= [[-1, -1, -1, -1], [2, 2, 2], [4, 5, 6]]);\n */\nfunction ckmeans(x, nClusters) {\n    if (nClusters > x.length) {\n        throw new Error(\n            \"cannot generate more classes than there are data values\"\n        );\n    }\n\n    const sorted = numericSort(x);\n    // we'll use this as the maximum number of clusters\n    const uniqueCount = uniqueCountSorted(sorted);\n\n    // if all of the input values are identical, there's one cluster\n    // with all of the input in it.\n    if (uniqueCount === 1) {\n        return [sorted];\n    }\n\n    // named 'S' originally\n    const matrix = makeMatrix(nClusters, sorted.length);\n    // named 'J' originally\n    const backtrackMatrix = makeMatrix(nClusters, sorted.length);\n\n    // This is a dynamic programming way to solve the problem of minimizing\n    // within-cluster sum of squares. It's similar to linear regression\n    // in this way, and this calculation incrementally computes the\n    // sum of squares that are later read.\n    fillMatrices(sorted, matrix, backtrackMatrix);\n\n    // The real work of Ckmeans clustering happens in the matrix generation:\n    // the generated matrices encode all possible clustering combinations, and\n    // once they're generated we can solve for the best clustering groups\n    // very quickly.\n    const clusters = [];\n    let clusterRight = backtrackMatrix[0].length - 1;\n\n    // Backtrack the clusters from the dynamic programming matrix. This\n    // starts at the bottom-right corner of the matrix (if the top-left is 0, 0),\n    // and moves the cluster target with the loop.\n    for (let cluster = backtrackMatrix.length - 1; cluster >= 0; cluster--) {\n        const clusterLeft = backtrackMatrix[cluster][clusterRight];\n\n        // fill the cluster from the sorted input by taking a slice of the\n        // array. the backtrack matrix makes this easy - it stores the\n        // indexes where the cluster should start and end.\n        clusters[cluster] = sorted.slice(clusterLeft, clusterRight + 1);\n\n        if (cluster > 0) {\n            clusterRight = clusterLeft - 1;\n        }\n    }\n\n    return clusters;\n}\n\nexport default ckmeans;\n", "/*\n * Pull Breaks Values for Jenks\n *\n * the second part of the jenks recipe: take the calculated matrices\n * and derive an array of n breaks.\n *\n * @private\n */\nfunction jenksBreaks(data, lowerClassLimits, nClasses) {\n    let k = data.length;\n    const kclass = [];\n    let countNum = nClasses;\n\n    // the calculation of classes will never include the upper\n    // bound, so we need to explicitly set it\n    kclass[nClasses] = data[data.length - 1];\n\n    // the lowerClassLimits matrix is used as indices into itself\n    // here: the `k` variable is reused in each iteration.\n    while (countNum > 0) {\n        kclass[countNum - 1] = data[lowerClassLimits[k][countNum] - 1];\n        k = lowerClassLimits[k][countNum] - 1;\n        countNum--;\n    }\n\n    return kclass;\n}\n\nexport default jenksBreaks;\n", "/*\n * Compute Matrices for Jenks\n *\n * Compute the matrices required for Jenks breaks. These matrices\n * can be used for any classing of data with `classes <= nClasses`\n *\n * @private\n */\nfunction jenksMatrices(data, nClasses) {\n    // in the original implementation, these matrices are referred to\n    // as `LC` and `OP`\n    //\n    // * lowerClassLimits (LC): optimal lower class limits\n    // * varianceCombinations (OP): optimal variance combinations for all classes\n    const lowerClassLimits = [];\n    const varianceCombinations = [];\n    // loop counters\n    let i;\n    let j;\n    // the variance, as computed at each step in the calculation\n    let variance = 0;\n\n    // Initialize and fill each matrix with zeroes\n    for (i = 0; i < data.length + 1; i++) {\n        const tmp1 = [];\n        const tmp2 = [];\n        // despite these arrays having the same values, we need\n        // to keep them separate so that changing one does not change\n        // the other\n        for (j = 0; j < nClasses + 1; j++) {\n            tmp1.push(0);\n            tmp2.push(0);\n        }\n        lowerClassLimits.push(tmp1);\n        varianceCombinations.push(tmp2);\n    }\n\n    for (i = 1; i < nClasses + 1; i++) {\n        lowerClassLimits[1][i] = 1;\n        varianceCombinations[1][i] = 0;\n        // in the original implementation, 9999999 is used but\n        // since Javascript has `Infinity`, we use that.\n        for (j = 2; j < data.length + 1; j++) {\n            varianceCombinations[j][i] = Number.POSITIVE_INFINITY;\n        }\n    }\n\n    for (let l = 2; l < data.length + 1; l++) {\n        // `SZ` originally. this is the sum of the values seen thus\n        // far when calculating variance.\n        let sum = 0;\n        // `ZSQ` originally. the sum of squares of values seen\n        // thus far\n        let sumSquares = 0;\n        // `WT` originally. This is the number of\n        let w = 0;\n        // `IV` originally\n        let i4 = 0;\n\n        // in several instances, you could say `Math.pow(x, 2)`\n        // instead of `x * x`, but this is slower in some browsers\n        // introduces an unnecessary concept.\n        for (let m = 1; m < l + 1; m++) {\n            // `III` originally\n            const lowerClassLimit = l - m + 1;\n            const val = data[lowerClassLimit - 1];\n\n            // here we're estimating variance for each potential classing\n            // of the data, for each potential number of classes. `w`\n            // is the number of data points considered so far.\n            w++;\n\n            // increase the current sum and sum-of-squares\n            sum += val;\n            sumSquares += val * val;\n\n            // the variance at this point in the sequence is the difference\n            // between the sum of squares and the total x 2, over the number\n            // of samples.\n            variance = sumSquares - (sum * sum) / w;\n\n            i4 = lowerClassLimit - 1;\n\n            if (i4 !== 0) {\n                for (j = 2; j < nClasses + 1; j++) {\n                    // if adding this element to an existing class\n                    // will increase its variance beyond the limit, break\n                    // the class at this point, setting the `lowerClassLimit`\n                    // at this point.\n                    if (\n                        varianceCombinations[l][j] >=\n                        variance + varianceCombinations[i4][j - 1]\n                    ) {\n                        lowerClassLimits[l][j] = lowerClassLimit;\n                        varianceCombinations[l][j] =\n                            variance + varianceCombinations[i4][j - 1];\n                    }\n                }\n            }\n        }\n\n        lowerClassLimits[l][1] = 1;\n        varianceCombinations[l][1] = variance;\n    }\n\n    // return the two matrices. for just providing breaks, only\n    // `lowerClassLimits` is needed, but variances can be useful to\n    // evaluate goodness of fit.\n    return {\n        lowerClassLimits: lowerClassLimits,\n        varianceCombinations: varianceCombinations\n    };\n}\n\nexport default jenksMatrices;\n", "import jenksBreaks from \"./jenks_breaks.js\";\nimport jenksMatrices from \"./jenks_matrices.js\";\n\n/**\n * The **[jenks natural breaks optimization](http://en.wikipedia.org/wiki/Jenks_natural_breaks_optimization)**\n * is an algorithm commonly used in cartography and visualization to decide\n * upon groupings of data values that minimize variance within themselves\n * and maximize variation between themselves.\n *\n * For instance, cartographers often use jenks in order to choose which\n * values are assigned to which colors in a [choropleth](https://en.wikipedia.org/wiki/Choropleth_map)\n * map.\n *\n * @param {Array<number>} data input data, as an array of number values\n * @param {number} nClasses number of desired classes\n * @returns {Array<number>} array of class break positions\n * // split data into 3 break points\n * jenks([1, 2, 4, 5, 7, 9, 10, 20], 3) // = [1, 7, 20, 20]\n */\nfunction jenks(data, nClasses) {\n    if (nClasses > data.length) {\n        return null;\n    }\n\n    // sort data in numerical order, since this is expected\n    // by the matrices function\n    data = data.slice().sort(function (a, b) {\n        return a - b;\n    });\n\n    // get our basic matrices\n    const matrices = jenksMatrices(data, nClasses);\n    // we only need lower class limits here\n    const lowerClassLimits = matrices.lowerClassLimits;\n\n    // extract nClasses out of the computed matrices\n    return jenksBreaks(data, lowerClassLimits, nClasses);\n}\n\nexport default jenks;\n", "import max from \"./max.js\";\nimport min from \"./min.js\";\n\n/**\n * Given an array of x, this will find the extent of the\n * x and return an array of breaks that can be used\n * to categorize the x into a number of classes. The\n * returned array will always be 1 longer than the number of\n * classes because it includes the minimum value.\n *\n * @param {Array<number>} x an array of number values\n * @param {number} nClasses number of desired classes\n * @returns {Array<number>} array of class break positions\n * @example\n * equalIntervalBreaks([1, 2, 3, 4, 5, 6], 4); // => [1, 2.25, 3.5, 4.75, 6]\n */\nfunction equalIntervalBreaks(x, nClasses) {\n    if (x.length < 2) {\n        return x;\n    }\n\n    const theMin = min(x);\n    const theMax = max(x);\n\n    // the first break will always be the minimum value\n    // in the xset\n    const breaks = [theMin];\n\n    // The size of each break is the full range of the x\n    // divided by the number of classes requested\n    const breakSize = (theMax - theMin) / nClasses;\n\n    // In the case of nClasses = 1, this loop won't run\n    // and the returned breaks will be [min, max]\n    for (let i = 1; i < nClasses; i++) {\n        breaks.push(breaks[0] + breakSize * i);\n    }\n\n    // the last break will always be the\n    // maximum.\n    breaks.push(theMax);\n\n    return breaks;\n}\n\nexport default equalIntervalBreaks;\n", "import mean from \"./mean.js\";\n\n/**\n * [Sample covariance](https://en.wikipedia.org/wiki/Sample_mean_and_covariance) of two datasets:\n * how much do the two datasets move together?\n * x and y are two datasets, represented as arrays of numbers.\n *\n * @param {Array<number>} x a sample of two or more data points\n * @param {Array<number>} y a sample of two or more data points\n * @throws {Error} if x and y do not have equal lengths\n * @throws {Error} if x or y have length of one or less\n * @returns {number} sample covariance\n * @example\n * sampleCovariance([1, 2, 3, 4, 5, 6], [6, 5, 4, 3, 2, 1]); // => -3.5\n */\nfunction sampleCovariance(x, y) {\n    // The two datasets must have the same length which must be more than 1\n    if (x.length !== y.length) {\n        throw new Error(\"sampleCovariance requires samples with equal lengths\");\n    }\n\n    if (x.length < 2) {\n        throw new Error(\n            \"sampleCovariance requires at least two data points in each sample\"\n        );\n    }\n\n    // determine the mean of each dataset so that we can judge each\n    // value of the dataset fairly as the difference from the mean. this\n    // way, if one dataset is [1, 2, 3] and [2, 3, 4], their covariance\n    // does not suffer because of the difference in absolute values\n    const xmean = mean(x);\n    const ymean = mean(y);\n    let sum = 0;\n\n    // for each pair of values, the covariance increases when their\n    // difference from the mean is associated - if both are well above\n    // or if both are well below\n    // the mean, the covariance increases significantly.\n    for (let i = 0; i < x.length; i++) {\n        sum += (x[i] - xmean) * (y[i] - ymean);\n    }\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    const besselsCorrection = x.length - 1;\n\n    // the covariance is weighted by the length of the datasets.\n    return sum / besselsCorrection;\n}\n\nexport default sampleCovariance;\n", "import sumNthPowerDeviations from \"./sum_nth_power_deviations.js\";\n\n/**\n * The [sample variance](https://en.wikipedia.org/wiki/Variance#Sample_variance)\n * is the sum of squared deviations from the mean. The sample variance\n * is distinguished from the variance by the usage of [Bessel's Correction](https://en.wikipedia.org/wiki/Bessel's_correction):\n * instead of dividing the sum of squared deviations by the length of the input,\n * it is divided by the length minus one. This corrects the bias in estimating\n * a value from a set that you don't know if full.\n *\n * References:\n * * [Wolfram MathWorld on Sample Variance](http://mathworld.wolfram.com/SampleVariance.html)\n *\n * @param {Array<number>} x a sample of two or more data points\n * @throws {Error} if the length of x is less than 2\n * @return {number} sample variance\n * @example\n * sampleVariance([1, 2, 3, 4, 5]); // => 2.5\n */\nfunction sampleVariance(x) {\n    if (x.length < 2) {\n        throw new Error(\"sampleVariance requires at least two data points\");\n    }\n\n    const sumSquaredDeviationsValue = sumNthPowerDeviations(x, 2);\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    const besselsCorrection = x.length - 1;\n\n    // Find the mean value of that list\n    return sumSquaredDeviationsValue / besselsCorrection;\n}\n\nexport default sampleVariance;\n", "import sampleVariance from \"./sample_variance.js\";\n\n/**\n * The [sample standard deviation](http://en.wikipedia.org/wiki/Standard_deviation#Sample_standard_deviation)\n * is the square root of the sample variance.\n *\n * @param {Array<number>} x input array\n * @returns {number} sample standard deviation\n * @example\n * sampleStandardDeviation([2, 4, 4, 4, 5, 5, 7, 9]).toFixed(2);\n * // => '2.14'\n */\nfunction sampleStandardDeviation(x) {\n    const sampleVarianceX = sampleVariance(x);\n    return Math.sqrt(sampleVarianceX);\n}\n\nexport default sampleStandardDeviation;\n", "import sampleCovariance from \"./sample_covariance.js\";\nimport sampleStandardDeviation from \"./sample_standard_deviation.js\";\n\n/**\n * The [correlation](http://en.wikipedia.org/wiki/Correlation_and_dependence) is\n * a measure of how correlated two datasets are, between -1 and 1\n *\n * @param {Array<number>} x first input\n * @param {Array<number>} y second input\n * @returns {number} sample correlation\n * @example\n * sampleCorrelation([1, 2, 3, 4, 5, 6], [2, 2, 3, 4, 5, 60]).toFixed(2);\n * // => '0.69'\n */\nfunction sampleCorrelation(x, y) {\n    const cov = sampleCovariance(x, y);\n    const xstd = sampleStandardDeviation(x);\n    const ystd = sampleStandardDeviation(y);\n\n    return cov / xstd / ystd;\n}\n\nexport default sampleCorrelation;\n", "import sampleCorrelation from \"./sample_correlation.js\";\n\n/**\n * The [rank correlation](https://en.wikipedia.org/wiki/Rank_correlation) is\n * a measure of the strength of monotonic relationship between two arrays\n *\n * @param {Array<number>} x first input\n * @param {Array<number>} y second input\n * @returns {number} sample rank correlation\n */\nfunction sampleRankCorrelation(x, y) {\n    const xIndexes = x\n        .map((value, index) => [value, index])\n        .sort((a, b) => a[0] - b[0])\n        .map((pair) => pair[1]);\n    const yIndexes = y\n        .map((value, index) => [value, index])\n        .sort((a, b) => a[0] - b[0])\n        .map((pair) => pair[1]);\n\n    // At this step, we have an array of indexes\n    // that map from sorted numbers to their original indexes. We reverse\n    // that so that it is an array of the sorted destination index.\n    const xRanks = Array(xIndexes.length);\n    const yRanks = Array(xIndexes.length);\n    for (let i = 0; i < xIndexes.length; i++) {\n        xRanks[xIndexes[i]] = i;\n        yRanks[yIndexes[i]] = i;\n    }\n\n    return sampleCorrelation(xRanks, yRanks);\n}\n\nexport default sampleRankCorrelation;\n", "import mean from \"./mean.js\";\n\n/**\n * [Skewness](http://en.wikipedia.org/wiki/Skewness) is\n * a measure of the extent to which a probability distribution of a\n * real-valued random variable \"leans\" to one side of the mean.\n * The skewness value can be positive or negative, or even undefined.\n *\n * Implementation is based on the adjusted Fisher-Pearson standardized\n * moment coefficient, which is the version found in Excel and several\n * statistical packages including Minitab, SAS and SPSS.\n *\n * @since 4.1.0\n * @param {Array<number>} x a sample of 3 or more data points\n * @returns {number} sample skewness\n * @throws {Error} if x has length less than 3\n * @example\n * sampleSkewness([2, 4, 6, 3, 1]); // => 0.590128656384365\n */\nfunction sampleSkewness(x) {\n    if (x.length < 3) {\n        throw new Error(\"sampleSkewness requires at least three data points\");\n    }\n\n    const meanValue = mean(x);\n    let tempValue;\n    let sumSquaredDeviations = 0;\n    let sumCubedDeviations = 0;\n\n    for (let i = 0; i < x.length; i++) {\n        tempValue = x[i] - meanValue;\n        sumSquaredDeviations += tempValue * tempValue;\n        sumCubedDeviations += tempValue * tempValue * tempValue;\n    }\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    const besselsCorrection = x.length - 1;\n\n    // Find the mean value of that list\n    const theSampleStandardDeviation = Math.sqrt(\n        sumSquaredDeviations / besselsCorrection\n    );\n\n    const n = x.length;\n    const cubedS = Math.pow(theSampleStandardDeviation, 3);\n\n    return (n * sumCubedDeviations) / ((n - 1) * (n - 2) * cubedS);\n}\n\nexport default sampleSkewness;\n", "import mean from \"./mean.js\";\n\n/**\n * [Kurtosis](http://en.wikipedia.org/wiki/Kurtosis) is\n * a measure of the heaviness of a distribution's tails relative to its\n * variance. The kurtosis value can be positive or negative, or even undefined.\n *\n * Implementation is based on Fisher's excess kurtosis definition and uses\n * unbiased moment estimators. This is the version found in Excel and available\n * in several statistical packages, including SAS and SciPy.\n *\n * @param {Array<number>} x a sample of 4 or more data points\n * @returns {number} sample kurtosis\n * @throws {Error} if x has length less than 4\n * @example\n * sampleKurtosis([1, 2, 2, 3, 5]); // => 1.4555765595463122\n */\nfunction sampleKurtosis(x) {\n    const n = x.length;\n\n    if (n < 4) {\n        throw new Error(\"sampleKurtosis requires at least four data points\");\n    }\n\n    const meanValue = mean(x);\n    let tempValue;\n    let secondCentralMoment = 0;\n    let fourthCentralMoment = 0;\n\n    for (let i = 0; i < n; i++) {\n        tempValue = x[i] - meanValue;\n        secondCentralMoment += tempValue * tempValue;\n        fourthCentralMoment += tempValue * tempValue * tempValue * tempValue;\n    }\n\n    return (\n        ((n - 1) / ((n - 2) * (n - 3))) *\n        ((n * (n + 1) * fourthCentralMoment) /\n            (secondCentralMoment * secondCentralMoment) -\n            3 * (n - 1))\n    );\n}\n\nexport default sampleKurtosis;\n", "/**\n * Implementation of [Heap's Algorithm](https://en.wikipedia.org/wiki/Heap%27s_algorithm)\n * for generating permutations.\n *\n * @param {Array} elements any type of data\n * @returns {Array<Array>} array of permutations\n */\nfunction permutationsHeap(elements) {\n    const indexes = new Array(elements.length);\n    const permutations = [elements.slice()];\n\n    for (let i = 0; i < elements.length; i++) {\n        indexes[i] = 0;\n    }\n\n    for (let i = 0; i < elements.length; ) {\n        if (indexes[i] < i) {\n            // At odd indexes, swap from indexes[i] instead\n            // of from the beginning of the array\n            let swapFrom = 0;\n            if (i % 2 !== 0) {\n                swapFrom = indexes[i];\n            }\n\n            // swap between swapFrom and i, using\n            // a temporary variable as storage.\n            const temp = elements[swapFrom];\n            elements[swapFrom] = elements[i];\n            elements[i] = temp;\n\n            permutations.push(elements.slice());\n            indexes[i]++;\n            i = 0;\n        } else {\n            indexes[i] = 0;\n            i++;\n        }\n    }\n\n    return permutations;\n}\n\nexport default permutationsHeap;\n", "/**\n * Implementation of Combinations\n * Combinations are unique subsets of a collection - in this case, k x from a collection at a time.\n * https://en.wikipedia.org/wiki/Combination\n * @param {Array} x any type of data\n * @param {int} k the number of objects in each group (without replacement)\n * @returns {Array<Array>} array of permutations\n * @example\n * combinations([1, 2, 3], 2); // => [[1,2], [1,3], [2,3]]\n */\n\nfunction combinations(x, k) {\n    let i;\n    let subI;\n    const combinationList = [];\n    let subsetCombinations;\n    let next;\n\n    for (i = 0; i < x.length; i++) {\n        if (k === 1) {\n            combinationList.push([x[i]]);\n        } else {\n            subsetCombinations = combinations(x.slice(i + 1, x.length), k - 1);\n            for (subI = 0; subI < subsetCombinations.length; subI++) {\n                next = subsetCombinations[subI];\n                next.unshift(x[i]);\n                combinationList.push(next);\n            }\n        }\n    }\n    return combinationList;\n}\n\nexport default combinations;\n", "/**\n * Implementation of [Combinations](https://en.wikipedia.org/wiki/Combination) with replacement\n * Combinations are unique subsets of a collection - in this case, k x from a collection at a time.\n * 'With replacement' means that a given element can be chosen multiple times.\n * Unlike permutation, order doesn't matter for combinations.\n *\n * @param {Array} x any type of data\n * @param {int} k the number of objects in each group (without replacement)\n * @returns {Array<Array>} array of permutations\n * @example\n * combinationsReplacement([1, 2], 2); // => [[1, 1], [1, 2], [2, 2]]\n */\nfunction combinationsReplacement(x, k) {\n    const combinationList = [];\n\n    for (let i = 0; i < x.length; i++) {\n        if (k === 1) {\n            // If we're requested to find only one element, we don't need\n            // to recurse: just push `x[i]` onto the list of combinations.\n            combinationList.push([x[i]]);\n        } else {\n            // Otherwise, recursively find combinations, given `k - 1`. Note that\n            // we request `k - 1`, so if you were looking for k=3 combinations, we're\n            // requesting k=2. This -1 gets reversed in the for loop right after this\n            // code, since we concatenate `x[i]` onto the selected combinations,\n            // bringing `k` back up to your requested level.\n            // This recursion may go many levels deep, since it only stops once\n            // k=1.\n            const subsetCombinations = combinationsReplacement(\n                x.slice(i, x.length),\n                k - 1\n            );\n\n            for (let j = 0; j < subsetCombinations.length; j++) {\n                combinationList.push([x[i]].concat(subsetCombinations[j]));\n            }\n        }\n    }\n\n    return combinationList;\n}\n\nexport default combinationsReplacement;\n", "/**\n * When adding a new value to a list, one does not have to necessary\n * recompute the mean of the list in linear time. They can instead use\n * this function to compute the new mean by providing the current mean,\n * the number of elements in the list that produced it and the new\n * value to add.\n *\n * @since 2.5.0\n * @param {number} mean current mean\n * @param {number} n number of items in the list\n * @param {number} newValue the added value\n * @returns {number} the new mean\n *\n * @example\n * addToMean(14, 5, 53); // => 20.5\n */\nfunction addToMean(mean, n, newValue) {\n    return mean + (newValue - mean) / (n + 1);\n}\n\nexport default addToMean;\n", "/**\n * When combining two lists of values for which one already knows the means,\n * one does not have to necessary recompute the mean of the combined lists in\n * linear time. They can instead use this function to compute the combined\n * mean by providing the mean & number of values of the first list and the mean\n * & number of values of the second list.\n *\n * @since 3.0.0\n * @param {number} mean1 mean of the first list\n * @param {number} n1 number of items in the first list\n * @param {number} mean2 mean of the second list\n * @param {number} n2 number of items in the second list\n * @returns {number} the combined mean\n *\n * @example\n * combineMeans(5, 3, 4, 3); // => 4.5\n */\nfunction combineMeans(mean1, n1, mean2, n2) {\n    return (mean1 * n1 + mean2 * n2) / (n1 + n2);\n}\n\nexport default combineMeans;\n", "import combineMeans from \"./combine_means.js\";\n\n/**\n * When combining two lists of values for which one already knows the variances,\n * one does not have to necessary recompute the variance of the combined lists\n * in linear time. They can instead use this function to compute the combined\n * variance by providing the variance, mean & number of values of the first list\n * and the variance, mean & number of values of the second list.\n *\n * @since 3.0.0\n * @param {number} variance1 variance of the first list\n * @param {number} mean1 mean of the first list\n * @param {number} n1 number of items in the first list\n * @param {number} variance2 variance of the second list\n * @param {number} mean2 mean of the second list\n * @param {number} n2 number of items in the second list\n * @returns {number} the combined mean\n *\n * @example\n * combineVariances(14 / 3, 5, 3, 8 / 3, 4, 3); // => 47 / 12\n */\nfunction combineVariances(variance1, mean1, n1, variance2, mean2, n2) {\n    const newMean = combineMeans(mean1, n1, mean2, n2);\n\n    return (\n        (n1 * (variance1 + Math.pow(mean1 - newMean, 2)) +\n            n2 * (variance2 + Math.pow(mean2 - newMean, 2))) /\n        (n1 + n2)\n    );\n}\n\nexport default combineVariances;\n", "/**\n * The [Geometric Mean](https://en.wikipedia.org/wiki/Geometric_mean) is\n * a mean function that is more useful for numbers in different\n * ranges.\n *\n * This is the nth root of the input numbers multiplied by each other.\n *\n * The geometric mean is often useful for\n * **[proportional growth](https://en.wikipedia.org/wiki/Geometric_mean#Proportional_growth)**: given\n * growth rates for multiple years, like _80%, 16.66% and 42.85%_, a simple\n * mean will incorrectly estimate an average growth rate, whereas a geometric\n * mean will correctly estimate a growth rate that, over those years,\n * will yield the same end value.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} geometric mean\n * @throws {Error} if x is empty\n * @throws {Error} if x contains a negative number\n * @example\n * var growthRates = [1.80, 1.166666, 1.428571];\n * var averageGrowth = ss.geometricMean(growthRates);\n * var averageGrowthRates = [averageGrowth, averageGrowth, averageGrowth];\n * var startingValue = 10;\n * var startingValueMean = 10;\n * growthRates.forEach(function(rate) {\n *   startingValue *= rate;\n * });\n * averageGrowthRates.forEach(function(rate) {\n *   startingValueMean *= rate;\n * });\n * startingValueMean === startingValue;\n */\nfunction geometricMean(x) {\n    if (x.length === 0) {\n        throw new Error(\"geometricMean requires at least one data point\");\n    }\n\n    // the starting value.\n    let value = 1;\n\n    for (let i = 0; i < x.length; i++) {\n        // the geometric mean is only valid for positive numbers\n        if (x[i] < 0) {\n            throw new Error(\n                \"geometricMean requires only non-negative numbers as input\"\n            );\n        }\n\n        // repeatedly multiply the value by each number\n        value *= x[i];\n    }\n\n    return Math.pow(value, 1 / x.length);\n}\n\nexport default geometricMean;\n", "/**\n * The [log average](https://en.wikipedia.org/wiki/https://en.wikipedia.org/wiki/Geometric_mean#Relationship_with_logarithms)\n * is an equivalent way of computing the geometric mean of an array suitable for large or small products.\n *\n * It's found by calculating the average logarithm of the elements and exponentiating.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} geometric mean\n * @throws {Error} if x is empty\n * @throws {Error} if x contains a negative number\n */\nfunction logAverage(x) {\n    if (x.length === 0) {\n        throw new Error(\"logAverage requires at least one data point\");\n    }\n\n    let value = 0;\n    for (let i = 0; i < x.length; i++) {\n        if (x[i] < 0) {\n            throw new Error(\n                \"logAverage requires only non-negative numbers as input\"\n            );\n        }\n        value += Math.log(x[i]);\n    }\n\n    return Math.exp(value / x.length);\n}\n\nexport default logAverage;\n", "/**\n * The [Harmonic Mean](https://en.wikipedia.org/wiki/Harmonic_mean) is\n * a mean function typically used to find the average of rates.\n * This mean is calculated by taking the reciprocal of the arithmetic mean\n * of the reciprocals of the input numbers.\n *\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x sample of one or more data points\n * @returns {number} harmonic mean\n * @throws {Error} if x is empty\n * @throws {Error} if x contains a negative number\n * @example\n * harmonicMean([2, 3]).toFixed(2) // => '2.40'\n */\nfunction harmonicMean(x) {\n    if (x.length === 0) {\n        throw new Error(\"harmonicMean requires at least one data point\");\n    }\n\n    let reciprocalSum = 0;\n\n    for (let i = 0; i < x.length; i++) {\n        // the harmonic mean is only valid for positive numbers\n        if (x[i] <= 0) {\n            throw new Error(\n                \"harmonicMean requires only positive numbers as input\"\n            );\n        }\n\n        reciprocalSum += 1 / x[i];\n    }\n\n    // divide n by the reciprocal sum\n    return x.length / reciprocalSum;\n}\n\nexport default harmonicMean;\n", "import sumSimple from \"./sum_simple.js\";\n\n/**\n * The mean, _also known as average_,\n * is the sum of all values over the number of values.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * The simple mean uses the successive addition method internally\n * to calculate it's result. Errors in floating-point addition are\n * not accounted for, so if precision is required, the standard {@link mean}\n * method should be used instead.\n *\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the length of x is less than one\n * @returns {number} mean\n * @example\n * mean([0, 10]); // => 5\n */\nfunction meanSimple(x) {\n    if (x.length === 0) {\n        throw new Error(\"meanSimple requires at least one data point\");\n    }\n\n    return sumSimple(x) / x.length;\n}\n\nexport default meanSimple;\n", "import quantileSorted from \"./quantile_sorted.js\";\n\n/**\n * The [median](http://en.wikipedia.org/wiki/Median) is\n * the middle number of a list. This is often a good indicator of 'the middle'\n * when there are outliers that skew the `mean()` value.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * The median isn't necessarily one of the elements in the list: the value\n * can be the average of two elements if the list has an even length\n * and the two central values are different.\n *\n * @param {Array<number>} sorted input\n * @returns {number} median value\n * @example\n * medianSorted([10, 2, 5, 100, 2, 1]); // => 52.5\n */\nfunction medianSorted(sorted) {\n    return quantileSorted(sorted, 0.5);\n}\n\nexport default medianSorted;\n", "/**\n * When removing a value from a list, one does not have to necessary\n * recompute the mean of the list in linear time. They can instead use\n * this function to compute the new mean by providing the current mean,\n * the number of elements in the list that produced it and the value to remove.\n *\n * @since 3.0.0\n * @param {number} mean current mean\n * @param {number} n number of items in the list\n * @param {number} value the value to remove\n * @returns {number} the new mean\n *\n * @example\n * subtractFromMean(20.5, 6, 53); // => 14\n */\nfunction subtractFromMean(mean, n, value) {\n    return (mean * n - value) / (n - 1);\n}\n\nexport default subtractFromMean;\n", "/**\n * The Root Mean Square (RMS) is\n * a mean function used as a measure of the magnitude of a set\n * of numbers, regardless of their sign.\n * This is the square root of the mean of the squares of the\n * input numbers.\n * This runs in `O(n)`, linear time, with respect to the length of the array.\n *\n * @param {Array<number>} x a sample of one or more data points\n * @returns {number} root mean square\n * @throws {Error} if x is empty\n * @example\n * rootMeanSquare([-1, 1, -1, 1]); // => 1\n */\nfunction rootMeanSquare(x) {\n    if (x.length === 0) {\n        throw new Error(\"rootMeanSquare requires at least one data point\");\n    }\n\n    let sumOfSquares = 0;\n    for (let i = 0; i < x.length; i++) {\n        sumOfSquares += Math.pow(x[i], 2);\n    }\n\n    return Math.sqrt(sumOfSquares / x.length);\n}\n\nexport default rootMeanSquare;\n", "import mean from \"./mean.js\";\nimport sampleStandardDeviation from \"./sample_standard_deviation.js\";\n\n/**\n * The`coefficient of variation`_ is the ratio of the standard deviation to the mean.\n * .._`coefficient of variation`: https://en.wikipedia.org/wiki/Coefficient_of_variation\n *\n *\n * @param {Array} x input\n * @returns {number} coefficient of variation\n * @example\n * coefficientOfVariation([1, 2, 3, 4]).toFixed(3); // => 0.516\n * coefficientOfVariation([1, 2, 3, 4, 5]).toFixed(3); // => 0.527\n * coefficientOfVariation([-1, 0, 1, 2, 3, 4]).toFixed(3); // => 1.247\n */\nfunction coefficientOfVariation(x) {\n    return sampleStandardDeviation(x) / mean(x);\n}\n\nexport default coefficientOfVariation;\n", "import mean from \"./mean.js\";\nimport standardDeviation from \"./standard_deviation.js\";\n\n/**\n * This is to compute [a one-sample t-test](https://en.wikipedia.org/wiki/Student%27s_t-test#One-sample_t-test), comparing the mean\n * of a sample to a known value, x.\n *\n * in this case, we're trying to determine whether the\n * population mean is equal to the value that we know, which is `x`\n * here. Usually the results here are used to look up a\n * [p-value](http://en.wikipedia.org/wiki/P-value), which, for\n * a certain level of significance, will let you determine that the\n * null hypothesis can or cannot be rejected.\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {number} expectedValue expected value of the population mean\n * @returns {number} value\n * @example\n * tTest([1, 2, 3, 4, 5, 6], 3.385).toFixed(2); // => '0.16'\n */\nfunction tTest(x, expectedValue) {\n    // The mean of the sample\n    const sampleMean = mean(x);\n\n    // The standard deviation of the sample\n    const sd = standardDeviation(x);\n\n    // Square root the length of the sample\n    const rootN = Math.sqrt(x.length);\n\n    // returning the t value\n    return (sampleMean - expectedValue) / (sd / rootN);\n}\n\nexport default tTest;\n", "import mean from \"./mean.js\";\nimport sampleVariance from \"./sample_variance.js\";\n\n/**\n * This is to compute [two sample t-test](http://en.wikipedia.org/wiki/Student's_t-test).\n * Tests whether \"mean(X)-mean(Y) = difference\", (\n * in the most common case, we often have `difference == 0` to test if two samples\n * are likely to be taken from populations with the same mean value) with\n * no prior knowledge on standard deviations of both samples\n * other than the fact that they have the same standard deviation.\n *\n * Usually the results here are used to look up a\n * [p-value](http://en.wikipedia.org/wiki/P-value), which, for\n * a certain level of significance, will let you determine that the\n * null hypothesis can or cannot be rejected.\n *\n * `diff` can be omitted if it equals 0.\n *\n * [This is used to reject](https://en.wikipedia.org/wiki/Exclusion_of_the_null_hypothesis)\n * a null hypothesis that the two populations that have been sampled into\n * `sampleX` and `sampleY` are equal to each other.\n *\n * @param {Array<number>} sampleX a sample as an array of numbers\n * @param {Array<number>} sampleY a sample as an array of numbers\n * @param {number} [difference=0]\n * @returns {number|null} test result\n *\n * @example\n * tTestTwoSample([1, 2, 3, 4], [3, 4, 5, 6], 0); // => -2.1908902300206643\n */\nfunction tTestTwoSample(sampleX, sampleY, difference) {\n    const n = sampleX.length;\n    const m = sampleY.length;\n\n    // If either sample doesn't actually have any values, we can't\n    // compute this at all, so we return `null`.\n    if (!n || !m) {\n        return null;\n    }\n\n    // default difference (mu) is zero\n    if (!difference) {\n        difference = 0;\n    }\n\n    const meanX = mean(sampleX);\n    const meanY = mean(sampleY);\n    const sampleVarianceX = sampleVariance(sampleX);\n    const sampleVarianceY = sampleVariance(sampleY);\n\n    if (\n        typeof meanX === \"number\" &&\n        typeof meanY === \"number\" &&\n        typeof sampleVarianceX === \"number\" &&\n        typeof sampleVarianceY === \"number\"\n    ) {\n        const weightedVariance =\n            ((n - 1) * sampleVarianceX + (m - 1) * sampleVarianceY) /\n            (n + m - 2);\n\n        return (\n            (meanX - meanY - difference) /\n            Math.sqrt(weightedVariance * (1 / n + 1 / m))\n        );\n    }\n}\n\nexport default tTestTwoSample;\n", "/**\n * This function calculates the Wilcoxon rank sum statistic for the first sample\n * with respect to the second. The Wilcoxon rank sum test is a non-parametric\n * alternative to the t-test which is equivalent to the\n * [Mann-Whitney U test](https://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U_test).\n * The statistic is calculated by pooling all the observations together, ranking them,\n * and then summing the ranks associated with one of the samples. If this rank sum is\n * sufficiently large or small we reject the hypothesis that the two samples come\n * from the same distribution in favor of the alternative that one is shifted with\n * respect to the other.\n *\n * @param {Array<number>} sampleX a sample as an array of numbers\n * @param {Array<number>} sampleY a sample as an array of numbers\n * @returns {number} rank sum for sampleX\n *\n * @example\n * wilcoxonRankSum([1, 4, 8], [9, 12, 15]); // => 6\n */\nfunction wilcoxonRankSum(sampleX, sampleY) {\n    if (!sampleX.length || !sampleY.length) {\n        throw new Error(\"Neither sample can be empty\");\n    }\n\n    const pooledSamples = sampleX\n        .map((x) => ({ label: \"x\", value: x }))\n        .concat(sampleY.map((y) => ({ label: \"y\", value: y })))\n        .sort((a, b) => a.value - b.value);\n\n    for (let rank = 0; rank < pooledSamples.length; rank++) {\n        pooledSamples[rank].rank = rank;\n    }\n\n    let tiedRanks = [pooledSamples[0].rank];\n    for (let i = 1; i < pooledSamples.length; i++) {\n        if (pooledSamples[i].value === pooledSamples[i - 1].value) {\n            tiedRanks.push(pooledSamples[i].rank);\n            if (i === pooledSamples.length - 1) {\n                replaceRanksInPlace(pooledSamples, tiedRanks);\n            }\n        } else if (tiedRanks.length > 1) {\n            replaceRanksInPlace(pooledSamples, tiedRanks);\n        } else {\n            tiedRanks = [pooledSamples[i].rank];\n        }\n    }\n\n    function replaceRanksInPlace(pooledSamples, tiedRanks) {\n        const average = (tiedRanks[0] + tiedRanks[tiedRanks.length - 1]) / 2;\n        for (let i = 0; i < tiedRanks.length; i++) {\n            pooledSamples[tiedRanks[i]].rank = average;\n        }\n    }\n\n    let rankSum = 0;\n\n    for (let i = 0; i < pooledSamples.length; i++) {\n        const sample = pooledSamples[i];\n        if (sample.label === \"x\") {\n            rankSum += sample.rank + 1;\n        }\n    }\n\n    return rankSum;\n}\n\nexport default wilcoxonRankSum;\n", "/**\n * [Bayesian Classifier](http://en.wikipedia.org/wiki/Naive_Bayes_classifier)\n *\n * This is a naïve bayesian classifier that takes\n * singly-nested objects.\n *\n * @class\n * @example\n * var bayes = new BayesianClassifier();\n * bayes.train({\n *   species: 'Cat'\n * }, 'animal');\n * var result = bayes.score({\n *   species: 'Cat'\n * })\n * // result\n * // {\n * //   animal: 1\n * // }\n */\nclass BayesianClassifier {\n    /*:: totalCount: number */\n    /*:: data: Object */\n    constructor() {\n        // The number of items that are currently\n        // classified in the model\n        this.totalCount = 0;\n        // Every item classified in the model\n        this.data = {};\n    }\n\n    /**\n     * Train the classifier with a new item, which has a single\n     * dimension of Javascript literal keys and values.\n     *\n     * @param {Object} item an object with singly-deep properties\n     * @param {string} category the category this item belongs to\n     * @return {undefined} adds the item to the classifier\n     */\n    train(item, category) {\n        // If the data object doesn't have any values\n        // for this category, create a new object for it.\n        if (!this.data[category]) {\n            this.data[category] = {};\n        }\n\n        // Iterate through each key in the item.\n        for (const k in item) {\n            const v = item[k];\n            // Initialize the nested object `data[category][k][item[k]]`\n            // with an object of keys that equal 0.\n            if (this.data[category][k] === undefined) {\n                this.data[category][k] = {};\n            }\n            if (this.data[category][k][v] === undefined) {\n                this.data[category][k][v] = 0;\n            }\n\n            // And increment the key for this key/value combination.\n            this.data[category][k][v]++;\n        }\n\n        // Increment the number of items classified\n        this.totalCount++;\n    }\n\n    /**\n     * Generate a score of how well this item matches all\n     * possible categories based on its attributes\n     *\n     * @param {Object} item an item in the same format as with train\n     * @returns {Object} of probabilities that this item belongs to a\n     * given category.\n     */\n    score(item) {\n        // Initialize an empty array of odds per category.\n        const odds = {};\n        let category;\n        // Iterate through each key in the item,\n        // then iterate through each category that has been used\n        // in previous calls to `.train()`\n        for (const k in item) {\n            const v = item[k];\n            for (category in this.data) {\n                // Create an empty object for storing key - value combinations\n                // for this category.\n                odds[category] = {};\n\n                // If this item doesn't even have a property, it counts for nothing,\n                // but if it does have the property that we're looking for from\n                // the item to categorize, it counts based on how popular it is\n                // versus the whole population.\n                if (this.data[category][k]) {\n                    odds[category][k + \"_\" + v] =\n                        (this.data[category][k][v] || 0) / this.totalCount;\n                } else {\n                    odds[category][k + \"_\" + v] = 0;\n                }\n            }\n        }\n\n        // Set up a new object that will contain sums of these odds by category\n        const oddsSums = {};\n\n        for (category in odds) {\n            // Tally all of the odds for each category-combination pair -\n            // the non-existence of a category does not add anything to the\n            // score.\n            oddsSums[category] = 0;\n            for (const combination in odds[category]) {\n                oddsSums[category] += odds[category][combination];\n            }\n        }\n\n        return oddsSums;\n    }\n}\n\nexport default BayesianClassifier;\n", "/**\n * This is a single-layer [Perceptron Classifier](http://en.wikipedia.org/wiki/Perceptron) that takes\n * arrays of numbers and predicts whether they should be classified\n * as either 0 or 1 (negative or positive examples).\n * @class\n * @example\n * // Create the model\n * var p = new PerceptronModel();\n * // Train the model with input with a diagonal boundary.\n * for (var i = 0; i < 5; i++) {\n *     p.train([1, 1], 1);\n *     p.train([0, 1], 0);\n *     p.train([1, 0], 0);\n *     p.train([0, 0], 0);\n * }\n * p.predict([0, 0]); // 0\n * p.predict([0, 1]); // 0\n * p.predict([1, 0]); // 0\n * p.predict([1, 1]); // 1\n */\nclass PerceptronModel {\n    /*:: bias: number */\n    /*:: weights: Array<number> */\n    constructor() {\n        // The weights, or coefficients of the model;\n        // weights are only populated when training with data.\n        this.weights = [];\n        // The bias term, or intercept; it is also a weight but\n        // it's stored separately for convenience as it is always\n        // multiplied by one.\n        this.bias = 0;\n    }\n    /**\n     * **Predict**: Use an array of features with the weight array and bias\n     * to predict whether an example is labeled 0 or 1.\n     *\n     * @param {Array<number>} features an array of features as numbers\n     * @returns {number} 1 if the score is over 0, otherwise 0\n     */\n    predict(features) {\n        // Only predict if previously trained\n        // on the same size feature array(s).\n        if (features.length !== this.weights.length) {\n            return null;\n        }\n\n        // Calculate the sum of features times weights,\n        // with the bias added (implicitly times one).\n        let score = 0;\n        for (let i = 0; i < this.weights.length; i++) {\n            score += this.weights[i] * features[i];\n        }\n        score += this.bias;\n\n        // Classify as 1 if the score is over 0, otherwise 0.\n        if (score > 0) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n\n    /**\n     * **Train** the classifier with a new example, which is\n     * a numeric array of features and a 0 or 1 label.\n     *\n     * @param {Array<number>} features an array of features as numbers\n     * @param {number} label either 0 or 1\n     * @returns {PerceptronModel} this\n     */\n    train(features, label) {\n        // Require that only labels of 0 or 1 are considered.\n        if (label !== 0 && label !== 1) {\n            return null;\n        }\n        // The length of the feature array determines\n        // the length of the weight array.\n        // The perceptron will continue learning as long as\n        // it keeps seeing feature arrays of the same length.\n        // When it sees a new data shape, it initializes.\n        if (features.length !== this.weights.length) {\n            this.weights = features;\n            this.bias = 1;\n        }\n        // Make a prediction based on current weights.\n        const prediction = this.predict(features);\n        // Update the weights if the prediction is wrong.\n        if (typeof prediction === \"number\" && prediction !== label) {\n            const gradient = label - prediction;\n            for (let i = 0; i < this.weights.length; i++) {\n                this.weights[i] += gradient * features[i];\n            }\n            this.bias += gradient;\n        }\n        return this;\n    }\n}\n\nexport default PerceptronModel;\n", "/**\n * We use `ε`, epsilon, as a stopping criterion when we want to iterate\n * until we're \"close enough\". Epsilon is a very small number: for\n * simple statistics, that number is **0.0001**\n *\n * This is used in calculations like the binomialDistribution, in which\n * the process of finding a value is [iterative](https://en.wikipedia.org/wiki/Iterative_method):\n * it progresses until it is close enough.\n *\n * Below is an example of using epsilon in [gradient descent](https://en.wikipedia.org/wiki/Gradient_descent),\n * where we're trying to find a local minimum of a function's derivative,\n * given by the `fDerivative` method.\n *\n * @example\n * // From calculation, we expect that the local minimum occurs at x=9/4\n * var x_old = 0;\n * // The algorithm starts at x=6\n * var x_new = 6;\n * var stepSize = 0.01;\n *\n * function fDerivative(x) {\n *   return 4 * Math.pow(x, 3) - 9 * Math.pow(x, 2);\n * }\n *\n * // The loop runs until the difference between the previous\n * // value and the current value is smaller than epsilon - a rough\n * // meaure of 'close enough'\n * while (Math.abs(x_new - x_old) > ss.epsilon) {\n *   x_old = x_new;\n *   x_new = x_old - stepSize * fDerivative(x_old);\n * }\n *\n * console.log('Local minimum occurs at', x_new);\n */\nconst epsilon = 0.0001;\n\nexport default epsilon;\n", "/**\n * A [Factorial](https://en.wikipedia.org/wiki/Factorial), usually written n!, is the product of all positive\n * integers less than or equal to n. Often factorial is implemented\n * recursively, but this iterative approach is significantly faster\n * and simpler.\n *\n * @param {number} n input, must be an integer number 1 or greater\n * @returns {number} factorial: n!\n * @throws {Error} if n is less than 0 or not an integer\n * @example\n * factorial(5); // => 120\n */\nfunction factorial(n) {\n    // factorial is mathematically undefined for negative numbers\n    if (n < 0) {\n        throw new Error(\"factorial requires a non-negative value\");\n    }\n\n    if (Math.floor(n) !== n) {\n        throw new Error(\"factorial requires an integer input\");\n    }\n\n    // typically you'll expand the factorial function going down, like\n    // 5! = 5 * 4 * 3 * 2 * 1. This is going in the opposite direction,\n    // counting from 2 up to the number in question, and since anything\n    // multiplied by 1 is itself, the loop only needs to start at 2.\n    let accumulator = 1;\n    for (let i = 2; i <= n; i++) {\n        // for each number up to and including the number `n`, multiply\n        // the accumulator my that number.\n        accumulator *= i;\n    }\n    return accumulator;\n}\n\nexport default factorial;\n", "import factorial from \"./factorial.js\";\n\n/**\n * Compute the [gamma function](https://en.wikipedia.org/wiki/Gamma_function) of a value using Nemes' approximation.\n * The gamma of n is equivalent to (n-1)!, but unlike the factorial function, gamma is defined for all real n except zero\n * and negative integers (where NaN is returned). Note, the gamma function is also well-defined for complex numbers,\n * though this implementation currently does not handle complex numbers as input values.\n * Nemes' approximation is defined [here](https://arxiv.org/abs/1003.6020) as Theorem 2.2.\n * Negative values use [Euler's reflection formula](https://en.wikipedia.org/wiki/Gamma_function#Properties) for computation.\n *\n * @param {number} n Any real number except for zero and negative integers.\n * @returns {number} The gamma of the input value.\n *\n * @example\n * gamma(11.5); // 11899423.084037038\n * gamma(-11.5); // 2.29575810481609e-8\n * gamma(5); // 24\n */\nfunction gamma(n) {\n    if (Number.isInteger(n)) {\n        if (n <= 0) {\n            // gamma not defined for zero or negative integers\n            return Number.NaN;\n        } else {\n            // use factorial for integer inputs\n            return factorial(n - 1);\n        }\n    }\n\n    // Decrement n, because approximation is defined for n - 1\n    n--;\n\n    if (n < 0) {\n        // Use Euler's reflection formula for negative inputs\n        // see:  https://en.wikipedia.org/wiki/Gamma_function#Properties\n        return Math.PI / (Math.sin(Math.PI * -n) * gamma(-n));\n    } else {\n        // Nemes' expansion approximation\n        const seriesCoefficient =\n            Math.pow(n / Math.E, n) * Math.sqrt(2 * Math.PI * (n + 1 / 6));\n\n        const seriesDenom = n + 1 / 4;\n\n        const seriesExpansion =\n            1 +\n            1 / 144 / Math.pow(seriesDenom, 2) -\n            1 / 12960 / Math.pow(seriesDenom, 3) -\n            257 / 207360 / Math.pow(seriesDenom, 4) -\n            52 / 2612736 / Math.pow(seriesDenom, 5) +\n            5741173 / 9405849600 / Math.pow(seriesDenom, 6) +\n            37529 / 18811699200 / Math.pow(seriesDenom, 7);\n\n        return seriesCoefficient * seriesExpansion;\n    }\n}\n\nexport default gamma;\n", "// Define series coefficients\nconst COEFFICIENTS = [\n    0.99999999999999709182, 57.156235665862923517, -59.597960355475491248,\n    14.136097974741747174, -0.49191381609762019978, 0.33994649984811888699e-4,\n    0.46523628927048575665e-4, -0.98374475304879564677e-4,\n    0.15808870322491248884e-3, -0.21026444172410488319e-3,\n    0.2174396181152126432e-3, -0.16431810653676389022e-3,\n    0.84418223983852743293e-4, -0.2619083840158140867e-4,\n    0.36899182659531622704e-5\n];\n\nconst g = 607 / 128;\nconst LOGSQRT2PI = Math.log(Math.sqrt(2 * Math.PI));\n\n/**\n * Compute the logarithm of the [gamma function](https://en.wikipedia.org/wiki/Gamma_function) of a value using Lanczos' approximation.\n * This function takes as input any real-value n greater than 0.\n * This function is useful for values of n too large for the normal gamma function (n > 165).\n * The code is based on Lanczo's Gamma approximation, defined [here](http://my.fit.edu/~gabdo/gamma.txt).\n *\n * @param {number} n Any real number greater than zero.\n * @returns {number} The logarithm of gamma of the input value.\n *\n * @example\n * gammaln(500); // 2605.1158503617335\n * gammaln(2.4); // 0.21685932244884043\n */\nfunction gammaln(n) {\n    // Return infinity if value not in domain\n    if (n <= 0) {\n        return Number.POSITIVE_INFINITY;\n    }\n\n    // Decrement n, because approximation is defined for n - 1\n    n--;\n\n    // Create series approximation\n    let a = COEFFICIENTS[0];\n\n    for (let i = 1; i < 15; i++) {\n        a += COEFFICIENTS[i] / (n + i);\n    }\n\n    const tmp = g + 0.5 + n;\n\n    // Return natural logarithm of gamma(n)\n    return LOGSQRT2PI + Math.log(a) - tmp + (n + 0.5) * Math.log(tmp);\n}\n\nexport default gammaln;\n", "/**\n * The [Bernoulli distribution](http://en.wikipedia.org/wiki/Bernoulli_distribution)\n * is the probability discrete\n * distribution of a random variable which takes value 1 with success\n * probability `p` and value 0 with failure\n * probability `q` = 1 - `p`. It can be used, for example, to represent the\n * toss of a coin, where \"1\" is defined to mean \"heads\" and \"0\" is defined\n * to mean \"tails\" (or vice versa). It is\n * a special case of a Binomial Distribution\n * where `n` = 1.\n *\n * @param {number} p input value, between 0 and 1 inclusive\n * @returns {number[]} values of bernoulli distribution at this point\n * @throws {Error} if p is outside 0 and 1\n * @example\n * bernoulliDistribution(0.3); // => [0.7, 0.3]\n */\nfunction bernoulliDistribution(p) /*: number[] */ {\n    // Check that `p` is a valid probability (0 ≤ p ≤ 1)\n    if (p < 0 || p > 1) {\n        throw new Error(\n            \"bernoulliDistribution requires probability to be between 0 and 1 inclusive\"\n        );\n    }\n\n    return [1 - p, p];\n}\n\nexport default bernoulliDistribution;\n", "import epsilon from \"./epsilon.js\";\n\n/**\n * The [Binomial Distribution](http://en.wikipedia.org/wiki/Binomial_distribution) is the discrete probability\n * distribution of the number of successes in a sequence of n independent yes/no experiments, each of which yields\n * success with probability `probability`. Such a success/failure experiment is also called a Bernoulli experiment or\n * Bernoulli trial; when trials = 1, the Binomial Distribution is a Bernoulli Distribution.\n *\n * @param {number} trials number of trials to simulate\n * @param {number} probability\n * @returns {number[]} output\n */\nfunction binomialDistribution(trials, probability) /*: ?number[] */ {\n    // Check that `p` is a valid probability (0 ≤ p ≤ 1),\n    // that `n` is an integer, strictly positive.\n    if (probability < 0 || probability > 1 || trials <= 0 || trials % 1 !== 0) {\n        return undefined;\n    }\n\n    // We initialize `x`, the random variable, and `accumulator`, an accumulator\n    // for the cumulative distribution function to 0. `distribution_functions`\n    // is the object we'll return with the `probability_of_x` and the\n    // `cumulativeProbability_of_x`, as well as the calculated mean &\n    // variance. We iterate until the `cumulativeProbability_of_x` is\n    // within `epsilon` of 1.0.\n    let x = 0;\n    let cumulativeProbability = 0;\n    const cells = [];\n    let binomialCoefficient = 1;\n\n    // This algorithm iterates through each potential outcome,\n    // until the `cumulativeProbability` is very close to 1, at\n    // which point we've defined the vast majority of outcomes\n    do {\n        // a [probability mass function](https://en.wikipedia.org/wiki/Probability_mass_function)\n        cells[x] =\n            binomialCoefficient *\n            Math.pow(probability, x) *\n            Math.pow(1 - probability, trials - x);\n        cumulativeProbability += cells[x];\n        x++;\n        binomialCoefficient = (binomialCoefficient * (trials - x + 1)) / x;\n        // when the cumulativeProbability is nearly 1, we've calculated\n        // the useful range of this distribution\n    } while (cumulativeProbability < 1 - epsilon);\n\n    return cells;\n}\n\nexport default binomialDistribution;\n", "import epsilon from \"./epsilon.js\";\n\n/**\n * The [Poisson Distribution](http://en.wikipedia.org/wiki/Poisson_distribution)\n * is a discrete probability distribution that expresses the probability\n * of a given number of events occurring in a fixed interval of time\n * and/or space if these events occur with a known average rate and\n * independently of the time since the last event.\n *\n * The Poisson Distribution is characterized by the strictly positive\n * mean arrival or occurrence rate, `λ`.\n *\n * @param {number} lambda location poisson distribution\n * @returns {number[]} values of poisson distribution at that point\n */\nfunction poissonDistribution(lambda) /*: ?number[] */ {\n    // Check that lambda is strictly positive\n    if (lambda <= 0) {\n        return undefined;\n    }\n\n    // our current place in the distribution\n    let x = 0;\n    // and we keep track of the current cumulative probability, in\n    // order to know when to stop calculating chances.\n    let cumulativeProbability = 0;\n    // the calculated cells to be returned\n    const cells = [];\n    let factorialX = 1;\n\n    // This algorithm iterates through each potential outcome,\n    // until the `cumulativeProbability` is very close to 1, at\n    // which point we've defined the vast majority of outcomes\n    do {\n        // a [probability mass function](https://en.wikipedia.org/wiki/Probability_mass_function)\n        cells[x] = (Math.exp(-lambda) * Math.pow(lambda, x)) / factorialX;\n        cumulativeProbability += cells[x];\n        x++;\n        factorialX *= x;\n        // when the cumulativeProbability is nearly 1, we've calculated\n        // the useful range of this distribution\n    } while (cumulativeProbability < 1 - epsilon);\n\n    return cells;\n}\n\nexport default poissonDistribution;\n", "/**\n * **Percentage Points of the χ2 (Chi-Squared) Distribution**\n *\n * The [χ2 (Chi-Squared) Distribution](http://en.wikipedia.org/wiki/Chi-squared_distribution) is used in the common\n * chi-squared tests for goodness of fit of an observed distribution to a theoretical one, the independence of two\n * criteria of classification of qualitative data, and in confidence interval estimation for a population standard\n * deviation of a normal distribution from a sample standard deviation.\n *\n * Values from Appendix 1, Table III of William W. Hines & Douglas C. Montgomery, \"Probability and Statistics in\n * Engineering and Management Science\", Wiley (1980).\n */\nconst chiSquaredDistributionTable = {\n    1: {\n        0.995: 0,\n        0.99: 0,\n        0.975: 0,\n        0.95: 0,\n        0.9: 0.02,\n        0.5: 0.45,\n        0.1: 2.71,\n        0.05: 3.84,\n        0.025: 5.02,\n        0.01: 6.63,\n        0.005: 7.88\n    },\n    2: {\n        0.995: 0.01,\n        0.99: 0.02,\n        0.975: 0.05,\n        0.95: 0.1,\n        0.9: 0.21,\n        0.5: 1.39,\n        0.1: 4.61,\n        0.05: 5.99,\n        0.025: 7.38,\n        0.01: 9.21,\n        0.005: 10.6\n    },\n    3: {\n        0.995: 0.07,\n        0.99: 0.11,\n        0.975: 0.22,\n        0.95: 0.35,\n        0.9: 0.58,\n        0.5: 2.37,\n        0.1: 6.25,\n        0.05: 7.81,\n        0.025: 9.35,\n        0.01: 11.34,\n        0.005: 12.84\n    },\n    4: {\n        0.995: 0.21,\n        0.99: 0.3,\n        0.975: 0.48,\n        0.95: 0.71,\n        0.9: 1.06,\n        0.5: 3.36,\n        0.1: 7.78,\n        0.05: 9.49,\n        0.025: 11.14,\n        0.01: 13.28,\n        0.005: 14.86\n    },\n    5: {\n        0.995: 0.41,\n        0.99: 0.55,\n        0.975: 0.83,\n        0.95: 1.15,\n        0.9: 1.61,\n        0.5: 4.35,\n        0.1: 9.24,\n        0.05: 11.07,\n        0.025: 12.83,\n        0.01: 15.09,\n        0.005: 16.75\n    },\n    6: {\n        0.995: 0.68,\n        0.99: 0.87,\n        0.975: 1.24,\n        0.95: 1.64,\n        0.9: 2.2,\n        0.5: 5.35,\n        0.1: 10.65,\n        0.05: 12.59,\n        0.025: 14.45,\n        0.01: 16.81,\n        0.005: 18.55\n    },\n    7: {\n        0.995: 0.99,\n        0.99: 1.25,\n        0.975: 1.69,\n        0.95: 2.17,\n        0.9: 2.83,\n        0.5: 6.35,\n        0.1: 12.02,\n        0.05: 14.07,\n        0.025: 16.01,\n        0.01: 18.48,\n        0.005: 20.28\n    },\n    8: {\n        0.995: 1.34,\n        0.99: 1.65,\n        0.975: 2.18,\n        0.95: 2.73,\n        0.9: 3.49,\n        0.5: 7.34,\n        0.1: 13.36,\n        0.05: 15.51,\n        0.025: 17.53,\n        0.01: 20.09,\n        0.005: 21.96\n    },\n    9: {\n        0.995: 1.73,\n        0.99: 2.09,\n        0.975: 2.7,\n        0.95: 3.33,\n        0.9: 4.17,\n        0.5: 8.34,\n        0.1: 14.68,\n        0.05: 16.92,\n        0.025: 19.02,\n        0.01: 21.67,\n        0.005: 23.59\n    },\n    10: {\n        0.995: 2.16,\n        0.99: 2.56,\n        0.975: 3.25,\n        0.95: 3.94,\n        0.9: 4.87,\n        0.5: 9.34,\n        0.1: 15.99,\n        0.05: 18.31,\n        0.025: 20.48,\n        0.01: 23.21,\n        0.005: 25.19\n    },\n    11: {\n        0.995: 2.6,\n        0.99: 3.05,\n        0.975: 3.82,\n        0.95: 4.57,\n        0.9: 5.58,\n        0.5: 10.34,\n        0.1: 17.28,\n        0.05: 19.68,\n        0.025: 21.92,\n        0.01: 24.72,\n        0.005: 26.76\n    },\n    12: {\n        0.995: 3.07,\n        0.99: 3.57,\n        0.975: 4.4,\n        0.95: 5.23,\n        0.9: 6.3,\n        0.5: 11.34,\n        0.1: 18.55,\n        0.05: 21.03,\n        0.025: 23.34,\n        0.01: 26.22,\n        0.005: 28.3\n    },\n    13: {\n        0.995: 3.57,\n        0.99: 4.11,\n        0.975: 5.01,\n        0.95: 5.89,\n        0.9: 7.04,\n        0.5: 12.34,\n        0.1: 19.81,\n        0.05: 22.36,\n        0.025: 24.74,\n        0.01: 27.69,\n        0.005: 29.82\n    },\n    14: {\n        0.995: 4.07,\n        0.99: 4.66,\n        0.975: 5.63,\n        0.95: 6.57,\n        0.9: 7.79,\n        0.5: 13.34,\n        0.1: 21.06,\n        0.05: 23.68,\n        0.025: 26.12,\n        0.01: 29.14,\n        0.005: 31.32\n    },\n    15: {\n        0.995: 4.6,\n        0.99: 5.23,\n        0.975: 6.27,\n        0.95: 7.26,\n        0.9: 8.55,\n        0.5: 14.34,\n        0.1: 22.31,\n        0.05: 25,\n        0.025: 27.49,\n        0.01: 30.58,\n        0.005: 32.8\n    },\n    16: {\n        0.995: 5.14,\n        0.99: 5.81,\n        0.975: 6.91,\n        0.95: 7.96,\n        0.9: 9.31,\n        0.5: 15.34,\n        0.1: 23.54,\n        0.05: 26.3,\n        0.025: 28.85,\n        0.01: 32,\n        0.005: 34.27\n    },\n    17: {\n        0.995: 5.7,\n        0.99: 6.41,\n        0.975: 7.56,\n        0.95: 8.67,\n        0.9: 10.09,\n        0.5: 16.34,\n        0.1: 24.77,\n        0.05: 27.59,\n        0.025: 30.19,\n        0.01: 33.41,\n        0.005: 35.72\n    },\n    18: {\n        0.995: 6.26,\n        0.99: 7.01,\n        0.975: 8.23,\n        0.95: 9.39,\n        0.9: 10.87,\n        0.5: 17.34,\n        0.1: 25.99,\n        0.05: 28.87,\n        0.025: 31.53,\n        0.01: 34.81,\n        0.005: 37.16\n    },\n    19: {\n        0.995: 6.84,\n        0.99: 7.63,\n        0.975: 8.91,\n        0.95: 10.12,\n        0.9: 11.65,\n        0.5: 18.34,\n        0.1: 27.2,\n        0.05: 30.14,\n        0.025: 32.85,\n        0.01: 36.19,\n        0.005: 38.58\n    },\n    20: {\n        0.995: 7.43,\n        0.99: 8.26,\n        0.975: 9.59,\n        0.95: 10.85,\n        0.9: 12.44,\n        0.5: 19.34,\n        0.1: 28.41,\n        0.05: 31.41,\n        0.025: 34.17,\n        0.01: 37.57,\n        0.005: 40\n    },\n    21: {\n        0.995: 8.03,\n        0.99: 8.9,\n        0.975: 10.28,\n        0.95: 11.59,\n        0.9: 13.24,\n        0.5: 20.34,\n        0.1: 29.62,\n        0.05: 32.67,\n        0.025: 35.48,\n        0.01: 38.93,\n        0.005: 41.4\n    },\n    22: {\n        0.995: 8.64,\n        0.99: 9.54,\n        0.975: 10.98,\n        0.95: 12.34,\n        0.9: 14.04,\n        0.5: 21.34,\n        0.1: 30.81,\n        0.05: 33.92,\n        0.025: 36.78,\n        0.01: 40.29,\n        0.005: 42.8\n    },\n    23: {\n        0.995: 9.26,\n        0.99: 10.2,\n        0.975: 11.69,\n        0.95: 13.09,\n        0.9: 14.85,\n        0.5: 22.34,\n        0.1: 32.01,\n        0.05: 35.17,\n        0.025: 38.08,\n        0.01: 41.64,\n        0.005: 44.18\n    },\n    24: {\n        0.995: 9.89,\n        0.99: 10.86,\n        0.975: 12.4,\n        0.95: 13.85,\n        0.9: 15.66,\n        0.5: 23.34,\n        0.1: 33.2,\n        0.05: 36.42,\n        0.025: 39.36,\n        0.01: 42.98,\n        0.005: 45.56\n    },\n    25: {\n        0.995: 10.52,\n        0.99: 11.52,\n        0.975: 13.12,\n        0.95: 14.61,\n        0.9: 16.47,\n        0.5: 24.34,\n        0.1: 34.28,\n        0.05: 37.65,\n        0.025: 40.65,\n        0.01: 44.31,\n        0.005: 46.93\n    },\n    26: {\n        0.995: 11.16,\n        0.99: 12.2,\n        0.975: 13.84,\n        0.95: 15.38,\n        0.9: 17.29,\n        0.5: 25.34,\n        0.1: 35.56,\n        0.05: 38.89,\n        0.025: 41.92,\n        0.01: 45.64,\n        0.005: 48.29\n    },\n    27: {\n        0.995: 11.81,\n        0.99: 12.88,\n        0.975: 14.57,\n        0.95: 16.15,\n        0.9: 18.11,\n        0.5: 26.34,\n        0.1: 36.74,\n        0.05: 40.11,\n        0.025: 43.19,\n        0.01: 46.96,\n        0.005: 49.65\n    },\n    28: {\n        0.995: 12.46,\n        0.99: 13.57,\n        0.975: 15.31,\n        0.95: 16.93,\n        0.9: 18.94,\n        0.5: 27.34,\n        0.1: 37.92,\n        0.05: 41.34,\n        0.025: 44.46,\n        0.01: 48.28,\n        0.005: 50.99\n    },\n    29: {\n        0.995: 13.12,\n        0.99: 14.26,\n        0.975: 16.05,\n        0.95: 17.71,\n        0.9: 19.77,\n        0.5: 28.34,\n        0.1: 39.09,\n        0.05: 42.56,\n        0.025: 45.72,\n        0.01: 49.59,\n        0.005: 52.34\n    },\n    30: {\n        0.995: 13.79,\n        0.99: 14.95,\n        0.975: 16.79,\n        0.95: 18.49,\n        0.9: 20.6,\n        0.5: 29.34,\n        0.1: 40.26,\n        0.05: 43.77,\n        0.025: 46.98,\n        0.01: 50.89,\n        0.005: 53.67\n    },\n    40: {\n        0.995: 20.71,\n        0.99: 22.16,\n        0.975: 24.43,\n        0.95: 26.51,\n        0.9: 29.05,\n        0.5: 39.34,\n        0.1: 51.81,\n        0.05: 55.76,\n        0.025: 59.34,\n        0.01: 63.69,\n        0.005: 66.77\n    },\n    50: {\n        0.995: 27.99,\n        0.99: 29.71,\n        0.975: 32.36,\n        0.95: 34.76,\n        0.9: 37.69,\n        0.5: 49.33,\n        0.1: 63.17,\n        0.05: 67.5,\n        0.025: 71.42,\n        0.01: 76.15,\n        0.005: 79.49\n    },\n    60: {\n        0.995: 35.53,\n        0.99: 37.48,\n        0.975: 40.48,\n        0.95: 43.19,\n        0.9: 46.46,\n        0.5: 59.33,\n        0.1: 74.4,\n        0.05: 79.08,\n        0.025: 83.3,\n        0.01: 88.38,\n        0.005: 91.95\n    },\n    70: {\n        0.995: 43.28,\n        0.99: 45.44,\n        0.975: 48.76,\n        0.95: 51.74,\n        0.9: 55.33,\n        0.5: 69.33,\n        0.1: 85.53,\n        0.05: 90.53,\n        0.025: 95.02,\n        0.01: 100.42,\n        0.005: 104.22\n    },\n    80: {\n        0.995: 51.17,\n        0.99: 53.54,\n        0.975: 57.15,\n        0.95: 60.39,\n        0.9: 64.28,\n        0.5: 79.33,\n        0.1: 96.58,\n        0.05: 101.88,\n        0.025: 106.63,\n        0.01: 112.33,\n        0.005: 116.32\n    },\n    90: {\n        0.995: 59.2,\n        0.99: 61.75,\n        0.975: 65.65,\n        0.95: 69.13,\n        0.9: 73.29,\n        0.5: 89.33,\n        0.1: 107.57,\n        0.05: 113.14,\n        0.025: 118.14,\n        0.01: 124.12,\n        0.005: 128.3\n    },\n    100: {\n        0.995: 67.33,\n        0.99: 70.06,\n        0.975: 74.22,\n        0.95: 77.93,\n        0.9: 82.36,\n        0.5: 99.33,\n        0.1: 118.5,\n        0.05: 124.34,\n        0.025: 129.56,\n        0.01: 135.81,\n        0.005: 140.17\n    }\n};\n\nexport default chiSquaredDistributionTable;\n", "import chiSquaredDistributionTable from \"./chi_squared_distribution_table.js\";\nimport mean from \"./mean.js\";\n\n/**\n * The [χ2 (Chi-Squared) Goodness-of-Fit Test](http://en.wikipedia.org/wiki/Goodness_of_fit#Pearson.27s_chi-squared_test)\n * uses a measure of goodness of fit which is the sum of differences between observed and expected outcome frequencies\n * (that is, counts of observations), each squared and divided by the number of observations expected given the\n * hypothesized distribution. The resulting χ2 statistic, `chiSquared`, can be compared to the chi-squared distribution\n * to determine the goodness of fit. In order to determine the degrees of freedom of the chi-squared distribution, one\n * takes the total number of observed frequencies and subtracts the number of estimated parameters. The test statistic\n * follows, approximately, a chi-square distribution with (k − c) degrees of freedom where `k` is the number of non-empty\n * cells and `c` is the number of estimated parameters for the distribution.\n *\n * @param {Array<number>} data\n * @param {Function} distributionType a function that returns a point in a distribution:\n * for instance, binomial, bernoulli, or poisson\n * @param {number} significance\n * @returns {number} chi squared goodness of fit\n * @example\n * // Data from Poisson goodness-of-fit example 10-19 in William W. Hines & Douglas C. Montgomery,\n * // \"Probability and Statistics in Engineering and Management Science\", Wiley (1980).\n * var data1019 = [\n *     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n *     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n *     1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n *     2, 2, 2, 2, 2, 2, 2, 2, 2,\n *     3, 3, 3, 3\n * ];\n * ss.chiSquaredGoodnessOfFit(data1019, ss.poissonDistribution, 0.05); //= false\n */\nfunction chiSquaredGoodnessOfFit(data, distributionType, significance) {\n    // Estimate from the sample data, a weighted mean.\n    const inputMean = mean(data);\n    // Calculated value of the χ2 statistic.\n    let chiSquared = 0;\n    // Number of hypothesized distribution parameters estimated, expected to be supplied in the distribution test.\n    // Lose one degree of freedom for estimating `lambda` from the sample data.\n    const c = 1;\n    // The hypothesized distribution.\n    // Generate the hypothesized distribution.\n    const hypothesizedDistribution = distributionType(inputMean);\n    const observedFrequencies = [];\n    const expectedFrequencies = [];\n\n    // Create an array holding a histogram from the sample data, of\n    // the form `{ value: numberOfOcurrences }`\n    for (let i = 0; i < data.length; i++) {\n        if (observedFrequencies[data[i]] === undefined) {\n            observedFrequencies[data[i]] = 0;\n        }\n        observedFrequencies[data[i]]++;\n    }\n\n    // The histogram we created might be sparse - there might be gaps\n    // between values. So we iterate through the histogram, making\n    // sure that instead of undefined, gaps have 0 values.\n    for (let i = 0; i < observedFrequencies.length; i++) {\n        if (observedFrequencies[i] === undefined) {\n            observedFrequencies[i] = 0;\n        }\n    }\n\n    // Create an array holding a histogram of expected data given the\n    // sample size and hypothesized distribution.\n    for (const k in hypothesizedDistribution) {\n        if (k in observedFrequencies) {\n            expectedFrequencies[+k] = hypothesizedDistribution[k] * data.length;\n        }\n    }\n\n    // Working backward through the expected frequencies, collapse classes\n    // if less than three observations are expected for a class.\n    // This transformation is applied to the observed frequencies as well.\n    for (let k = expectedFrequencies.length - 1; k >= 0; k--) {\n        if (expectedFrequencies[k] < 3) {\n            expectedFrequencies[k - 1] += expectedFrequencies[k];\n            expectedFrequencies.pop();\n\n            observedFrequencies[k - 1] += observedFrequencies[k];\n            observedFrequencies.pop();\n        }\n    }\n\n    // Iterate through the squared differences between observed & expected\n    // frequencies, accumulating the `chiSquared` statistic.\n    for (let k = 0; k < observedFrequencies.length; k++) {\n        chiSquared +=\n            Math.pow(observedFrequencies[k] - expectedFrequencies[k], 2) /\n            expectedFrequencies[k];\n    }\n\n    // Calculate degrees of freedom for this test and look it up in the\n    // `chiSquaredDistributionTable` in order to\n    // accept or reject the goodness-of-fit of the hypothesized distribution.\n    // Degrees of freedom, calculated as (number of class intervals -\n    // number of hypothesized distribution parameters estimated - 1)\n    const degreesOfFreedom = observedFrequencies.length - c - 1;\n    return (\n        chiSquaredDistributionTable[degreesOfFreedom][significance] < chiSquared\n    );\n}\n\nexport default chiSquaredGoodnessOfFit;\n", "import interquartileRange from \"./interquartile_range.js\";\nimport stddev from \"./sample_standard_deviation.js\";\n\nconst SQRT_2PI = Math.sqrt(2 * Math.PI);\n\n/**\n * [Well-known kernels](https://en.wikipedia.org/wiki/Kernel_(statistics)#Kernel_functions_in_common_use)\n * @private\n */\nconst kernels = {\n    /**\n     * The gaussian kernel.\n     * @private\n     */\n    gaussian: function (u) {\n        return Math.exp(-0.5 * u * u) / SQRT_2PI;\n    }\n};\n\n/**\n * Well known bandwidth selection methods\n * @private\n */\nconst bandwidthMethods = {\n    /**\n     * The [\"normal reference distribution\"\n     * rule-of-thumb](https://stat.ethz.ch/R-manual/R-devel/library/MASS/html/bandwidth.nrd.html),\n     * a commonly used version of [Silverman's\n     * rule-of-thumb](https://en.wikipedia.org/wiki/Kernel_density_estimation#A_rule-of-thumb_bandwidth_estimator).\n     * @private\n     */\n    nrd: function (x) {\n        let s = stddev(x);\n        const iqr = interquartileRange(x);\n        if (typeof iqr === \"number\") {\n            s = Math.min(s, iqr / 1.34);\n        }\n        return 1.06 * s * Math.pow(x.length, -0.2);\n    }\n};\n\n/**\n * [Kernel density estimation](https://en.wikipedia.org/wiki/Kernel_density_estimation)\n * is a useful tool for, among other things, estimating the shape of the\n * underlying probability distribution from a sample.\n *\n * @name kernelDensityEstimation\n * @param X sample values\n * @param kernel The kernel function to use. If a function is provided, it should return non-negative values and integrate to 1. Defaults to 'gaussian'.\n * @param bandwidthMethod The \"bandwidth selection\" method to use, or a fixed bandwidth value. Defaults to \"nrd\", the commonly-used [\"normal reference distribution\" rule-of-thumb](https://stat.ethz.ch/R-manual/R-devel/library/MASS/html/bandwidth.nrd.html).\n * @returns {Function} An estimated [probability density function](https://en.wikipedia.org/wiki/Probability_density_function) for the given sample. The returned function runs in `O(X.length)`.\n */\nfunction kernelDensityEstimation(X, kernel, bandwidthMethod) {\n    let kernelFn;\n    if (kernel === undefined) {\n        kernelFn = kernels.gaussian;\n    } else if (typeof kernel === \"string\") {\n        if (!kernels[kernel]) {\n            throw new Error('Unknown kernel \"' + kernel + '\"');\n        }\n        kernelFn = kernels[kernel];\n    } else {\n        kernelFn = kernel;\n    }\n\n    let bandwidth;\n    if (typeof bandwidthMethod === \"undefined\") {\n        bandwidth = bandwidthMethods.nrd(X);\n    } else if (typeof bandwidthMethod === \"string\") {\n        if (!bandwidthMethods[bandwidthMethod]) {\n            throw new Error(\n                'Unknown bandwidth method \"' + bandwidthMethod + '\"'\n            );\n        }\n        bandwidth = bandwidthMethods[bandwidthMethod](X);\n    } else {\n        bandwidth = bandwidthMethod;\n    }\n\n    return function (x) {\n        let i = 0;\n        let sum = 0;\n        for (i = 0; i < X.length; i++) {\n            sum += kernelFn((x - X[i]) / bandwidth);\n        }\n        return sum / bandwidth / X.length;\n    };\n}\n\nexport default kernelDensityEstimation;\n", "/**\n * The [Z-Score, or Standard Score](http://en.wikipedia.org/wiki/Standard_score).\n *\n * The standard score is the number of standard deviations an observation\n * or datum is above or below the mean. Thus, a positive standard score\n * represents a datum above the mean, while a negative standard score\n * represents a datum below the mean. It is a dimensionless quantity\n * obtained by subtracting the population mean from an individual raw\n * score and then dividing the difference by the population standard\n * deviation.\n *\n * The z-score is only defined if one knows the population parameters;\n * if one only has a sample set, then the analogous computation with\n * sample mean and sample standard deviation yields the\n * Student's t-statistic.\n *\n * @param {number} x\n * @param {number} mean\n * @param {number} standardDeviation\n * @return {number} z score\n * @example\n * zScore(78, 80, 5); // => -0.4\n */\nfunction zScore(x, mean, standardDeviation) {\n    return (x - mean) / standardDeviation;\n}\n\nexport default zScore;\n", "const SQRT_2PI = Math.sqrt(2 * Math.PI);\n\nfunction cumulativeDistribution(z) {\n    let sum = z;\n    let tmp = z;\n\n    // 15 iterations are enough for 4-digit precision\n    for (let i = 1; i < 15; i++) {\n        tmp *= (z * z) / (2 * i + 1);\n        sum += tmp;\n    }\n    return (\n        Math.round((0.5 + (sum / SQRT_2PI) * Math.exp((-z * z) / 2)) * 1e4) /\n        1e4\n    );\n}\n\n/**\n * A standard normal table, also called the unit normal table or Z table,\n * is a mathematical table for the values of Φ (phi), which are the values of\n * the [cumulative distribution function](https://en.wikipedia.org/wiki/Normal_distribution#Cumulative_distribution_function)\n * of the normal distribution. It is used to find the probability that a\n * statistic is observed below, above, or between values on the standard\n * normal distribution, and by extension, any normal distribution.\n */\nconst standardNormalTable = [];\n\nfor (let z = 0; z <= 3.09; z += 0.01) {\n    standardNormalTable.push(cumulativeDistribution(z));\n}\n\nexport default standardNormalTable;\n", "import standardNormalTable from \"./standard_normal_table.js\";\n\n/**\n * **[Cumulative Standard Normal Probability](http://en.wikipedia.org/wiki/Standard_normal_table)**\n *\n * Since probability tables cannot be\n * printed for every normal distribution, as there are an infinite variety\n * of normal distributions, it is common practice to convert a normal to a\n * standard normal and then use the standard normal table to find probabilities.\n *\n * You can use `.5 + .5 * errorFunction(x / Math.sqrt(2))` to calculate the probability\n * instead of looking it up in a table.\n *\n * @param {number} z\n * @returns {number} cumulative standard normal probability\n */\nfunction cumulativeStdNormalProbability(z) {\n    // Calculate the position of this value.\n    const absZ = Math.abs(z);\n    // Each row begins with a different\n    // significant digit: 0.5, 0.6, 0.7, and so on. Each value in the table\n    // corresponds to a range of 0.01 in the input values, so the value is\n    // multiplied by 100.\n    const index = Math.min(\n        Math.round(absZ * 100),\n        standardNormalTable.length - 1\n    );\n\n    // The index we calculate must be in the table as a positive value,\n    // but we still pay attention to whether the input is positive\n    // or negative, and flip the output value as a last step.\n    if (z >= 0) {\n        return standardNormalTable[index];\n    } else {\n        // due to floating-point arithmetic, values in the table with\n        // 4 significant figures can nevertheless end up as repeating\n        // fractions when they're computed here.\n        return Math.round((1 - standardNormalTable[index]) * 1e4) / 1e4;\n    }\n}\n\nexport default cumulativeStdNormalProbability;\n", "/**\n * **[Logistic Cumulative Distribution Function](https://en.wikipedia.org/wiki/Logistic_distribution)**\n *\n * @param {number} x\n * @returns {number} cumulative standard logistic probability\n */\nfunction cumulativeStdLogisticProbability(x) {\n    return 1 / (Math.exp(-x) + 1);\n}\n\nexport default cumulativeStdLogisticProbability;\n", "/**\n * **[Gaussian error function](http://en.wikipedia.org/wiki/Error_function)**\n *\n * The `errorFunction(x/(sd * Math.sqrt(2)))` is the probability that a value in a\n * normal distribution with standard deviation sd is within x of the mean.\n *\n * This function returns a numerical approximation to the exact value.\n * It uses Horner's method to evaluate the polynomial of τ (tau).\n *\n * @param {number} x input\n * @return {number} error estimation\n * @example\n * errorFunction(1).toFixed(2); // => '0.84'\n */\nfunction errorFunction(x) {\n    const t = 1 / (1 + 0.5 * Math.abs(x));\n    const tau =\n        t *\n        Math.exp(\n            -x * x +\n                ((((((((0.17087277 * t - 0.82215223) * t + 1.48851587) * t -\n                    1.13520398) *\n                    t +\n                    0.27886807) *\n                    t -\n                    0.18628806) *\n                    t +\n                    0.09678418) *\n                    t +\n                    0.37409196) *\n                    t +\n                    1.00002368) *\n                    t -\n                1.26551223\n        );\n    if (x >= 0) {\n        return 1 - tau;\n    } else {\n        return tau - 1;\n    }\n}\n\nexport default errorFunction;\n", "/**\n * The Inverse [Gaussian error function](http://en.wikipedia.org/wiki/Error_function)\n * returns a numerical approximation to the value that would have caused\n * `errorFunction()` to return x.\n *\n * @param {number} x value of error function\n * @returns {number} estimated inverted value\n */\nfunction inverseErrorFunction(x) {\n    const a = (8 * (Math.PI - 3)) / (3 * Math.PI * (4 - Math.PI));\n\n    const inv = Math.sqrt(\n        Math.sqrt(\n            Math.pow(2 / (Math.PI * a) + Math.log(1 - x * x) / 2, 2) -\n                Math.log(1 - x * x) / a\n        ) -\n            (2 / (Math.PI * a) + Math.log(1 - x * x) / 2)\n    );\n\n    if (x >= 0) {\n        return inv;\n    } else {\n        return -inv;\n    }\n}\n\nexport default inverseErrorFunction;\n", "import epsilon from \"./epsilon.js\";\nimport inverseErrorFunction from \"./inverse_error_function.js\";\n\n/**\n * The [Probit](http://en.wikipedia.org/wiki/Probit)\n * is the inverse of cumulativeStdNormalProbability(),\n * and is also known as the normal quantile function.\n *\n * It returns the number of standard deviations from the mean\n * where the p'th quantile of values can be found in a normal distribution.\n * So, for example, probit(0.5 + 0.6827/2) ≈ 1 because 68.27% of values are\n * normally found within 1 standard deviation above or below the mean.\n *\n * @param {number} p\n * @returns {number} probit\n */\nfunction probit(p) {\n    if (p === 0) {\n        p = epsilon;\n    } else if (p >= 1) {\n        p = 1 - epsilon;\n    }\n    return Math.sqrt(2) * inverseErrorFunction(2 * p - 1);\n}\n\nexport default probit;\n", "/**\n * The [Logit](https://en.wikipedia.org/wiki/Logit)\n * is the inverse of cumulativeStdLogisticProbability,\n * and is also known as the logistic quantile function.\n *\n * @param {number} p\n * @returns {number} logit\n */\nfunction logit(p) {\n    if (p <= 0 || p >= 1) {\n        throw new Error(\"p must be strictly between zero and one\");\n    }\n    return Math.log(p / (1 - p));\n}\n\nexport default logit;\n", "import mean from \"./mean.js\";\nimport shuffleInPlace from \"./shuffle_in_place.js\";\n\n/**\n * Conducts a [permutation test](https://en.wikipedia.org/wiki/Resampling_(statistics)#Permutation_tests)\n * to determine if two data sets are *significantly* different from each other, using\n * the difference of means between the groups as the test statistic.\n * The function allows for the following hypotheses:\n * - two_tail = Null hypothesis: the two distributions are equal.\n * - greater = Null hypothesis: observations from sampleX tend to be smaller than those from sampleY.\n * - less = Null hypothesis: observations from sampleX tend to be greater than those from sampleY.\n * [Learn more about one-tail vs two-tail tests.](https://en.wikipedia.org/wiki/One-_and_two-tailed_tests)\n *\n * @param {Array<number>} sampleX first dataset (e.g. treatment data)\n * @param {Array<number>} sampleY second dataset (e.g. control data)\n * @param {string} alternative alternative hypothesis, either 'two_sided' (default), 'greater', or 'less'\n * @param {number} k number of values in permutation distribution.\n * @param {Function} [randomSource=Math.random] an optional entropy source\n * @returns {number} p-value The probability of observing the difference between groups (as or more extreme than what we did), assuming the null hypothesis.\n *\n * @example\n * var control = [2, 5, 3, 6, 7, 2, 5];\n * var treatment = [20, 5, 13, 12, 7, 2, 2];\n * permutationTest(control, treatment); // ~0.1324\n */\nfunction permutationTest(sampleX, sampleY, alternative, k, randomSource) {\n    // Set default arguments\n    if (k === undefined) {\n        k = 10000;\n    }\n    if (alternative === undefined) {\n        alternative = \"two_side\";\n    }\n    if (\n        alternative !== \"two_side\" &&\n        alternative !== \"greater\" &&\n        alternative !== \"less\"\n    ) {\n        throw new Error(\n            \"`alternative` must be either 'two_side', 'greater', or 'less'.\"\n        );\n    }\n\n    // get means for each sample\n    const meanX = mean(sampleX);\n    const meanY = mean(sampleY);\n\n    // calculate initial test statistic. This will be our point of comparison with\n    // the generated test statistics.\n    const testStatistic = meanX - meanY;\n\n    // create test-statistic distribution\n    const testStatDsn = new Array(k);\n\n    // combine datsets so we can easily shuffle later\n    const allData = sampleX.concat(sampleY);\n    const midIndex = Math.floor(allData.length / 2);\n\n    for (let i = 0; i < k; i++) {\n        // 1. shuffle data assignments\n        shuffleInPlace(allData, randomSource);\n        const permLeft = allData.slice(0, midIndex);\n        const permRight = allData.slice(midIndex, allData.length);\n\n        // 2.re-calculate test statistic\n        const permTestStatistic = mean(permLeft) - mean(permRight);\n\n        // 3. store test statistic to build test statistic distribution\n        testStatDsn[i] = permTestStatistic;\n    }\n\n    // Calculate p-value depending on alternative\n    // For this test, we calculate the percentage of 'extreme' test statistics (subject to our hypothesis)\n    // more info on permutation test p-value calculations: https://onlinecourses.science.psu.edu/stat464/node/35\n    let numExtremeTStats = 0;\n    if (alternative === \"two_side\") {\n        for (let i = 0; i <= k; i++) {\n            if (Math.abs(testStatDsn[i]) >= Math.abs(testStatistic)) {\n                numExtremeTStats += 1;\n            }\n        }\n    } else if (alternative === \"greater\") {\n        for (let i = 0; i <= k; i++) {\n            if (testStatDsn[i] >= testStatistic) {\n                numExtremeTStats += 1;\n            }\n        }\n    } else {\n        // alternative === 'less'\n        for (let i = 0; i <= k; i++) {\n            /* c8 ignore start */\n            if (testStatDsn[i] <= testStatistic) {\n                numExtremeTStats += 1;\n            }\n            /* c8 ignore end */\n        }\n    }\n\n    return numExtremeTStats / k;\n}\n\nexport default permutationTest;\n", "/**\n * [Sign](https://en.wikipedia.org/wiki/Sign_function) is a function\n * that extracts the sign of a real number\n *\n * @param {number} x input value\n * @returns {number} sign value either 1, 0 or -1\n * @throws {TypeError} if the input argument x is not a number\n * @private\n *\n * @example\n * sign(2); // => 1\n */\nfunction sign(x) {\n    if (typeof x === \"number\") {\n        if (x < 0) {\n            return -1;\n        } else if (x === 0) {\n            return 0;\n        } else {\n            return 1;\n        }\n    } else {\n        throw new TypeError(\"not a number\");\n    }\n}\n\nexport default sign;\n", "import sign from \"./sign.js\";\n\n/**\n * [Bisection method](https://en.wikipedia.org/wiki/Bisection_method) is a root-finding\n * method that repeatedly bisects an interval to find the root.\n *\n * This function returns a numerical approximation to the exact value.\n *\n * @param {Function} func input function\n * @param {number} start - start of interval\n * @param {number} end - end of interval\n * @param {number} maxIterations - the maximum number of iterations\n * @param {number} errorTolerance - the error tolerance\n * @returns {number} estimated root value\n * @throws {TypeError} Argument func must be a function\n *\n * @example\n * bisect(Math.cos,0,4,100,0.003); // => 1.572265625\n */\nfunction bisect(func, start, end, maxIterations, errorTolerance) {\n    if (typeof func !== \"function\")\n        throw new TypeError(\"func must be a function\");\n\n    for (let i = 0; i < maxIterations; i++) {\n        const output = (start + end) / 2;\n\n        if (\n            func(output) === 0 ||\n            Math.abs((end - start) / 2) < errorTolerance\n        ) {\n            return output;\n        }\n\n        if (sign(func(output)) === sign(func(start))) {\n            start = output;\n        } else {\n            end = output;\n        }\n    }\n\n    throw new Error(\"maximum number of iterations exceeded\");\n}\n\nexport default bisect;\n", "/**\n * Calculate Euclidean distance between two points.\n * @param {Array<number>} left First N-dimensional point.\n * @param {Array<number>} right Second N-dimensional point.\n * @returns {number} Distance.\n */\nfunction euclideanDistance(left, right) {\n    let sum = 0;\n    for (let i = 0; i < left.length; i++) {\n        const diff = left[i] - right[i];\n        sum += diff * diff;\n    }\n    return Math.sqrt(sum);\n}\n\nexport default euclideanDistance;\n", "import euclideanDistance from \"./euclidean_distance.js\";\nimport makeMatrix from \"./make_matrix.js\";\nimport sample from \"./sample.js\";\n\n/**\n * @typedef {Object} kMeansReturn\n * @property {Array<number>} labels The labels.\n * @property {Array<Array<number>>} centroids The cluster centroids.\n */\n\n/**\n * Perform k-means clustering.\n *\n * @param {Array<Array<number>>} points N-dimensional coordinates of points to be clustered.\n * @param {number} numCluster How many clusters to create.\n * @param {Function} randomSource An optional entropy source that generates uniform values in [0, 1).\n * @return {kMeansReturn} Labels (same length as data) and centroids (same length as numCluster).\n * @throws {Error} If any centroids wind up friendless (i.e., without associated points).\n *\n * @example\n * kMeansCluster([[0.0, 0.5], [1.0, 0.5]], 2); // => {labels: [0, 1], centroids: [[0.0, 0.5], [1.0 0.5]]}\n */\nfunction kMeansCluster(points, numCluster, randomSource = Math.random) {\n    let oldCentroids = null;\n    let newCentroids = sample(points, numCluster, randomSource);\n    let labels = null;\n    let change = Number.MAX_VALUE;\n    while (change !== 0) {\n        labels = labelPoints(points, newCentroids);\n        oldCentroids = newCentroids;\n        newCentroids = calculateCentroids(points, labels, numCluster);\n        change = calculateChange(newCentroids, oldCentroids);\n    }\n    return {\n        labels: labels,\n        centroids: newCentroids\n    };\n}\n\n/**\n * Label each point according to which centroid it is closest to.\n *\n * @private\n * @param {Array<Array<number>>} points Array of XY coordinates.\n * @param {Array<Array<number>>} centroids Current centroids.\n * @return {Array<number>} Group labels.\n */\nfunction labelPoints(points, centroids) {\n    return points.map((p) => {\n        let minDist = Number.MAX_VALUE;\n        let label = -1;\n        for (let i = 0; i < centroids.length; i++) {\n            const dist = euclideanDistance(p, centroids[i]);\n            if (dist < minDist) {\n                minDist = dist;\n                label = i;\n            }\n        }\n        return label;\n    });\n}\n\n/**\n * Calculate centroids for points given labels.\n *\n * @private\n * @param {Array<Array<number>>} points Array of XY coordinates.\n * @param {Array<number>} labels Which groups points belong to.\n * @param {number} numCluster Number of clusters being created.\n * @return {Array<Array<number>>} Centroid for each group.\n * @throws {Error} If any centroids wind up friendless (i.e., without associated points).\n */\nfunction calculateCentroids(points, labels, numCluster) {\n    // Initialize accumulators.\n    const dimension = points[0].length;\n    const centroids = makeMatrix(numCluster, dimension);\n    const counts = Array(numCluster).fill(0);\n\n    // Add points to centroids' accumulators and count points per centroid.\n    const numPoints = points.length;\n    for (let i = 0; i < numPoints; i++) {\n        const point = points[i];\n        const label = labels[i];\n        const current = centroids[label];\n        for (let j = 0; j < dimension; j++) {\n            current[j] += point[j];\n        }\n        counts[label] += 1;\n    }\n\n    // Rescale centroids, checking for any that have no points.\n    for (let i = 0; i < numCluster; i++) {\n        if (counts[i] === 0) {\n            throw new Error(`Centroid ${i} has no friends`);\n        }\n        const centroid = centroids[i];\n        for (let j = 0; j < dimension; j++) {\n            centroid[j] /= counts[i];\n        }\n    }\n\n    return centroids;\n}\n\n/**\n * Calculate the difference between old centroids and new centroids.\n *\n * @private\n * @param {Array<Array<number>>} left One list of centroids.\n * @param {Array<Array<number>>} right Another list of centroids.\n * @return {number} Distance between centroids.\n */\nfunction calculateChange(left, right) {\n    let total = 0;\n    for (let i = 0; i < left.length; i++) {\n        total += euclideanDistance(left[i], right[i]);\n    }\n    return total;\n}\n\nexport default kMeansCluster;\n", "import euclideanDistance from \"./euclidean_distance.js\";\nimport makeMatrix from \"./make_matrix.js\";\nimport max from \"./max.js\";\n\n/**\n * Calculate the [silhouette values](https://en.wikipedia.org/wiki/Silhouette_(clustering))\n * for clustered data.\n *\n * @param {Array<Array<number>>} points N-dimensional coordinates of points.\n * @param {Array<number>} labels Labels of points. This must be the same length as `points`,\n * and values must lie in [0..G-1], where G is the number of groups.\n * @return {Array<number>} The silhouette value for each point.\n *\n * @example\n * silhouette([[0.25], [0.75]], [0, 0]); // => [1.0, 1.0]\n */\nfunction silhouette(points, labels) {\n    if (points.length !== labels.length) {\n        throw new Error(\"must have exactly as many labels as points\");\n    }\n    const groupings = createGroups(labels);\n    const distances = calculateAllDistances(points);\n    const result = [];\n    for (let i = 0; i < points.length; i++) {\n        let s = 0;\n        if (groupings[labels[i]].length > 1) {\n            const a = meanDistanceFromPointToGroup(\n                i,\n                groupings[labels[i]],\n                distances\n            );\n            const b = meanDistanceToNearestGroup(\n                i,\n                labels,\n                groupings,\n                distances\n            );\n            s = (b - a) / Math.max(a, b);\n        }\n        result.push(s);\n    }\n    return result;\n}\n\n/**\n * Create a lookup table mapping group IDs to point IDs.\n *\n * @private\n * @param {Array<number>} labels Labels of points. This must be the same length as `points`,\n * and values must lie in [0..G-1], where G is the number of groups.\n * @return {Array<Array<number>>} An array of length G, each of whose entries is an array\n * containing the indices of the points in that group.\n */\nfunction createGroups(labels) {\n    const numGroups = 1 + max(labels);\n    const result = Array(numGroups);\n    for (let i = 0; i < labels.length; i++) {\n        const label = labels[i];\n        if (result[label] === undefined) {\n            result[label] = [];\n        }\n        result[label].push(i);\n    }\n    return result;\n}\n\n/**\n * Create a lookup table of all inter-point distances.\n *\n * @private\n * @param {Array<Array<number>>} points N-dimensional coordinates of points.\n * @return {Array<Array<number>>} A symmetric square array of inter-point distances\n * (zero on the diagonal).\n */\nfunction calculateAllDistances(points) {\n    const numPoints = points.length;\n    const result = makeMatrix(numPoints, numPoints);\n    for (let i = 0; i < numPoints; i++) {\n        for (let j = 0; j < i; j++) {\n            result[i][j] = euclideanDistance(points[i], points[j]);\n            result[j][i] = result[i][j];\n        }\n    }\n    return result;\n}\n\n/**\n * Calculate the mean distance between this point and all the points in the\n * nearest group (as determined by which point in another group is closest).\n *\n * @private\n * @param {number} which The index of this point.\n * @param {Array<number>} labels Labels of points.\n * @param {Array<Array<number>>} groupings An array whose entries are arrays\n * containing the indices of the points in that group.\n * @param {Array<Array<number>>} distances A symmetric square array of inter-point\n * distances.\n * @return {number} The mean distance from this point to others in the nearest\n * group.\n */\nfunction meanDistanceToNearestGroup(which, labels, groupings, distances) {\n    const label = labels[which];\n    let result = Number.MAX_VALUE;\n    for (let i = 0; i < groupings.length; i++) {\n        if (i !== label) {\n            const d = meanDistanceFromPointToGroup(\n                which,\n                groupings[i],\n                distances\n            );\n            if (d < result) {\n                result = d;\n            }\n        }\n    }\n    return result;\n}\n\n/**\n * Calculate the mean distance between a point and all the points in a group\n * (possibly its own).\n *\n * @private\n * @param {number} which The index of this point.\n * @param {Array<number>} group The indices of all the points in the group in\n * question.\n * @param {Array<Array<number>>} distances A symmetric square array of inter-point\n * distances.\n * @return {number} The mean distance from this point to others in the\n * specified group.\n */\nfunction meanDistanceFromPointToGroup(which, group, distances) {\n    let total = 0;\n    for (let i = 0; i < group.length; i++) {\n        total += distances[which][group[i]];\n    }\n    return total / group.length;\n}\n\nexport default silhouette;\n", "import max from \"./max.js\";\nimport silhouette from \"./silhouette.js\";\n\n/**\n * Calculate the [silhouette metric](https://en.wikipedia.org/wiki/Silhouette_(clustering))\n * for a set of N-dimensional points arranged in groups. The metric is the largest\n * individual silhouette value for the data.\n *\n * @param {Array<Array<number>>} points N-dimensional coordinates of points.\n * @param {Array<number>} labels Labels of points. This must be the same length as `points`,\n * and values must lie in [0..G-1], where G is the number of groups.\n * @return {number} The silhouette metric for the groupings.\n *\n * @example\n * silhouetteMetric([[0.25], [0.75]], [0, 0]); // => 1.0\n */\nfunction silhouetteMetric(points, labels) {\n    const values = silhouette(points, labels);\n    return max(values);\n}\n\nexport default silhouetteMetric;\n", "/**\n * Relative error.\n *\n * This is more difficult to calculate than it first appears [1,2].  The usual\n * formula for the relative error between an actual value A and an expected\n * value E is `|(A-E)/E|`, but:\n *\n * 1. If the expected value is 0, any other value has infinite relative error,\n *    which is counter-intuitive: if the expected voltage is 0, getting 1/10th\n *    of a volt doesn't feel like an infinitely large error.\n *\n * 2. This formula does not satisfy the mathematical definition of a metric [3].\n *    [4] solved this problem by defining the relative error as `|ln(|A/E|)|`,\n *    but that formula only works if all values are positive: for example, it\n *    reports the relative error of -10 and 10 as 0.\n *\n * Our implementation sticks with convention and returns:\n *\n * - 0 if the actual and expected values are both zero\n * - Infinity if the actual value is non-zero and the expected value is zero\n * - `|(A-E)/E|` in all other cases\n *\n * [1] https://math.stackexchange.com/questions/677852/how-to-calculate-relative-error-when-true-value-is-zero\n * [2] https://en.wikipedia.org/wiki/Relative_change_and_difference\n * [3] https://en.wikipedia.org/wiki/Metric_(mathematics)#Definition\n * [4] F.W.J. Olver: \"A New Approach to Error Arithmetic.\" SIAM Journal on\n *     Numerical Analysis, 15(2), 1978, 10.1137/0715024.\n *\n * @param {number} actual The actual value.\n * @param {number} expected The expected value.\n * @return {number} The relative error.\n */\nfunction relativeError(actual, expected) {\n    // These lines are actually covered by tests, but it seems\n    // like c8 has a bug that marks them as not covered.\n    /* c8 ignore start */\n    if (actual === 0 && expected === 0) {\n        return 0;\n    }\n    /* c8 ignore end */\n    return Math.abs((actual - expected) / expected);\n}\n\nexport default relativeError;\n", "import epsilon from \"./epsilon.js\";\nimport relativeError from \"./relative_error.js\";\n\n/**\n * Approximate equality.\n *\n * @param {number} actual The value to be tested.\n * @param {number} expected The reference value.\n * @param {number} tolerance The acceptable relative difference.\n * @return {boolean} Whether numbers are within tolerance.\n */\nfunction approxEqual(actual, expected, tolerance = epsilon) {\n    return relativeError(actual, expected) <= tolerance;\n}\n\nexport default approxEqual;\n", "/**\n * Returns a cloned copy of the passed GeoJSON Object, including possible 'Foreign Members'.\n * ~3-5x faster than the common JSON.parse + JSON.stringify combo method.\n *\n * @name clone\n * @param {GeoJSON} geojson GeoJSON Object\n * @returns {GeoJSON} cloned GeoJSON Object\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]], {color: 'red'});\n *\n * var lineCloned = turf.clone(line);\n */\nfunction clone(geojson) {\n    if (!geojson) {\n        throw new Error(\"geojson is required\");\n    }\n    switch (geojson.type) {\n        case \"Feature\":\n            return cloneFeature(geojson);\n        case \"FeatureCollection\":\n            return cloneFeatureCollection(geojson);\n        case \"Point\":\n        case \"LineString\":\n        case \"Polygon\":\n        case \"MultiPoint\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\":\n        case \"GeometryCollection\":\n            return cloneGeometry(geojson);\n        default:\n            throw new Error(\"unknown GeoJSON type\");\n    }\n}\n/**\n * Clone Feature\n *\n * @private\n * @param {Feature<any>} geojson GeoJSON Feature\n * @returns {Feature<any>} cloned Feature\n */\nfunction cloneFeature(geojson) {\n    var cloned = { type: \"Feature\" };\n    // Preserve Foreign Members\n    Object.keys(geojson).forEach(function (key) {\n        switch (key) {\n            case \"type\":\n            case \"properties\":\n            case \"geometry\":\n                return;\n            default:\n                cloned[key] = geojson[key];\n        }\n    });\n    // Add properties & geometry last\n    cloned.properties = cloneProperties(geojson.properties);\n    cloned.geometry = cloneGeometry(geojson.geometry);\n    return cloned;\n}\n/**\n * Clone Properties\n *\n * @private\n * @param {Object} properties GeoJSON Properties\n * @returns {Object} cloned Properties\n */\nfunction cloneProperties(properties) {\n    var cloned = {};\n    if (!properties) {\n        return cloned;\n    }\n    Object.keys(properties).forEach(function (key) {\n        var value = properties[key];\n        if (typeof value === \"object\") {\n            if (value === null) {\n                // handle null\n                cloned[key] = null;\n            }\n            else if (Array.isArray(value)) {\n                // handle Array\n                cloned[key] = value.map(function (item) {\n                    return item;\n                });\n            }\n            else {\n                // handle generic Object\n                cloned[key] = cloneProperties(value);\n            }\n        }\n        else {\n            cloned[key] = value;\n        }\n    });\n    return cloned;\n}\n/**\n * Clone Feature Collection\n *\n * @private\n * @param {FeatureCollection<any>} geojson GeoJSON Feature Collection\n * @returns {FeatureCollection<any>} cloned Feature Collection\n */\nfunction cloneFeatureCollection(geojson) {\n    var cloned = { type: \"FeatureCollection\" };\n    // Preserve Foreign Members\n    Object.keys(geojson).forEach(function (key) {\n        switch (key) {\n            case \"type\":\n            case \"features\":\n                return;\n            default:\n                cloned[key] = geojson[key];\n        }\n    });\n    // Add features\n    cloned.features = geojson.features.map(function (feature) {\n        return cloneFeature(feature);\n    });\n    return cloned;\n}\n/**\n * Clone Geometry\n *\n * @private\n * @param {Geometry<any>} geometry GeoJSON Geometry\n * @returns {Geometry<any>} cloned Geometry\n */\nfunction cloneGeometry(geometry) {\n    var geom = { type: geometry.type };\n    if (geometry.bbox) {\n        geom.bbox = geometry.bbox;\n    }\n    if (geometry.type === \"GeometryCollection\") {\n        geom.geometries = geometry.geometries.map(function (g) {\n            return cloneGeometry(g);\n        });\n        return geom;\n    }\n    geom.coordinates = deepSlice(geometry.coordinates);\n    return geom;\n}\n/**\n * Deep Slice coordinates\n *\n * @private\n * @param {Coordinates} coords Coordinates\n * @returns {Coordinates} all coordinates sliced\n */\nfunction deepSlice(coords) {\n    var cloned = coords;\n    if (typeof cloned[0] !== \"object\") {\n        return cloned.slice();\n    }\n    return cloned.map(function (coord) {\n        return deepSlice(coord);\n    });\n}\nexport default clone;\n", "import { isNumber, } from \"@turf/helpers\";\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nexport function getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nexport function getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nexport function containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        isNumber(coordinates[0]) &&\n        isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nexport function featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nexport function getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nexport function getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\n", "import { getCoords } from \"@turf/invariant\";\n/**\n * Takes a ring and return true or false whether or not the ring is clockwise or counter-clockwise.\n *\n * @name booleanClockwise\n * @param {Feature<LineString>|LineString|Array<Array<number>>} line to be evaluated\n * @returns {boolean} true/false\n * @example\n * var clockwiseRing = turf.lineString([[0,0],[1,1],[1,0],[0,0]]);\n * var counterClockwiseRing = turf.lineString([[0,0],[1,0],[1,1],[0,0]]);\n *\n * turf.booleanClockwise(clockwiseRing)\n * //=true\n * turf.booleanClockwise(counterClockwiseRing)\n * //=false\n */\nexport default function booleanClockwise(line) {\n    var ring = getCoords(line);\n    var sum = 0;\n    var i = 1;\n    var prev;\n    var cur;\n    while (i < ring.length) {\n        prev = cur || ring[0];\n        cur = ring[i];\n        sum += (cur[0] - prev[0]) * (cur[1] + prev[1]);\n        i++;\n    }\n    return sum > 0;\n}\n", "import { feature, lineString, isObject, point } from '@turf/helpers';\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = lineString(\n            [previousCoords, currentCoord],\n            feature.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    if (feature.geometry === null) return;\n    var type = feature.geometry.type;\n    var coords = feature.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              lineString(coords[geometryIndex], feature.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexport { coordAll, coordEach, coordReduce, featureEach, featureReduce, findPoint, findSegment, flattenEach, flattenReduce, geomEach, geomReduce, lineEach, lineReduce, propEach, propReduce, segmentEach, segmentReduce };\n", "import clone from '@turf/clone';\nimport booleanClockwise from '@turf/boolean-clockwise';\nimport { featureEach, geomEach } from '@turf/meta';\nimport { getCoords } from '@turf/invariant';\nimport { isObject, featureCollection } from '@turf/helpers';\n\n/**\n * Rewind {@link LineString|(Multi)LineString} or {@link Polygon|(Multi)Polygon} outer ring counterclockwise and inner rings clockwise (Uses {@link http://en.wikipedia.org/wiki/Shoelace_formula|Shoelace Formula}).\n *\n * @name rewind\n * @param {GeoJSON} geojson input GeoJSON Polygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.reverse=false] enable reverse winding\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} rewind Polygon\n * @example\n * var polygon = turf.polygon([[[121, -29], [138, -29], [138, -18], [121, -18], [121, -29]]]);\n *\n * var rewind = turf.rewind(polygon);\n *\n * //addToMap\n * var addToMap = [rewind];\n */\nfunction rewind(geojson, options) {\n  // Optional parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var reverse = options.reverse || false;\n  var mutate = options.mutate || false;\n\n  // validation\n  if (!geojson) throw new Error(\"<geojson> is required\");\n  if (typeof reverse !== \"boolean\")\n    throw new Error(\"<reverse> must be a boolean\");\n  if (typeof mutate !== \"boolean\")\n    throw new Error(\"<mutate> must be a boolean\");\n\n  // prevent input mutation\n  if (mutate === false) geojson = clone(geojson);\n\n  // Support Feature Collection or Geometry Collection\n  var results = [];\n  switch (geojson.type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function (geometry) {\n        rewindFeature(geometry, reverse);\n      });\n      return geojson;\n    case \"FeatureCollection\":\n      featureEach(geojson, function (feature) {\n        featureEach(rewindFeature(feature, reverse), function (result) {\n          results.push(result);\n        });\n      });\n      return featureCollection(results);\n  }\n  // Support Feature or Geometry Objects\n  return rewindFeature(geojson, reverse);\n}\n\n/**\n * Rewind\n *\n * @private\n * @param {Geometry|Feature<any>} geojson Geometry or Feature\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {Geometry|Feature<any>} rewind Geometry or Feature\n */\nfunction rewindFeature(geojson, reverse) {\n  var type = geojson.type === \"Feature\" ? geojson.geometry.type : geojson.type;\n\n  // Support all GeoJSON Geometry Objects\n  switch (type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function (geometry) {\n        rewindFeature(geometry, reverse);\n      });\n      return geojson;\n    case \"LineString\":\n      rewindLineString(getCoords(geojson), reverse);\n      return geojson;\n    case \"Polygon\":\n      rewindPolygon(getCoords(geojson), reverse);\n      return geojson;\n    case \"MultiLineString\":\n      getCoords(geojson).forEach(function (lineCoords) {\n        rewindLineString(lineCoords, reverse);\n      });\n      return geojson;\n    case \"MultiPolygon\":\n      getCoords(geojson).forEach(function (lineCoords) {\n        rewindPolygon(lineCoords, reverse);\n      });\n      return geojson;\n    case \"Point\":\n    case \"MultiPoint\":\n      return geojson;\n  }\n}\n\n/**\n * Rewind LineString - outer ring clockwise\n *\n * @private\n * @param {Array<Array<number>>} coords GeoJSON LineString geometry coordinates\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {void} mutates coordinates\n */\nfunction rewindLineString(coords, reverse) {\n  if (booleanClockwise(coords) === reverse) coords.reverse();\n}\n\n/**\n * Rewind Polygon - outer ring counterclockwise and inner rings clockwise.\n *\n * @private\n * @param {Array<Array<Array<number>>>} coords GeoJSON Polygon geometry coordinates\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {void} mutates coordinates\n */\nfunction rewindPolygon(coords, reverse) {\n  // outer ring\n  if (booleanClockwise(coords[0]) !== reverse) {\n    coords[0].reverse();\n  }\n  // inner rings\n  for (var i = 1; i < coords.length; i++) {\n    if (booleanClockwise(coords[i]) === reverse) {\n      coords[i].reverse();\n    }\n  }\n}\n\nexport default rewind;\n", "import { flattenEach } from '@turf/meta';\nimport { featureCollection } from '@turf/helpers';\n\n/**\n * Flattens any {@link GeoJSON} to a {@link FeatureCollection} inspired by [geojson-flatten](https://github.com/tmcw/geojson-flatten).\n *\n * @name flatten\n * @param {GeoJSON} geojson any valid GeoJSON Object\n * @returns {FeatureCollection<any>} all Multi-Geometries are flattened into single Features\n * @example\n * var multiGeometry = turf.multiPolygon([\n *   [[[102.0, 2.0], [103.0, 2.0], [103.0, 3.0], [102.0, 3.0], [102.0, 2.0]]],\n *   [[[100.0, 0.0], [101.0, 0.0], [101.0, 1.0], [100.0, 1.0], [100.0, 0.0]],\n *   [[100.2, 0.2], [100.8, 0.2], [100.8, 0.8], [100.2, 0.8], [100.2, 0.2]]]\n * ]);\n *\n * var flatten = turf.flatten(multiGeometry);\n *\n * //addToMap\n * var addToMap = [flatten]\n */\nfunction flatten(geojson) {\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  var results = [];\n  flattenEach(geojson, function (feature) {\n    results.push(feature);\n  });\n  return featureCollection(results);\n}\n\nexport default flatten;\n", "function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n", "export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n", "export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n", "export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n", "export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n", "export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n", "export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n", "import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n", "import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n", "function t(t,e,s){if(t&&t.length){const[n,a]=e,o=Math.PI/180*s,h=Math.cos(o),r=Math.sin(o);t.forEach((t=>{const[e,s]=t;t[0]=(e-n)*h-(s-a)*r+n,t[1]=(e-n)*r+(s-a)*h+a}))}}function e(t){const e=t[0],s=t[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}function s(e,s){const n=s.hachureAngle+90;let a=s.hachureGap;a<0&&(a=4*s.strokeWidth),a=Math.max(a,.1);const o=[0,0];if(n)for(const s of e)t(s,o,n);const h=function(t,e){const s=[];for(const e of t){const t=[...e];t[0].join(\",\")!==t[t.length-1].join(\",\")&&t.push([t[0][0],t[0][1]]),t.length>2&&s.push(t)}const n=[];e=Math.max(e,.1);const a=[];for(const t of s)for(let e=0;e<t.length-1;e++){const s=t[e],n=t[e+1];if(s[1]!==n[1]){const t=Math.min(s[1],n[1]);a.push({ymin:t,ymax:Math.max(s[1],n[1]),x:t===s[1]?s[0]:n[0],islope:(n[0]-s[0])/(n[1]-s[1])})}}if(a.sort(((t,e)=>t.ymin<e.ymin?-1:t.ymin>e.ymin?1:t.x<e.x?-1:t.x>e.x?1:t.ymax===e.ymax?0:(t.ymax-e.ymax)/Math.abs(t.ymax-e.ymax))),!a.length)return n;let o=[],h=a[0].ymin;for(;o.length||a.length;){if(a.length){let t=-1;for(let e=0;e<a.length&&!(a[e].ymin>h);e++)t=e;a.splice(0,t+1).forEach((t=>{o.push({s:h,edge:t})}))}if(o=o.filter((t=>!(t.edge.ymax<=h))),o.sort(((t,e)=>t.edge.x===e.edge.x?0:(t.edge.x-e.edge.x)/Math.abs(t.edge.x-e.edge.x))),o.length>1)for(let t=0;t<o.length;t+=2){const e=t+1;if(e>=o.length)break;const s=o[t].edge,a=o[e].edge;n.push([[Math.round(s.x),h],[Math.round(a.x),h]])}h+=e,o.forEach((t=>{t.edge.x=t.edge.x+e*t.edge.islope}))}return n}(e,a);if(n){for(const s of e)t(s,o,-n);!function(e,s,n){const a=[];e.forEach((t=>a.push(...t))),t(a,s,n)}(h,o,-n)}return h}class n{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const n=s(t,e);return{type:\"fillSketch\",ops:this.renderLines(n,e)}}renderLines(t,e){const s=[];for(const n of t)s.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],e));return s}}class a extends n{fillPolygons(t,n){let a=n.hachureGap;a<0&&(a=4*n.strokeWidth),a=Math.max(a,.1);const o=s(t,Object.assign({},n,{hachureGap:a})),h=Math.PI/180*n.hachureAngle,r=[],i=.5*a*Math.cos(h),c=.5*a*Math.sin(h);for(const[t,s]of o)e([t,s])&&r.push([[t[0]-i,t[1]+c],[...s]],[[t[0]+i,t[1]-c],[...s]]);return{type:\"fillSketch\",ops:this.renderLines(r,n)}}}class o extends n{fillPolygons(t,e){const s=this._fillPolygons(t,e),n=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),a=this._fillPolygons(t,n);return s.ops=s.ops.concat(a.ops),s}}class h{constructor(t){this.helper=t}fillPolygons(t,e){const n=s(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(n,e)}dotsOnLines(t,s){const n=[];let a=s.hachureGap;a<0&&(a=4*s.strokeWidth),a=Math.max(a,.1);let o=s.fillWeight;o<0&&(o=s.strokeWidth/2);const h=a/4;for(const r of t){const t=e(r),i=t/a,c=Math.ceil(i)-1,l=t-c*a,u=(r[0][0]+r[1][0])/2-a/4,p=Math.min(r[0][1],r[1][1]);for(let t=0;t<c;t++){const e=p+l+t*a,r=u-h+2*Math.random()*h,i=e-h+2*Math.random()*h,c=this.helper.ellipse(r,i,o,o,s);n.push(...c.ops)}}return{type:\"fillSketch\",ops:n}}}class r{constructor(t){this.helper=t}fillPolygons(t,e){const n=s(t,e);return{type:\"fillSketch\",ops:this.dashedLine(n,e)}}dashedLine(t,s){const n=s.dashOffset<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashOffset,a=s.dashGap<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashGap,o=[];return t.forEach((t=>{const h=e(t),r=Math.floor(h/(n+a)),i=(h+a-r*(n+a))/2;let c=t[0],l=t[1];c[0]>l[0]&&(c=t[1],l=t[0]);const u=Math.atan((l[1]-c[1])/(l[0]-c[0]));for(let t=0;t<r;t++){const e=t*(n+a),h=e+n,r=[c[0]+e*Math.cos(u)+i*Math.cos(u),c[1]+e*Math.sin(u)+i*Math.sin(u)],l=[c[0]+h*Math.cos(u)+i*Math.cos(u),c[1]+h*Math.sin(u)+i*Math.sin(u)];o.push(...this.helper.doubleLineOps(r[0],r[1],l[0],l[1],s))}})),o}}class i{constructor(t){this.helper=t}fillPolygons(t,e){const n=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,a=e.zigzagOffset<0?n:e.zigzagOffset,o=s(t,e=Object.assign({},e,{hachureGap:n+a}));return{type:\"fillSketch\",ops:this.zigzagLines(o,a,e)}}zigzagLines(t,s,n){const a=[];return t.forEach((t=>{const o=e(t),h=Math.round(o/(2*s));let r=t[0],i=t[1];r[0]>i[0]&&(r=t[1],i=t[0]);const c=Math.atan((i[1]-r[1])/(i[0]-r[0]));for(let t=0;t<h;t++){const e=2*t*s,o=2*(t+1)*s,h=Math.sqrt(2*Math.pow(s,2)),i=[r[0]+e*Math.cos(c),r[1]+e*Math.sin(c)],l=[r[0]+o*Math.cos(c),r[1]+o*Math.sin(c)],u=[i[0]+h*Math.cos(c+Math.PI/4),i[1]+h*Math.sin(c+Math.PI/4)];a.push(...this.helper.doubleLineOps(i[0],i[1],u[0],u[1],n),...this.helper.doubleLineOps(u[0],u[1],l[0],l[1],n))}})),a}}const c={};class l{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const u={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function p(t,e){return t.type===e}function f(t){const e=[],s=function(t){const e=new Array;for(;\"\"!==t;)if(t.match(/^([ \\t\\r\\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:0,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];e[e.length]={type:1,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length)}return e[e.length]={type:2,text:\"\"},e}(t);let n=\"BOD\",a=0,o=s[a];for(;!p(o,2);){let h=0;const r=[];if(\"BOD\"===n){if(\"M\"!==o.text&&\"m\"!==o.text)return f(\"M0,0\"+t);a++,h=u[o.text],n=o.text}else p(o,1)?h=u[n]:(a++,h=u[o.text],n=o.text);if(!(a+h<s.length))throw new Error(\"Path data ended short\");for(let t=a;t<a+h;t++){const e=s[t];if(!p(e,1))throw new Error(\"Param not a number: \"+n+\",\"+e.text);r[r.length]=+e.text}if(\"number\"!=typeof u[n])throw new Error(\"Bad segment: \"+n);{const t={key:n,data:r};e.push(t),a+=h,o=s[a],\"M\"===n&&(n=\"L\"),\"m\"===n&&(n=\"l\")}}return e}function d(t){let e=0,s=0,n=0,a=0;const o=[];for(const{key:h,data:r}of t)switch(h){case\"M\":o.push({key:\"M\",data:[...r]}),[e,s]=r,[n,a]=r;break;case\"m\":e+=r[0],s+=r[1],o.push({key:\"M\",data:[e,s]}),n=e,a=s;break;case\"L\":o.push({key:\"L\",data:[...r]}),[e,s]=r;break;case\"l\":e+=r[0],s+=r[1],o.push({key:\"L\",data:[e,s]});break;case\"C\":o.push({key:\"C\",data:[...r]}),e=r[4],s=r[5];break;case\"c\":{const t=r.map(((t,n)=>n%2?t+s:t+e));o.push({key:\"C\",data:t}),e=t[4],s=t[5];break}case\"Q\":o.push({key:\"Q\",data:[...r]}),e=r[2],s=r[3];break;case\"q\":{const t=r.map(((t,n)=>n%2?t+s:t+e));o.push({key:\"Q\",data:t}),e=t[2],s=t[3];break}case\"A\":o.push({key:\"A\",data:[...r]}),e=r[5],s=r[6];break;case\"a\":e+=r[5],s+=r[6],o.push({key:\"A\",data:[r[0],r[1],r[2],r[3],r[4],e,s]});break;case\"H\":o.push({key:\"H\",data:[...r]}),e=r[0];break;case\"h\":e+=r[0],o.push({key:\"H\",data:[e]});break;case\"V\":o.push({key:\"V\",data:[...r]}),s=r[0];break;case\"v\":s+=r[0],o.push({key:\"V\",data:[s]});break;case\"S\":o.push({key:\"S\",data:[...r]}),e=r[2],s=r[3];break;case\"s\":{const t=r.map(((t,n)=>n%2?t+s:t+e));o.push({key:\"S\",data:t}),e=t[2],s=t[3];break}case\"T\":o.push({key:\"T\",data:[...r]}),e=r[0],s=r[1];break;case\"t\":e+=r[0],s+=r[1],o.push({key:\"T\",data:[e,s]});break;case\"Z\":case\"z\":o.push({key:\"Z\",data:[]}),e=n,s=a}return o}function g(t){const e=[];let s=\"\",n=0,a=0,o=0,h=0,r=0,i=0;for(const{key:c,data:l}of t){switch(c){case\"M\":e.push({key:\"M\",data:[...l]}),[n,a]=l,[o,h]=l;break;case\"C\":e.push({key:\"C\",data:[...l]}),n=l[4],a=l[5],r=l[2],i=l[3];break;case\"L\":e.push({key:\"L\",data:[...l]}),[n,a]=l;break;case\"H\":n=l[0],e.push({key:\"L\",data:[n,a]});break;case\"V\":a=l[0],e.push({key:\"L\",data:[n,a]});break;case\"S\":{let t=0,o=0;\"C\"===s||\"S\"===s?(t=n+(n-r),o=a+(a-i)):(t=n,o=a),e.push({key:\"C\",data:[t,o,...l]}),r=l[0],i=l[1],n=l[2],a=l[3];break}case\"T\":{const[t,o]=l;let h=0,c=0;\"Q\"===s||\"T\"===s?(h=n+(n-r),c=a+(a-i)):(h=n,c=a);const u=n+2*(h-n)/3,p=a+2*(c-a)/3,f=t+2*(h-t)/3,d=o+2*(c-o)/3;e.push({key:\"C\",data:[u,p,f,d,t,o]}),r=h,i=c,n=t,a=o;break}case\"Q\":{const[t,s,o,h]=l,c=n+2*(t-n)/3,u=a+2*(s-a)/3,p=o+2*(t-o)/3,f=h+2*(s-h)/3;e.push({key:\"C\",data:[c,u,p,f,o,h]}),r=t,i=s,n=o,a=h;break}case\"A\":{const t=Math.abs(l[0]),s=Math.abs(l[1]),o=l[2],h=l[3],r=l[4],i=l[5],c=l[6];if(0===t||0===s)e.push({key:\"C\",data:[n,a,i,c,i,c]}),n=i,a=c;else if(n!==i||a!==c){k(n,a,i,c,t,s,o,h,r).forEach((function(t){e.push({key:\"C\",data:t})})),n=i,a=c}break}case\"Z\":e.push({key:\"Z\",data:[]}),n=o,a=h}s=c}return e}function M(t,e,s){return[t*Math.cos(s)-e*Math.sin(s),t*Math.sin(s)+e*Math.cos(s)]}function k(t,e,s,n,a,o,h,r,i,c){const l=(u=h,Math.PI*u/180);var u;let p=[],f=0,d=0,g=0,b=0;if(c)[f,d,g,b]=c;else{[t,e]=M(t,e,-l),[s,n]=M(s,n,-l);const h=(t-s)/2,c=(e-n)/2;let u=h*h/(a*a)+c*c/(o*o);u>1&&(u=Math.sqrt(u),a*=u,o*=u);const p=a*a,k=o*o,y=p*k-p*c*c-k*h*h,m=p*c*c+k*h*h,w=(r===i?-1:1)*Math.sqrt(Math.abs(y/m));g=w*a*c/o+(t+s)/2,b=w*-o*h/a+(e+n)/2,f=Math.asin(parseFloat(((e-b)/o).toFixed(9))),d=Math.asin(parseFloat(((n-b)/o).toFixed(9))),t<g&&(f=Math.PI-f),s<g&&(d=Math.PI-d),f<0&&(f=2*Math.PI+f),d<0&&(d=2*Math.PI+d),i&&f>d&&(f-=2*Math.PI),!i&&d>f&&(d-=2*Math.PI)}let y=d-f;if(Math.abs(y)>120*Math.PI/180){const t=d,e=s,r=n;d=i&&d>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=k(s=g+a*Math.cos(d),n=b+o*Math.sin(d),e,r,a,o,h,0,i,[d,t,g,b])}y=d-f;const m=Math.cos(f),w=Math.sin(f),x=Math.cos(d),P=Math.sin(d),v=Math.tan(y/4),O=4/3*a*v,S=4/3*o*v,L=[t,e],T=[t+O*w,e-S*m],D=[s+O*P,n-S*x],A=[s,n];if(T[0]=2*L[0]-T[0],T[1]=2*L[1]-T[1],c)return[T,D,A].concat(p);{p=[T,D,A].concat(p);const t=[];for(let e=0;e<p.length;e+=3){const s=M(p[e][0],p[e][1],l),n=M(p[e+1][0],p[e+1][1],l),a=M(p[e+2][0],p[e+2][1],l);t.push([s[0],s[1],n[0],n[1],a[0],a[1]])}return t}}const b={randOffset:function(t,e){return A(t,e)},randOffsetWithRange:function(t,e,s){return D(t,e,s)},ellipse:function(t,e,s,n,a){const o=P(s,n,a);return v(t,e,a,o).opset},doubleLineOps:function(t,e,s,n,a){return I(t,e,s,n,a,!0)}};function y(t,e,s,n,a){return{type:\"path\",ops:I(t,e,s,n,a)}}function m(t,e,s){const n=(t||[]).length;if(n>2){const a=[];for(let e=0;e<n-1;e++)a.push(...I(t[e][0],t[e][1],t[e+1][0],t[e+1][1],s));return e&&a.push(...I(t[n-1][0],t[n-1][1],t[0][0],t[0][1],s)),{type:\"path\",ops:a}}return 2===n?y(t[0][0],t[0][1],t[1][0],t[1][1],s):{type:\"path\",ops:[]}}function w(t,e,s,n,a){return function(t,e){return m(t,!0,e)}([[t,e],[t+s,e],[t+s,e+n],[t,e+n]],a)}function x(t,e){let s=_(t,1*(1+.2*e.roughness),e);if(!e.disableMultiStroke){const n=_(t,1.5*(1+.22*e.roughness),function(t){const e=Object.assign({},t);e.randomizer=void 0,t.seed&&(e.seed=t.seed+1);return e}(e));s=s.concat(n)}return{type:\"path\",ops:s}}function P(t,e,s){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),a=Math.ceil(Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*n)),o=2*Math.PI/a;let h=Math.abs(t/2),r=Math.abs(e/2);const i=1-s.curveFitting;return h+=A(h*i,s),r+=A(r*i,s),{increment:o,rx:h,ry:r}}function v(t,e,s,n){const[a,o]=z(n.increment,t,e,n.rx,n.ry,1,n.increment*D(.1,D(.4,1,s),s),s);let h=W(a,null,s);if(!s.disableMultiStroke&&0!==s.roughness){const[a]=z(n.increment,t,e,n.rx,n.ry,1.5,0,s),o=W(a,null,s);h=h.concat(o)}return{estimatedPoints:o,opset:{type:\"path\",ops:h}}}function O(t,e,s,n,a,o,h,r,i){const c=t,l=e;let u=Math.abs(s/2),p=Math.abs(n/2);u+=A(.01*u,i),p+=A(.01*p,i);let f=a,d=o;for(;f<0;)f+=2*Math.PI,d+=2*Math.PI;d-f>2*Math.PI&&(f=0,d=2*Math.PI);const g=2*Math.PI/i.curveStepCount,M=Math.min(g/2,(d-f)/2),k=E(M,c,l,u,p,f,d,1,i);if(!i.disableMultiStroke){const t=E(M,c,l,u,p,f,d,1.5,i);k.push(...t)}return h&&(r?k.push(...I(c,l,c+u*Math.cos(f),l+p*Math.sin(f),i),...I(c,l,c+u*Math.cos(d),l+p*Math.sin(d),i)):k.push({op:\"lineTo\",data:[c,l]},{op:\"lineTo\",data:[c+u*Math.cos(f),l+p*Math.sin(f)]})),{type:\"path\",ops:k}}function S(t,e){const s=[];for(const n of t)if(n.length){const t=e.maxRandomnessOffset||0,a=n.length;if(a>2){s.push({op:\"move\",data:[n[0][0]+A(t,e),n[0][1]+A(t,e)]});for(let o=1;o<a;o++)s.push({op:\"lineTo\",data:[n[o][0]+A(t,e),n[o][1]+A(t,e)]})}}return{type:\"fillPath\",ops:s}}function L(t,e){return function(t,e){let s=t.fillStyle||\"hachure\";if(!c[s])switch(s){case\"zigzag\":c[s]||(c[s]=new a(e));break;case\"cross-hatch\":c[s]||(c[s]=new o(e));break;case\"dots\":c[s]||(c[s]=new h(e));break;case\"dashed\":c[s]||(c[s]=new r(e));break;case\"zigzag-line\":c[s]||(c[s]=new i(e));break;case\"hachure\":default:s=\"hachure\",c[s]||(c[s]=new n(e))}return c[s]}(e,b).fillPolygons(t,e)}function T(t){return t.randomizer||(t.randomizer=new l(t.seed||0)),t.randomizer.next()}function D(t,e,s,n=1){return s.roughness*n*(T(s)*(e-t)+t)}function A(t,e,s=1){return D(-t,t,e,s)}function I(t,e,s,n,a,o=!1){const h=o?a.disableMultiStrokeFill:a.disableMultiStroke,r=C(t,e,s,n,a,!0,!1);if(h)return r;const i=C(t,e,s,n,a,!0,!0);return r.concat(i)}function C(t,e,s,n,a,o,h){const r=Math.pow(t-s,2)+Math.pow(e-n,2),i=Math.sqrt(r);let c=1;c=i<200?1:i>500?.4:-.0016668*i+1.233334;let l=a.maxRandomnessOffset||0;l*l*100>r&&(l=i/10);const u=l/2,p=.2+.2*T(a);let f=a.bowing*a.maxRandomnessOffset*(n-e)/200,d=a.bowing*a.maxRandomnessOffset*(t-s)/200;f=A(f,a,c),d=A(d,a,c);const g=[],M=()=>A(u,a,c),k=()=>A(l,a,c),b=a.preserveVertices;return o&&(h?g.push({op:\"move\",data:[t+(b?0:M()),e+(b?0:M())]}):g.push({op:\"move\",data:[t+(b?0:A(l,a,c)),e+(b?0:A(l,a,c))]})),h?g.push({op:\"bcurveTo\",data:[f+t+(s-t)*p+M(),d+e+(n-e)*p+M(),f+t+2*(s-t)*p+M(),d+e+2*(n-e)*p+M(),s+(b?0:M()),n+(b?0:M())]}):g.push({op:\"bcurveTo\",data:[f+t+(s-t)*p+k(),d+e+(n-e)*p+k(),f+t+2*(s-t)*p+k(),d+e+2*(n-e)*p+k(),s+(b?0:k()),n+(b?0:k())]}),g}function _(t,e,s){const n=[];n.push([t[0][0]+A(e,s),t[0][1]+A(e,s)]),n.push([t[0][0]+A(e,s),t[0][1]+A(e,s)]);for(let a=1;a<t.length;a++)n.push([t[a][0]+A(e,s),t[a][1]+A(e,s)]),a===t.length-1&&n.push([t[a][0]+A(e,s),t[a][1]+A(e,s)]);return W(n,null,s)}function W(t,e,s){const n=t.length,a=[];if(n>3){const o=[],h=1-s.curveTightness;a.push({op:\"move\",data:[t[1][0],t[1][1]]});for(let e=1;e+2<n;e++){const s=t[e];o[0]=[s[0],s[1]],o[1]=[s[0]+(h*t[e+1][0]-h*t[e-1][0])/6,s[1]+(h*t[e+1][1]-h*t[e-1][1])/6],o[2]=[t[e+1][0]+(h*t[e][0]-h*t[e+2][0])/6,t[e+1][1]+(h*t[e][1]-h*t[e+2][1])/6],o[3]=[t[e+1][0],t[e+1][1]],a.push({op:\"bcurveTo\",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(e&&2===e.length){const t=s.maxRandomnessOffset;a.push({op:\"lineTo\",data:[e[0]+A(t,s),e[1]+A(t,s)]})}}else 3===n?(a.push({op:\"move\",data:[t[1][0],t[1][1]]}),a.push({op:\"bcurveTo\",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===n&&a.push(...I(t[0][0],t[0][1],t[1][0],t[1][1],s));return a}function z(t,e,s,n,a,o,h,r){const i=[],c=[];if(0===r.roughness){t/=4,c.push([e+n*Math.cos(-t),s+a*Math.sin(-t)]);for(let o=0;o<=2*Math.PI;o+=t){const t=[e+n*Math.cos(o),s+a*Math.sin(o)];i.push(t),c.push(t)}c.push([e+n*Math.cos(0),s+a*Math.sin(0)]),c.push([e+n*Math.cos(t),s+a*Math.sin(t)])}else{const l=A(.5,r)-Math.PI/2;c.push([A(o,r)+e+.9*n*Math.cos(l-t),A(o,r)+s+.9*a*Math.sin(l-t)]);const u=2*Math.PI+l-.01;for(let h=l;h<u;h+=t){const t=[A(o,r)+e+n*Math.cos(h),A(o,r)+s+a*Math.sin(h)];i.push(t),c.push(t)}c.push([A(o,r)+e+n*Math.cos(l+2*Math.PI+.5*h),A(o,r)+s+a*Math.sin(l+2*Math.PI+.5*h)]),c.push([A(o,r)+e+.98*n*Math.cos(l+h),A(o,r)+s+.98*a*Math.sin(l+h)]),c.push([A(o,r)+e+.9*n*Math.cos(l+.5*h),A(o,r)+s+.9*a*Math.sin(l+.5*h)])}return[c,i]}function E(t,e,s,n,a,o,h,r,i){const c=o+A(.1,i),l=[];l.push([A(r,i)+e+.9*n*Math.cos(c-t),A(r,i)+s+.9*a*Math.sin(c-t)]);for(let o=c;o<=h;o+=t)l.push([A(r,i)+e+n*Math.cos(o),A(r,i)+s+a*Math.sin(o)]);return l.push([e+n*Math.cos(h),s+a*Math.sin(h)]),l.push([e+n*Math.cos(h),s+a*Math.sin(h)]),W(l,null,i)}function $(t,e,s,n,a,o,h,r){const i=[],c=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.3];let l=[0,0];const u=r.disableMultiStroke?1:2,p=r.preserveVertices;for(let f=0;f<u;f++)0===f?i.push({op:\"move\",data:[h[0],h[1]]}):i.push({op:\"move\",data:[h[0]+(p?0:A(c[0],r)),h[1]+(p?0:A(c[0],r))]}),l=p?[a,o]:[a+A(c[f],r),o+A(c[f],r)],i.push({op:\"bcurveTo\",data:[t+A(c[f],r),e+A(c[f],r),s+A(c[f],r),n+A(c[f],r),l[0],l[1]]});return i}function G(t){return[...t]}function R(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function q(t,e,s){const n=R(e,s);if(0===n)return R(t,e);let a=((t[0]-e[0])*(s[0]-e[0])+(t[1]-e[1])*(s[1]-e[1]))/n;return a=Math.max(0,Math.min(1,a)),R(t,j(e,s,a))}function j(t,e,s){return[t[0]+(e[0]-t[0])*s,t[1]+(e[1]-t[1])*s]}function F(t,e,s,n){const a=n||[];if(function(t,e){const s=t[e+0],n=t[e+1],a=t[e+2],o=t[e+3];let h=3*n[0]-2*s[0]-o[0];h*=h;let r=3*n[1]-2*s[1]-o[1];r*=r;let i=3*a[0]-2*o[0]-s[0];i*=i;let c=3*a[1]-2*o[1]-s[1];return c*=c,h<i&&(h=i),r<c&&(r=c),h+r}(t,e)<s){const s=t[e+0];if(a.length){(o=a[a.length-1],h=s,Math.sqrt(R(o,h)))>1&&a.push(s)}else a.push(s);a.push(t[e+3])}else{const n=.5,o=t[e+0],h=t[e+1],r=t[e+2],i=t[e+3],c=j(o,h,n),l=j(h,r,n),u=j(r,i,n),p=j(c,l,n),f=j(l,u,n),d=j(p,f,n);F([o,c,p,d],0,s,a),F([d,f,u,i],0,s,a)}var o,h;return a}function V(t,e){return Z(t,0,t.length,e)}function Z(t,e,s,n,a){const o=a||[],h=t[e],r=t[s-1];let i=0,c=1;for(let n=e+1;n<s-1;++n){const e=q(t[n],h,r);e>i&&(i=e,c=n)}return Math.sqrt(i)>n?(Z(t,e,c+1,n,o),Z(t,c,s,n,o)):(o.length||o.push(h),o.push(r)),o}function Q(t,e=.15,s){const n=[],a=(t.length-1)/3;for(let s=0;s<a;s++){F(t,3*s,e,n)}return s&&s>0?Z(n,0,n.length,s):n}const H=\"none\";class N{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:\"#000\",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:\"hachure\",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,s){return{shape:t,sets:e||[],options:s||this.defaultOptions}}line(t,e,s,n,a){const o=this._o(a);return this._d(\"line\",[y(t,e,s,n,o)],o)}rectangle(t,e,s,n,a){const o=this._o(a),h=[],r=w(t,e,s,n,o);if(o.fill){const a=[[t,e],[t+s,e],[t+s,e+n],[t,e+n]];\"solid\"===o.fillStyle?h.push(S([a],o)):h.push(L([a],o))}return o.stroke!==H&&h.push(r),this._d(\"rectangle\",h,o)}ellipse(t,e,s,n,a){const o=this._o(a),h=[],r=P(s,n,o),i=v(t,e,o,r);if(o.fill)if(\"solid\"===o.fillStyle){const s=v(t,e,o,r).opset;s.type=\"fillPath\",h.push(s)}else h.push(L([i.estimatedPoints],o));return o.stroke!==H&&h.push(i.opset),this._d(\"ellipse\",h,o)}circle(t,e,s,n){const a=this.ellipse(t,e,s,s,n);return a.shape=\"circle\",a}linearPath(t,e){const s=this._o(e);return this._d(\"linearPath\",[m(t,!1,s)],s)}arc(t,e,s,n,a,o,h=!1,r){const i=this._o(r),c=[],l=O(t,e,s,n,a,o,h,!0,i);if(h&&i.fill)if(\"solid\"===i.fillStyle){const h=Object.assign({},i);h.disableMultiStroke=!0;const r=O(t,e,s,n,a,o,!0,!1,h);r.type=\"fillPath\",c.push(r)}else c.push(function(t,e,s,n,a,o,h){const r=t,i=e;let c=Math.abs(s/2),l=Math.abs(n/2);c+=A(.01*c,h),l+=A(.01*l,h);let u=a,p=o;for(;u<0;)u+=2*Math.PI,p+=2*Math.PI;p-u>2*Math.PI&&(u=0,p=2*Math.PI);const f=(p-u)/h.curveStepCount,d=[];for(let t=u;t<=p;t+=f)d.push([r+c*Math.cos(t),i+l*Math.sin(t)]);return d.push([r+c*Math.cos(p),i+l*Math.sin(p)]),d.push([r,i]),L([d],h)}(t,e,s,n,a,o,i));return i.stroke!==H&&c.push(l),this._d(\"arc\",c,i)}curve(t,e){const s=this._o(e),n=[],a=x(t,s);if(s.fill&&s.fill!==H&&t.length>=3){const e=Q(function(t,e=0){const s=t.length;if(s<3)throw new Error(\"A curve must have at least three points.\");const n=[];if(3===s)n.push(G(t[0]),G(t[1]),G(t[2]),G(t[2]));else{const s=[];s.push(t[0],t[0]);for(let e=1;e<t.length;e++)s.push(t[e]),e===t.length-1&&s.push(t[e]);const a=[],o=1-e;n.push(G(s[0]));for(let t=1;t+2<s.length;t++){const e=s[t];a[0]=[e[0],e[1]],a[1]=[e[0]+(o*s[t+1][0]-o*s[t-1][0])/6,e[1]+(o*s[t+1][1]-o*s[t-1][1])/6],a[2]=[s[t+1][0]+(o*s[t][0]-o*s[t+2][0])/6,s[t+1][1]+(o*s[t][1]-o*s[t+2][1])/6],a[3]=[s[t+1][0],s[t+1][1]],n.push(a[1],a[2],a[3])}}return n}(t),10,(1+s.roughness)/2);\"solid\"===s.fillStyle?n.push(S([e],s)):n.push(L([e],s))}return s.stroke!==H&&n.push(a),this._d(\"curve\",n,s)}polygon(t,e){const s=this._o(e),n=[],a=m(t,!0,s);return s.fill&&(\"solid\"===s.fillStyle?n.push(S([t],s)):n.push(L([t],s))),s.stroke!==H&&n.push(a),this._d(\"polygon\",n,s)}path(t,e){const s=this._o(e),n=[];if(!t)return this._d(\"path\",n,s);t=(t||\"\").replace(/\\n/g,\" \").replace(/(-\\s)/g,\"-\").replace(\"/(ss)/g\",\" \");const a=s.fill&&\"transparent\"!==s.fill&&s.fill!==H,o=s.stroke!==H,h=!!(s.simplification&&s.simplification<1),r=function(t,e,s){const n=g(d(f(t))),a=[];let o=[],h=[0,0],r=[];const i=()=>{r.length>=4&&o.push(...Q(r,e)),r=[]},c=()=>{i(),o.length&&(a.push(o),o=[])};for(const{key:t,data:e}of n)switch(t){case\"M\":c(),h=[e[0],e[1]],o.push(h);break;case\"L\":i(),o.push([e[0],e[1]]);break;case\"C\":if(!r.length){const t=o.length?o[o.length-1]:h;r.push([t[0],t[1]])}r.push([e[0],e[1]]),r.push([e[2],e[3]]),r.push([e[4],e[5]]);break;case\"Z\":i(),o.push([h[0],h[1]])}if(c(),!s)return a;const l=[];for(const t of a){const e=V(t,s);e.length&&l.push(e)}return l}(t,1,h?4-4*s.simplification:(1+s.roughness)/2);return a&&(\"solid\"===s.fillStyle?n.push(S(r,s)):n.push(L(r,s))),o&&(h?r.forEach((t=>{n.push(m(t,!1,s))})):n.push(function(t,e){const s=g(d(f(t))),n=[];let a=[0,0],o=[0,0];for(const{key:t,data:h}of s)switch(t){case\"M\":{const t=1*(e.maxRandomnessOffset||0),s=e.preserveVertices;n.push({op:\"move\",data:h.map((n=>n+(s?0:A(t,e))))}),o=[h[0],h[1]],a=[h[0],h[1]];break}case\"L\":n.push(...I(o[0],o[1],h[0],h[1],e)),o=[h[0],h[1]];break;case\"C\":{const[t,s,a,r,i,c]=h;n.push(...$(t,s,a,r,i,c,o,e)),o=[i,c];break}case\"Z\":n.push(...I(o[0],o[1],a[0],a[1],e)),o=[a[0],a[1]]}return{type:\"path\",ops:n}}(t,s))),this._d(\"path\",n,s)}opsToPath(t,e){let s=\"\";for(const n of t.ops){const t=\"number\"==typeof e&&e>=0?n.data.map((t=>+t.toFixed(e))):n.data;switch(n.op){case\"move\":s+=`M${t[0]} ${t[1]} `;break;case\"bcurveTo\":s+=`C${t[0]} ${t[1]}, ${t[2]} ${t[3]}, ${t[4]} ${t[5]} `;break;case\"lineTo\":s+=`L${t[0]} ${t[1]} `}}return s.trim()}toPaths(t){const e=t.sets||[],s=t.options||this.defaultOptions,n=[];for(const t of e){let e=null;switch(t.type){case\"path\":e={d:this.opsToPath(t),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:H};break;case\"fillPath\":e={d:this.opsToPath(t),stroke:H,strokeWidth:0,fill:s.fill||H};break;case\"fillSketch\":e=this.fillSketch(t,s)}e&&n.push(e)}return n}fillSketch(t,e){let s=e.fillWeight;return s<0&&(s=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||H,strokeWidth:s,fill:H}}}class B{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext(\"2d\"),this.gen=new N(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.ctx,a=t.options.fixedDecimalPlaceDigits;for(const o of e)switch(o.type){case\"path\":n.save(),n.strokeStyle=\"none\"===s.stroke?\"transparent\":s.stroke,n.lineWidth=s.strokeWidth,s.strokeLineDash&&n.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(n.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(n,o,a),n.restore();break;case\"fillPath\":{n.save(),n.fillStyle=s.fill||\"\";const e=\"curve\"===t.shape||\"polygon\"===t.shape||\"path\"===t.shape?\"evenodd\":\"nonzero\";this._drawToContext(n,o,a,e),n.restore();break}case\"fillSketch\":this.fillSketch(n,o,s)}}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2),t.save(),s.fillLineDash&&t.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(t.lineDashOffset=s.fillLineDashOffset),t.strokeStyle=s.fill||\"\",t.lineWidth=n,this._drawToContext(t,e,s.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,s,n=\"nonzero\"){t.beginPath();for(const n of e.ops){const e=\"number\"==typeof s&&s>=0?n.data.map((t=>+t.toFixed(s))):n.data;switch(n.op){case\"move\":t.moveTo(e[0],e[1]);break;case\"bcurveTo\":t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);break;case\"lineTo\":t.lineTo(e[0],e[1])}}\"fillPath\"===e.type?t.fill(n):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,s,n,a){const o=this.gen.line(t,e,s,n,a);return this.draw(o),o}rectangle(t,e,s,n,a){const o=this.gen.rectangle(t,e,s,n,a);return this.draw(o),o}ellipse(t,e,s,n,a){const o=this.gen.ellipse(t,e,s,n,a);return this.draw(o),o}circle(t,e,s,n){const a=this.gen.circle(t,e,s,n);return this.draw(a),a}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s),s}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s),s}arc(t,e,s,n,a,o,h=!1,r){const i=this.gen.arc(t,e,s,n,a,o,h,r);return this.draw(i),i}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s),s}path(t,e){const s=this.gen.path(t,e);return this.draw(s),s}}const J=\"http://www.w3.org/2000/svg\";class K{constructor(t,e){this.svg=t,this.gen=new N(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,a=n.createElementNS(J,\"g\"),o=t.options.fixedDecimalPlaceDigits;for(const h of e){let e=null;switch(h.type){case\"path\":e=n.createElementNS(J,\"path\"),e.setAttribute(\"d\",this.opsToPath(h,o)),e.setAttribute(\"stroke\",s.stroke),e.setAttribute(\"stroke-width\",s.strokeWidth+\"\"),e.setAttribute(\"fill\",\"none\"),s.strokeLineDash&&e.setAttribute(\"stroke-dasharray\",s.strokeLineDash.join(\" \").trim()),s.strokeLineDashOffset&&e.setAttribute(\"stroke-dashoffset\",`${s.strokeLineDashOffset}`);break;case\"fillPath\":e=n.createElementNS(J,\"path\"),e.setAttribute(\"d\",this.opsToPath(h,o)),e.setAttribute(\"stroke\",\"none\"),e.setAttribute(\"stroke-width\",\"0\"),e.setAttribute(\"fill\",s.fill||\"\"),\"curve\"!==t.shape&&\"polygon\"!==t.shape||e.setAttribute(\"fill-rule\",\"evenodd\");break;case\"fillSketch\":e=this.fillSketch(n,h,s)}e&&a.appendChild(e)}return a}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2);const a=t.createElementNS(J,\"path\");return a.setAttribute(\"d\",this.opsToPath(e,s.fixedDecimalPlaceDigits)),a.setAttribute(\"stroke\",s.fill||\"\"),a.setAttribute(\"stroke-width\",n+\"\"),a.setAttribute(\"fill\",\"none\"),s.fillLineDash&&a.setAttribute(\"stroke-dasharray\",s.fillLineDash.join(\" \").trim()),s.fillLineDashOffset&&a.setAttribute(\"stroke-dashoffset\",`${s.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,s,n,a){const o=this.gen.line(t,e,s,n,a);return this.draw(o)}rectangle(t,e,s,n,a){const o=this.gen.rectangle(t,e,s,n,a);return this.draw(o)}ellipse(t,e,s,n,a){const o=this.gen.ellipse(t,e,s,n,a);return this.draw(o)}circle(t,e,s,n){const a=this.gen.circle(t,e,s,n);return this.draw(a)}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s)}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s)}arc(t,e,s,n,a,o,h=!1,r){const i=this.gen.arc(t,e,s,n,a,o,h,r);return this.draw(i)}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s)}path(t,e){const s=this.gen.path(t,e);return this.draw(s)}}var U={canvas:(t,e)=>new B(t,e),svg:(t,e)=>new K(t,e),generator:t=>new N(t),newSeed:()=>N.newSeed()};export{U as default};\n"],
  "mappings": "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AAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,SAAA,UAAA,aAAA,aAAA,UAAA,UAAA,aAAA,aAAA,UAAA,UAAA,aAAA,aAAA,UAAA,UAAA,aAAA,aAAA,UAAA,UAAA,aAAA,aAAA,UAAA,UAAA,aAAA,aAAA,UAAA,UAAA,aAAA,aAAA,UAAA,UAAA,aAAA,aAAA,SAAA,MAAA,MAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,QAAA,aAAA,SAAA,aAAA,aAAA,SAAA,SAAA,aAAA,aAAA,QAAA,OAAA,QAAA,aAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,QAAA,aAAA,QAAA,aAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,OAAA,aAAA,aAAA,OAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,SAAA,aAAA,QAAA,aAAA,aAAA,QAAA,QAAA,aAAA,aAAA,QAAA,QAAA,a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;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,GAAG;IACC,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,GAAG;IACC,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,GAAG;IACC,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,KAAK;IACL,KAAK;IACL,KAAK;IACL,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAO;EACf;EACI,IAAI;IACA,OAAO;IACP,MAAM;IACN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",
  "names": ["exports", "module", "has", "EventEmitter", "name", "i", "l", "length", "j", "exports", "parse", "parent", "key", "conditional", "loop", "exports", "buildStream", "readByte", "peekByte", "readBytes", "length", "peekBytes", "readString", "value", "readUnsigned", "readArray", "parent", "i", "subBitsTotal", "readBits", "key", "exports", "_", "i", "parent", "exports", "deinterlace", "width", "cpRow", "toRow", "fromRow", "exports", "lzw", "data", "i", "pi", "count", "require_lib", "exports", "parseGIF", "generatePatch", "i", "decompressFrame", "decompressFrames", "f", "setWebWorker", "getWebWorker", "setLocationHref", "value", "getLocationHref", "destination", "i", "object", "_typeof", "obj", "val", "h", "s", "v", "r", "g", "b", "f", "p", "q", "t", "max", "min", "d", "hex", "setSubframeEnabled", "getSubframeEnabled", "setExpressionsPlugin", "getExpressionsPlugin", "setExpressionInterfaces", "getExpressionInterfaces", "setDefaultCurveSegments", "getDefaultCurveSegments", "setIdPrefix", "getIdPrefix", "data", "e", "j", "k", "comp", "animationData", "loadAnimation", "ob", "keys", "_", "name", "registerRenderer", "key", "AnimationItem", "expressionsPlugin", "width", "height", "index", "searchAnimations", "standalone", "renderer", "div", "a", "c", "A", "B", "C", "get", "x", "x1", "y1", "x2", "y2", "point", "length", "time", "w", "y", "z", "elem", "clone", "initFrame", "setVValue", "processEffectsSequence", "addEffect", "scale", "l", "m", "n", "o", "transform", "e2", "g2", "pair", "bez", "count", "tan", "text", "sum", "Font", "sourceRectAtTime", "mode", "expressionsInterfaces", "LayerExpressionInterface", "EffectsExpressionInterface", "ShapeExpressionInterface", "TextExpressionInterface", "CompExpressionInterface", "globalData", "getType", "FootageInterface", "hierarchy", "mask", "effect", "position", "buildShapeString", "iterations", "lumaLoader", "buffer", "t2", "flatten", "prng", "seed", "BMMath", "wiggle", "MaskManager", "maskFunction", "property", "toWorld", "fromWorld", "fromComp", "groupInterface", "len", "interfaces", "content", "outlineInterfaceFactory", "dataInterfaceFactory", "velocity", "loopOut", "loopIn", "smooth", "rotation", "vertices", "gamma", "array", "n", "t", "j", "i", "identity_default", "x", "transform_default", "transform", "identity_default", "x0", "y0", "i", "j", "n", "o", "feature", "transform_default", "i", "a", "k", "n", "point", "p", "arcs", "t", "transform_default", "key", "x0", "y0", "x1", "y1", "p", "o", "i", "n", "i", "j", "t", "e", "f", "g", "fragmentByEnd", "fragmentByStart", "k", "object", "i", "n", "j", "arcs", "o", "i", "n", "a", "b", "merge_default", "o", "polygon", "polygons", "k", "t", "bisect_default", "a", "x", "i", "a", "o", "m", "j", "k", "n", "bisect_default", "transform", "identity_default", "x0", "y0", "i", "j", "n", "x1", "y1", "transform", "n", "x0", "y0", "x1", "y1", "t", "key", "point", "i", "j", "p", "merge_default", "transform_default", "hasOwnProperty", "bounds_default", "x0", "y0", "x1", "y1", "hasOwnProperty", "o", "x", "y", "key", "mask", "i", "add", "value", "index", "has", "values", "n", "mask", "i", "key", "value", "index", "get", "keys", "n", "point", "index", "i", "n", "previousIndex", "currentIndex", "nextIndex", "indexes", "j", "i", "n", "array", "t", "i", "n", "point", "i", "n", "j", "k", "m", "point", "x0", "y0", "x1", "y1", "index", "hasOwnProperty", "o", "i", "n", "rings", "key", "key", "n", "x0", "y0", "x1", "y1", "m", "i", "j", "pi", "x", "y", "o", "hasOwnProperty", "key", "bounds_default", "transform", "i", "hasOwnProperty", "o", "index", "key", "j", "t", "src_exports", "init_src", "exports", "module", "a", "b", "e2", "ls", "exports", "module", "i", "j", "k", "g", "l", "featureEach", "geomEach", "flatten", "gj", "type", "features", "reduce", "mem", "feature", "concat", "geometry", "map", "geom", "data", "properties", "JSON", "parse", "stringify", "id", "coordinates", "_", "geometries", "memo", "geoms", "exports", "module", "geomEach", "flatten", "i", "o", "exports", "module", "point", "require_lib", "exports", "module", "index", "i", "d", "exports", "module", "j", "k", "l", "i", "exports", "module", "keys", "e", "i", "key", "point", "feature", "value", "j", "sum", "n", "exports", "module", "keys", "e", "feature", "f", "value", "val", "i", "p", "d", "j", "k", "exports", "exports", "buffer", "e", "m", "i", "d", "s", "value", "c", "exports", "module", "val", "b", "buffer", "min", "length", "i", "l", "s", "p", "h", "c", "value", "value", "value", "value", "value", "value", "value", "value", "value", "value", "value", "value", "value", "value", "value", "value", "value", "value", "key", "p", "value", "value", "length", "index", "key", "key", "length", "index", "value", "keys", "k", "v", "a", "b", "i", "key", "key", "i", "val", "max", "i", "value", "min", "a", "b", "random", "j", "x", "LoggerLevel", "h", "index", "a", "b", "a", "x", "f", "b", "i", "value", "x1", "x2", "clamp", "min", "max", "a", "b", "t", "x", "time", "wait", "value", "value", "hasOwnProperty", "object", "key", "i", "n", "range", "a", "n", "i", "a", "b", "abs", "val", "i", "range", "min", "max", "a", "b", "t", "d", "i", "s", "q", "o", "v", "value", "seedRandom", "x", "x1", "y1", "x2", "y2", "t", "y", "crossProduct", "a", "b", "i", "a", "b", "x", "y", "x1", "y1", "p", "point", "t", "point", "x", "y", "width", "height", "sin", "cos", "sub", "min2", "max2", "t", "crossProduct", "x12", "y12", "InnerBBox", "point", "x", "y", "point", "i", "p", "x", "y", "w", "p2", "x0", "y0", "x1", "y1", "t", "a", "b", "text", "x", "y", "scale", "text", "e", "i", "s", "x1", "x2", "y1", "y2", "a", "b", "p", "x1", "y1", "x2", "y2", "b", "x1", "y1", "x2", "y2", "x", "y", "d", "p", "s", "cos", "sin", "Matrix", "a", "b", "c", "d", "e", "f", "m", "s", "cos", "sin", "x", "y", "e2", "t", "scale", "r", "ob", "hslToRgb", "h", "s", "l", "c", "x", "m", "r", "g", "b", "rgbToHsl", "r", "g", "b", "h", "s", "l", "value", "c", "hex", "b", "o", "rgb", "hslToRgb", "k", "r", "g", "h", "s", "l", "rgbToHsl", "name", "R", "G", "B", "hslToRgb", "rgbToHex", "rgbToHsl", "r", "g", "b", "i", "rgbToHex", "r", "g", "b", "t", "r", "g", "b", "length", "e", "x", "y", "key", "value", "_", "keys", "d", "p", "i", "n", "s", "y", "m", "name", "value", "width", "sign", "length", "j", "c", "Z", "pad", "x", "p", "i", "value", "width", "i", "t", "j", "g", "length", "x", "p", "d", "exponent", "i", "n", "x", "p", "d", "exponent", "s", "n", "i", "value", "sign", "zero", "width", "i", "n", "c", "length", "e", "k", "f", "x", "p", "key", "t", "isObject", "point", "i", "j", "p", "radians", "p", "i", "a", "b", "j", "circle", "width", "point", "k", "r", "d", "h", "x0", "y0", "x", "r", "i", "y", "a", "scale", "value", "c", "j", "f", "x0", "N", "i", "point", "value", "a", "b", "x", "j", "f", "a", "phi", "f", "a", "i", "temp", "scale", "name", "i", "f", "object", "value", "width", "s", "length", "text", "N", "I", "n", "t", "j", "c", "x", "object", "i", "n", "y", "add", "a", "b", "x", "epsilon", "epsilon2", "pi", "halfPi", "tau", "abs", "atan2", "cos", "log", "pow", "sin", "x", "sqrt", "acos", "pi", "asin", "halfPi", "abs", "x", "y", "x0", "y0", "x1", "y1", "x", "y", "x00", "y00", "x0", "y0", "x", "y", "z", "sqrt", "_", "x", "y", "tau", "x00", "y00", "x0", "y0", "length", "x", "y", "sqrt", "_", "x", "y", "projection", "object", "_", "x", "y", "m", "a", "b", "abs", "epsilon", "point", "compareIntersection", "i", "n", "x", "epsilon", "array", "a", "b", "cartesian", "atan2", "asin", "spherical", "phi", "cos", "sin", "a", "b", "k", "d", "l", "sqrt", "sum", "point", "abs", "pi", "tau", "phi", "sin", "cos", "halfPi", "epsilon", "i", "n", "m", "j", "sign", "k", "atan2", "asin", "a", "b", "compare", "a", "x", "f", "d", "array", "e10", "e5", "e2", "n", "m", "i", "j", "array", "point", "phi", "i", "n", "m", "a", "b", "halfPi", "epsilon", "pi", "halfPi", "abs", "epsilon", "sin", "cos", "phi", "a", "b", "x", "y", "phi", "abs", "pi", "tau", "rotation", "cos", "sin", "x", "y", "z", "k", "atan2", "asin", "cos", "sin", "tau", "point", "t", "acos", "epsilon", "cos", "abs", "epsilon", "phi", "v", "c", "pi", "t", "a", "b", "A", "B", "u", "w", "sqrt", "q", "z", "delta", "r", "code", "a", "b", "x0", "y0", "x1", "y1", "r", "x0", "y0", "x1", "y1", "x", "y", "a", "p", "abs", "epsilon", "compareIntersection", "b", "point", "i", "n", "ring", "j", "m", "visible", "v", "s", "key", "x", "y", "projection", "object", "extent", "b", "w", "h", "k", "x", "y", "width", "height", "cos", "x", "y", "x0", "y0", "x1", "y1", "a", "b", "c", "m", "sqrt", "asin", "abs", "epsilon", "atan2", "p", "x2", "y2", "x00", "y00", "point", "phi", "x", "y", "r", "k", "transform", "cos", "sin", "a", "b", "phi", "x0", "y0", "x1", "y1", "projection", "point", "_", "sqrt", "extent", "object", "width", "height", "pi", "m", "p", "_", "cos", "phi", "sin", "x", "y", "asin", "y0", "y1", "sin", "n", "abs", "epsilon", "c", "sqrt", "x", "y", "r", "cos", "l", "atan2", "pi", "asin", "n", "x", "y", "i", "point", "k", "t", "_", "epsilon", "extent", "object", "width", "height", "scale", "x", "y", "cos", "k", "sin", "z", "sqrt", "c", "atan2", "asin", "sqrt", "z", "asin", "c", "acos", "sin", "z", "phi", "log", "halfPi", "x", "y", "tau", "m", "scale", "x0", "y0", "x1", "y1", "_", "k", "pi", "t", "y", "halfPi", "y0", "y1", "cos", "n", "sin", "log", "f", "pow", "x", "epsilon", "r", "sqrt", "l", "atan2", "abs", "pi", "phi", "y0", "y1", "cos", "n", "sin", "g", "abs", "epsilon", "x", "y", "l", "atan2", "pi", "sqrt", "sqrt", "phi", "l", "asin", "sin", "l2", "cos", "x", "y", "i", "abs", "epsilon2", "x", "y", "cos", "k", "sin", "identity_default", "k", "x0", "y0", "x1", "y1", "transform", "x", "y", "p", "projection", "t", "_", "sin", "cos", "extent", "object", "width", "height", "phi", "phi2", "x", "y", "i", "abs", "epsilon", "x", "y", "cos", "sin", "asin", "epsilon", "x", "y", "cos", "k", "sin", "z", "phi", "log", "halfPi", "x", "y", "m", "_", "areaRingSum", "areaSum", "lengthSum", "bisect", "epsilon", "max", "median", "min", "quantileSorted", "sign", "sum", "variance", "data", "let", "m", "b", "const", "point", "x", "y", "i", "n", "v", "j", "k", "last", "value", "a", "index", "mode", "p", "z", "s", "t", "r", "l", "u", "mean", "length", "sample", "w", "val", "pair", "temp", "variance2", "pooledSamples", "tiedRanks", "BayesianClassifier", "PerceptronModel", "score", "train", "c", "SQRT_2PI", "stddev", "standardDeviation", "tau", "d", "clone", "key", "value", "feature", "g", "sum", "i", "i", "i", "j", "g", "isObject", "reverse", "feature", "i", "es_default", "feature", "es_default", "sum", "i", "index", "i", "index", "i", "n", "index", "index", "sum_default", "value", "sum", "i", "compare", "path_default", "k", "a", "b", "c", "i", "n", "data", "i", "n", "d", "height", "sum_default", "path_default", "parent", "x0", "y0", "x1", "y1", "i", "n", "k", "i", "parent", "x0", "y0", "x1", "y1", "i", "n", "k", "parent", "x0", "y0", "x1", "y1", "n", "value", "x", "custom", "parent", "x0", "y0", "x1", "y1", "i", "j", "n", "m", "value", "x", "t", "e", "s", "n", "a", "o", "h", "r", "i", "c", "l", "u", "p", "g", "f", "d", "M", "b", "k", "y", "m", "w", "x", "P", "v", "O", "S", "L", "T", "D", "A"]
}
