{"version":3,"sources":["../src/util/text.ts"],"names":[],"mappings":";;;AACA,yDAAqE;AACrE,6CAA2C;AAE3C,SAAgB,OAAO,CAAC,OAA6B,EAAE,GAAG,UAA+B;IACvF,OAAO;QACL,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAA,kBAAU,EACd,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE;YAC9B,OAAO,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,CAAC,EAAE,EAAE,CAAC,CACP;KACF,CAAC;AACJ,CAAC;AATD,0BASC;AAED,SAAgB,OAAO,CACrB,QAA8F;IAE9F,OAAO;QACL,IAAI,EAAE,MAAM;QACZ,IAAI,EACF,QAAQ,YAAY,uBAAQ;YAC1B,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU;YAC/B,CAAC,CAAC,IAAA,gBAAO,EAAC,QAAQ,CAAC;gBACnB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oBACnB,OAAQ,KAAyD,CAAC,IAAI;wBACpE,CAAC,CAAE,KAAyD,CAAC,SAAS;wBACtE,CAAC,CAAC,KAAK,CAAC;gBACZ,CAAC,CAAC;gBACJ,CAAC,CAAC,EAAE;KACT,CAAC;AACJ,CAAC;AAhBD,0BAgBC","file":"text.js","sourcesContent":["import type { IRichText, IRichTextCharacter } from '@visactor/vrender-core';\nimport { xul as vRenderXul, RichText } from '@visactor/vrender-core';\nimport { isArray } from '@visactor/vutils';\n\nexport function richXul(strings: TemplateStringsArray, ...insertVars: (string | number)[]) {\n  return {\n    type: 'rich',\n    text: vRenderXul(\n      strings.reduce((res, temp, i) => {\n        return res + temp + (i >= insertVars.length ? '' : insertVars[i]);\n      }, '')\n    )\n  };\n}\n\nexport function richJsx(\n  richText: IRichText | { attribute: IRichTextCharacter; type: string }[] | IRichTextCharacter[]\n) {\n  return {\n    type: 'rich',\n    text:\n      richText instanceof RichText\n        ? richText.attribute.textConfig\n        : isArray(richText)\n        ? richText.map(entry => {\n            return (entry as { attribute: IRichTextCharacter; type: string }).type\n              ? (entry as { attribute: IRichTextCharacter; type: string }).attribute\n              : entry;\n          })\n        : []\n  };\n}\n"]}