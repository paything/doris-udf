{"version":3,"sources":["../src/semantic-marks/text.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,gBAAgB,CAAC;AAEjD,OAAO,EAAE,IAAI,EAAE,MAAM,cAAc,CAAC;AACpC,OAAO,EAAE,iBAAiB,EAAE,MAAM,uBAAuB,CAAC;AAE1D,MAAM,OAAO,IAAK,SAAQ,IAAI;IAK5B,cAAc,CAAC,SAAc,EAAE,QAAiB;QAC9C,MAAM,aAAa,GAAG,SAAS,IAAI,SAAS,CAAC,UAAU,CAAC;QAExD,MAAM,MAAM,GACV,aAAa;YACb,CAAC,aAAa,CAAC,QAAQ,KAAK,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,IAAI,aAAa,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;QAEpG,MAAM,WAAW,GAAG,iBAAiB,CACnC,IAAa,EACb,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,EACxD,SAAS,CACV,CAAC;QAEF,OAAO,KAAK,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAC;IAChE,CAAC;IAED,OAAO;QACL,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;;AAtBM,aAAQ,GAAG,eAAe,CAAC,IAAI,CAAC","file":"text.js","sourcesContent":["import { GrammarMarkType } from '../graph/enums';\nimport type { IMark, MarkSpec } from '../types';\nimport { Mark } from '../view/mark';\nimport { createGraphicItem } from '../graph/util/graphic';\n\nexport class Text extends Mark {\n  static markType = GrammarMarkType.text;\n  declare markType: GrammarMarkType.text;\n  protected declare spec: MarkSpec;\n\n  addGraphicItem(initAttrs: any, groupKey?: string) {\n    const originalAttrs = initAttrs && initAttrs.limitAttrs;\n\n    const isRich =\n      originalAttrs &&\n      (originalAttrs.textType === 'rich' || (originalAttrs.text && originalAttrs.text.type === 'rich'));\n\n    const graphicItem = createGraphicItem(\n      this as IMark,\n      isRich ? GrammarMarkType.richtext : GrammarMarkType.text,\n      initAttrs\n    );\n\n    return super.addGraphicItem(initAttrs, groupKey, graphicItem);\n  }\n\n  release(): void {\n    super.release();\n  }\n}\n"]}