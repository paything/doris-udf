{"version":3,"sources":["../src/data/transforms/obj-flat.ts"],"names":[],"mappings":";;;AAIO,MAAM,OAAO,GAAG,CAAC,IAAqB,EAAE,EAAU,EAAE,EAAE;;IAE3D,MAAM,WAAW,GAAG,CAAA,MAAA,IAAI,CAAC,CAAC,CAAC,0CAAE,UAAU,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;IAC1E,MAAM,MAAM,GAAU,EAAE,CAAC;IACzB,WAAW,CAAC,OAAO,CAAC,CAAC,KAAU,EAAE,EAAE;QACjC,MAAM,OAAO,GAAQ,EAAE,CAAC;QACxB,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE;YACvB,IAAI,GAAG,KAAK,EAAE,EAAE;gBACd,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;aAC3B;SACF;QACD,MAAM,MAAM,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;QACzB,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,OAAO,CAAC,CAAC,CAAM,EAAE,EAAE;YACzB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC;AAjBW,QAAA,OAAO,WAiBlB","file":"obj-flat.js","sourcesContent":["import type { DataView } from '@visactor/vdataset';\n/**\n * @description 针对某个数组进行数据展开，将数组中的每个元素拆出来加入数据集\n */\nexport const objFlat = (data: Array<DataView>, op: string) => {\n  // 数据处理\n  const dataCollect = data[0]?.latestData ? data[0].latestData : data || [];\n  const result: any[] = [];\n  dataCollect.forEach((datum: any) => {\n    const dataKey: any = {};\n    for (const key in datum) {\n      if (key !== op) {\n        dataKey[key] = datum[key];\n      }\n    }\n    const dataOp = datum[op];\n    dataOp?.forEach((d: any) => {\n      result.push(Object.assign({}, dataKey, d));\n    });\n  });\n  return result;\n};\n"]}