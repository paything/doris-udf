{"version":3,"sources":["../src/ts-types/menu.ts"],"names":[],"mappings":"","file":"menu.js","sourcesContent":["import type { ICellHeaderPaths, IDimensionInfo, RectProps } from './common';\nimport type { CellLocation, FieldData, FieldDef } from './table-engine';\nimport type { Placement } from './table-engine';\n\nexport interface DropDownMenuHighlightInfo {\n  /** 设置下拉状态所在单元格列号 */\n  col?: number;\n  /** 设置下拉状态所在单元格行号 */\n  row?: number;\n  /** 设置下拉状态对应的字段名，或者透视表的话需设置维度信息 */\n  field?: string | IDimensionInfo[];\n  /** 指定下拉菜单项的key值 */\n  menuKey?: string;\n}\n\ntype Icon = {\n  width?: number;\n  height?: number;\n  svg?: string;\n  // dropDownIndex?: number;\n};\n\nexport type MenuListItem =\n  | string\n  | {\n      text?: string;\n      type?: 'title' | 'item' | 'split';\n      menuKey?: string;\n      icon?: Icon;\n      selectedIcon?: Icon;\n      stateIcon?: Icon;\n      children?: MenuListItem[];\n      disabled?: boolean; // 禁用菜单项\n    };\n\nexport type PivotInfo = {\n  value: string;\n  dimensionKey: string;\n  isPivotCorner: boolean;\n  customInfo?: any;\n};\n\nexport type MenuInstanceInfo = {\n  type: MenuInstanceType;\n  content: HTMLElement | MenuListItem[];\n  /**指定下拉菜单框左上角的位置 如：右键下拉菜单 基于鼠标位置定位下拉菜单 */\n  position?: {\n    x: number;\n    y: number;\n  };\n  /** 传入相对区域 如：按钮点击后弹出的下拉菜单 会基于这个按钮对下拉菜单进行定位 */\n  referencePosition?: { rect: RectProps; placement?: Placement };\n  pivotInfo?: PivotInfo;\n};\n\nexport type MenuInstanceType = 'dropdown-menu' | 'context-menu' | 'container';\n\n/** 显示下拉菜单设置项 或者显示指定dom内容 */\nexport type DropDownMenuOptions = {\n  // menuList?: MenuListItem[];\n  content: HTMLElement | MenuListItem[];\n  position?: { x: number; y: number };\n  referencePosition?: {\n    rect: RectProps;\n    /** 目前下拉菜单右对齐icon，指定位置暂未实现  */\n    placement?: Placement;\n  };\n};\n\nexport type DropDownMenuEventArgs = {\n  col: number;\n  row: number;\n  menuKey: string;\n  text: string;\n  highlight: boolean;\n} & DropDownMenuEventInfo;\n\nexport type DropDownMenuEventInfo = {\n  field?: FieldDef;\n  /**format之后的值 */\n  value?: FieldData;\n  /**原始值 */\n  dataValue?: FieldData;\n  // fieldKey: FieldKeyDef;\n  subIndex?: number;\n\n  dimensionKey?: string | number;\n  isPivotCorner?: boolean;\n  customInfo?: any;\n\n  cellHeaderPaths?: ICellHeaderPaths;\n  cellLocation: CellLocation;\n  event: Event;\n};\n"]}