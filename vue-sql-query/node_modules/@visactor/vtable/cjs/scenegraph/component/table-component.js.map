{"version":3,"sources":["../src/scenegraph/component/table-component.ts"],"names":[],"mappings":"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","file":"table-component.js","sourcesContent":["import { theme } from './../../themes';\nimport type { ILine, IRect, IGroup, FederatedPointerEvent, Text, IText } from './../../vrender';\nimport { createRect, createLine, createText, createGroup, createSymbol } from './../../vrender';\nimport { ScrollBar } from './../../vrender';\nimport type { Group } from '../graphic/group';\nimport { MenuHandler } from './menu';\nimport { DrillIcon } from './drill-icon';\nimport { CellMover } from './cell-mover';\nimport { getColX, getRowY } from './util';\nimport type { BaseTableAPI } from '../../ts-types/base-table';\nimport { isValid } from '@visactor/vutils';\n\n/**\n * @description: 表格内容外组件\n * @return {*}\n */\nexport class TableComponent {\n  table: BaseTableAPI;\n\n  border: IRect; // 表格外边框\n  // selectBorder: IRect; // 表格选择区域边框\n  columnResizeLine: ILine; // 表格列宽调整基准线\n  columnResizeBgLine: ILine; // 表格列宽调整基准线背景\n  columnResizeLabel: IGroup; // 表格列宽调整标记\n  rowResizeLine: ILine; // 表格列宽调整基准线\n  rowResizeBgLine: ILine; // 表格列宽调整基准线背景\n  rowResizeLabel: IGroup; // 表格列宽调整标记\n  menu: MenuHandler; // 表格菜单\n  vScrollBar: ScrollBar; // 表格横向滚动条\n  hScrollBar: ScrollBar; // 表格纵向滚动条\n  frozenShadowLine: IRect; // 表格冻结列右侧阴影块\n  rightFrozenShadowLine: IRect; // 表格右侧冻结列左侧阴影块\n  drillIcon: DrillIcon; // drill icon\n  cellMover: CellMover; // 表格列顺序调整标记\n  labelVisible: boolean; // 是否显示label\n  constructor(table: BaseTableAPI) {\n    this.table = table;\n    const theme = this.table.theme;\n\n    // 滚动条\n    this.createScrollBar();\n\n    // 列宽调整基准线\n    const columnResizeColor = theme.columnResize?.lineColor;\n    const columnResizeWidth = theme.columnResize?.lineWidth;\n    const columnResizeBgColor = theme.columnResize?.bgColor;\n    const columnResizeBgWidth = theme.columnResize?.width;\n    const labelVisible = theme.columnResize?.labelVisible ?? true;\n    const labelColor = theme.columnResize?.labelColor;\n    const labelFontSize = theme.columnResize?.labelFontSize;\n    const labelFontFamily = theme.columnResize?.labelFontFamily;\n    const labelBackgroundFill = theme.columnResize?.labelBackgroundFill;\n    const labelBackgroundCornerRadius = theme.columnResize?.labelBackgroundCornerRadius;\n\n    this.labelVisible = labelVisible;\n\n    this.columnResizeLine = createLine({\n      visible: false,\n      pickable: false,\n      stroke: columnResizeColor as string,\n      lineWidth: columnResizeWidth as number,\n      x: 0,\n      y: 0,\n      points: [\n        { x: 0, y: 0 },\n        { x: 0, y: 0 }\n      ]\n    });\n    this.columnResizeBgLine = createLine({\n      visible: false,\n      pickable: false,\n      stroke: columnResizeBgColor as string,\n      lineWidth: columnResizeBgWidth as number,\n      x: 0,\n      y: 0,\n      // dx: -(columnResizeBgWidth - columnResizeWidth) / 2,\n      points: [\n        { x: 0, y: 0 },\n        { x: 0, y: 0 }\n      ]\n    });\n\n    const columnResizeLabelText = createText({\n      visible: false,\n      pickable: false,\n      x: 0,\n      y: 0,\n      fontSize: labelFontSize, // 10\n      fill: labelColor,\n      fontFamily: labelFontFamily,\n      text: '',\n      textBaseline: 'top',\n      dx: 12 + 4,\n      dy: -labelFontSize / 2\n    });\n    const columnResizeLabelBack = createRect({\n      visible: false,\n      pickable: false,\n      fill: labelBackgroundFill,\n      x: 0,\n      y: 0,\n      width: 5 * labelFontSize * 0.8,\n      height: labelFontSize + 8,\n      cornerRadius: labelBackgroundCornerRadius,\n      dx: 12,\n      dy: -labelFontSize / 2 - 4\n    });\n    this.columnResizeLabel = createGroup({\n      visible: false,\n      pickable: false,\n      x: 0,\n      y: 0\n    });\n    this.columnResizeLabel.appendChild(columnResizeLabelBack);\n    this.columnResizeLabel.appendChild(columnResizeLabelText);\n\n    this.rowResizeLine = createLine({\n      visible: false,\n      pickable: false,\n      stroke: columnResizeColor as string,\n      lineWidth: columnResizeWidth as number,\n      x: 0,\n      y: 0,\n      points: [\n        { x: 0, y: 0 },\n        { x: 0, y: 0 }\n      ]\n    });\n    this.rowResizeBgLine = createLine({\n      visible: false,\n      pickable: false,\n      stroke: columnResizeBgColor as string,\n      lineWidth: columnResizeBgWidth as number,\n      x: 0,\n      y: 0,\n      // dx: -(columnResizeBgWidth - columnResizeWidth) / 2,\n      points: [\n        { x: 0, y: 0 },\n        { x: 0, y: 0 }\n      ]\n    });\n\n    // 列宽调整文字标签\n    const rowResizeLabelText = createText({\n      visible: false,\n      pickable: false,\n      x: 0,\n      y: 0,\n      fontSize: labelFontSize, // 10\n      fill: labelColor,\n      fontFamily: labelFontFamily,\n      text: '',\n      textBaseline: 'top',\n      dx: 12 + 4,\n      dy: -labelFontSize / 2\n    });\n    const rowResizeLabelBack = createRect({\n      visible: false,\n      pickable: false,\n      fill: labelBackgroundFill,\n      x: 0,\n      y: 0,\n      width: 5 * labelFontSize * 0.8,\n      height: labelFontSize + 8,\n      cornerRadius: labelBackgroundCornerRadius,\n      dx: 12,\n      dy: -labelFontSize / 2 - 4\n    });\n    this.rowResizeLabel = createGroup({\n      visible: false,\n      pickable: false,\n      x: 0,\n      y: 0\n    });\n    this.rowResizeLabel.appendChild(rowResizeLabelBack);\n    this.rowResizeLabel.appendChild(rowResizeLabelText);\n    // 列顺序调整基准线\n    this.cellMover = new CellMover(this.table);\n\n    // 冻结列阴影\n    const shadowWidth = theme.frozenColumnLine?.shadow?.width;\n    const shadowStartColor = theme.frozenColumnLine?.shadow?.startColor;\n    const shadowEndColor = theme.frozenColumnLine?.shadow?.endColor;\n    const visible = theme.frozenColumnLine?.shadow?.visible;\n    this.frozenShadowLine = createRect({\n      visible: visible === 'always',\n      pickable: false,\n      x: 0,\n      y: 0,\n      width: shadowWidth,\n      height: 0,\n      fill: {\n        gradient: 'linear',\n        x0: 0,\n        y0: 0,\n        x1: 1,\n        y1: 0,\n        stops: [\n          { color: shadowStartColor, offset: 0 },\n          { color: shadowEndColor, offset: 1 }\n        ]\n      }\n    });\n    this.rightFrozenShadowLine = createRect({\n      visible: visible === 'always',\n      pickable: false,\n      x: 0,\n      y: 0,\n      width: shadowWidth,\n      height: 0,\n      fill: {\n        gradient: 'linear',\n        x0: 0,\n        y0: 0,\n        x1: 1,\n        y1: 0,\n        stops: [\n          { color: shadowEndColor, offset: 0 },\n          { color: shadowStartColor, offset: 1 }\n        ]\n      }\n    });\n\n    // TO BE DONE 冻结列border(theme.frozenColumnLine?.border)\n\n    // 弹出窗口\n    // this.menu = createGroup({\n    //   visible: false,\n    //   pickable: false,\n    //   x: 0,\n    //   y: 0,\n    // });\n    this.menu = new MenuHandler(this.table);\n\n    this.drillIcon = new DrillIcon();\n  }\n\n  /**\n   * @description: 组件mark加入到容器Group中\n   * @param {Group} componentGroup\n   * @return {*}\n   */\n  addToGroup(componentGroup: Group) {\n    componentGroup.addChild(this.frozenShadowLine);\n    componentGroup.addChild(this.rightFrozenShadowLine);\n    // componentGroup.addChild(this.selectBorder);\n    componentGroup.addChild(this.columnResizeBgLine);\n    componentGroup.addChild(this.columnResizeLine);\n    componentGroup.addChild(this.columnResizeLabel);\n    componentGroup.addChild(this.rowResizeBgLine);\n    componentGroup.addChild(this.rowResizeLine);\n    componentGroup.addChild(this.rowResizeLabel);\n\n    const hoverOn = this.table.theme.scrollStyle.hoverOn;\n    if (hoverOn && !this.table.theme.scrollStyle.barToSide) {\n      componentGroup.addChild(this.hScrollBar);\n      componentGroup.addChild(this.vScrollBar);\n    } else {\n      componentGroup.stage.defaultLayer.addChild(this.hScrollBar);\n      componentGroup.stage.defaultLayer.addChild(this.vScrollBar);\n\n      // // add scroll bar before border, avoid scroll hide by border globalCompositeOperation\n      // componentGroup.stage.defaultLayer.insertBefore(this.vScrollBar, componentGroup.stage.defaultLayer.firstChild);\n      // componentGroup.stage.defaultLayer.insertBefore(this.hScrollBar, componentGroup.stage.defaultLayer.firstChild);\n    }\n    this.menu.bindTableComponent(componentGroup);\n    this.drillIcon.appand(componentGroup);\n    this.cellMover.appand(componentGroup);\n  }\n\n  /**\n   * @description: 创建滚动条组件\n   * @return {*}\n   */\n  createScrollBar() {\n    const theme = this.table.theme;\n    const scrollRailColor = theme.scrollStyle?.scrollRailColor as string;\n    const scrollSliderColor = theme.scrollStyle?.scrollSliderColor as string;\n    const scrollSliderCornerRadius = theme.scrollStyle?.scrollSliderCornerRadius;\n    const width = theme.scrollStyle?.width as number;\n    const horizontalPadding = theme.scrollStyle?.horizontalPadding;\n    const verticalPadding = theme.scrollStyle?.verticalPadding;\n\n    let sliderStyle;\n    if (isValid(scrollSliderCornerRadius)) {\n      sliderStyle = {\n        cornerRadius: scrollSliderCornerRadius,\n        fill: scrollSliderColor\n      };\n    } else {\n      sliderStyle = {\n        fill: scrollSliderColor\n      };\n    }\n    // const visible = theme.scrollStyle?.visible as string;\n    // const hoverOn = theme.scrollStyle?.hoverOn as boolean;\n\n    this.hScrollBar = new ScrollBar({\n      direction: 'horizontal',\n      x: -this.table.tableNoFrameWidth * 2,\n      y: -this.table.tableNoFrameHeight * 2,\n      width: this.table.tableNoFrameWidth,\n      height: width,\n      padding: horizontalPadding,\n      railStyle: {\n        fill: scrollRailColor\n      },\n      sliderStyle,\n      range: [0, 0.1],\n      // scrollRange: [0.4, 0.8]\n      visible: false\n    });\n    // hack方案实现初始化隐藏滚动条，也可以add到stage之后执行hideAll\n    (this.hScrollBar as any).render();\n    this.hScrollBar.hideAll();\n\n    this.vScrollBar = new ScrollBar({\n      direction: 'vertical',\n      x: -this.table.tableNoFrameWidth * 2,\n      y: -this.table.tableNoFrameHeight * 2,\n      width,\n      height: this.table.tableNoFrameHeight - this.table.getFrozenRowsHeight(),\n      padding: verticalPadding,\n      railStyle: {\n        fill: scrollRailColor\n      },\n      sliderStyle,\n      range: [0, 0.1],\n      visible: false\n    });\n    (this.vScrollBar as any).render();\n    this.vScrollBar.hideAll();\n  }\n\n  /**\n   * @description: 更新滚动条尺寸\n   * @return {*}\n   */\n  updateScrollBar() {\n    const oldHorizontalBarPos = this.table.stateManager.scroll.horizontalBarPos;\n    const oldVerticalBarPos = this.table.stateManager.scroll.verticalBarPos;\n\n    const theme = this.table.theme;\n    const width = theme.scrollStyle?.width as number;\n    const visible1 = theme.scrollStyle?.visible as string;\n    const horizontalVisible = theme.scrollStyle?.horizontalVisible ?? visible1;\n    const verticalVisible = theme.scrollStyle?.verticalVisible ?? visible1;\n    // const hoverOn = theme.scrollStyle?.hoverOn as boolean;\n    const tableWidth = Math.ceil(this.table.scenegraph.tableGroup.attribute.width);\n    const tableHeight = Math.ceil(this.table.scenegraph.tableGroup.attribute.height);\n\n    const totalHeight = this.table.getAllRowsHeight();\n    const totalWidth = this.table.getAllColsWidth();\n    const frozenRowsHeight = this.table.getFrozenRowsHeight();\n    const frozenColsWidth = this.table.getFrozenColsWidth();\n    const bottomFrozenRowsHeight = this.table.getBottomFrozenRowsHeight();\n    const rightFrozenColsWidth = this.table.getRightFrozenColsWidth();\n\n    // _disableColumnAndRowSizeRound环境中，可能出现\n    // getAllColsWidth/getAllRowsHeight(A) + getAllColsWidth/getAllRowsHeight(B) < getAllColsWidth/getAllRowsHeight(A+B)\n    // （由于小数在取数时被省略）\n    // 这里加入tolerance，避免出现无用滚动\n    const sizeTolerance = this.table.options.customConfig?._disableColumnAndRowSizeRound ? 1 : 0;\n    if (totalWidth > tableWidth + sizeTolerance) {\n      const y = Math.min(tableHeight, totalHeight);\n      const rangeEnd = Math.max(0.05, (tableWidth - frozenColsWidth) / (totalWidth - frozenColsWidth));\n\n      const hoverOn = this.table.theme.scrollStyle.hoverOn;\n\n      let attrY = 0;\n      if (this.table.theme.scrollStyle.barToSide) {\n        attrY =\n          this.table.tableNoFrameHeight -\n          (hoverOn ? width : -this.table.scenegraph.tableGroup.attribute.y) +\n          this.table.tableY;\n      } else {\n        attrY = y - (hoverOn ? width : -this.table.scenegraph.tableGroup.attribute.y);\n      }\n\n      this.hScrollBar.setAttributes({\n        x: frozenColsWidth + (!hoverOn ? this.table.scenegraph.tableGroup.attribute.x : 0),\n        y: attrY,\n        width: tableWidth - frozenColsWidth - rightFrozenColsWidth,\n        range: [0, rangeEnd],\n        visible: horizontalVisible === 'always'\n      });\n      const bounds = this.hScrollBar.AABBBounds && this.hScrollBar.globalAABBBounds;\n      (this.hScrollBar as any)._viewPosition = {\n        x: bounds.x1,\n        y: bounds.y1\n      };\n      if (horizontalVisible === 'always') {\n        this.hScrollBar.showAll();\n      }\n    } else {\n      this.hScrollBar.setAttributes({\n        x: -this.table.tableNoFrameWidth * 2,\n        y: -this.table.tableNoFrameHeight * 2,\n        width: 0,\n        visible: false\n      });\n    }\n\n    if (totalHeight > tableHeight + sizeTolerance) {\n      const x = Math.min(tableWidth, totalWidth);\n      const rangeEnd = Math.max(0.05, (tableHeight - frozenRowsHeight) / (totalHeight - frozenRowsHeight));\n\n      let attrX = 0;\n      const hoverOn = this.table.theme.scrollStyle.hoverOn;\n\n      if (this.table.theme.scrollStyle.barToSide) {\n        attrX =\n          this.table.tableNoFrameWidth -\n          (hoverOn ? width : -this.table.scenegraph.tableGroup.attribute.x) +\n          this.table.tableX;\n      } else {\n        attrX = x - (hoverOn ? width : -this.table.scenegraph.tableGroup.attribute.x);\n      }\n\n      this.vScrollBar.setAttributes({\n        x: attrX,\n        y: frozenRowsHeight + (!hoverOn ? this.table.scenegraph.tableGroup.attribute.y : 0),\n        height: tableHeight - frozenRowsHeight - bottomFrozenRowsHeight,\n        range: [0, rangeEnd],\n        visible: verticalVisible === 'always'\n      });\n      const bounds = this.vScrollBar.AABBBounds && this.vScrollBar.globalAABBBounds;\n      (this.vScrollBar as any)._viewPosition = {\n        x: bounds.x1,\n        y: bounds.y1\n      };\n\n      if (verticalVisible === 'always') {\n        this.vScrollBar.showAll();\n      }\n    } else {\n      this.vScrollBar.setAttributes({\n        x: -this.table.tableNoFrameWidth * 2,\n        y: -this.table.tableNoFrameHeight * 2,\n        height: 0,\n        visible: false\n      });\n    }\n\n    this.table.stateManager.setScrollLeft(oldHorizontalBarPos);\n    this.table.stateManager.setScrollTop(oldVerticalBarPos);\n  }\n\n  /**\n   * @description: 隐藏列宽调整组件\n   * @return {*}\n   */\n  hideResizeCol() {\n    // this.columnResizeLine.attribute.visible = false;\n    this.columnResizeLine.setAttribute('visible', false);\n    this.columnResizeBgLine.setAttribute('visible', false);\n    this.columnResizeLabel.setAttribute('visible', false);\n    this.columnResizeLabel.hideAll();\n  }\n\n  /**\n   * @description: 显示列宽调整组件\n   * @param {number} col\n   * @param {number} y\n   * @return {*}\n   */\n  showResizeCol(col: number, y: number, isRightFrozen?: boolean) {\n    // this.columnResizeLine.attribute.visible = false;\n    // 基准线\n    const colX = getColX(col, this.table, isRightFrozen);\n    this.columnResizeLine.setAttributes({\n      visible: true,\n      x: colX,\n      points: [\n        { x: 0, y: 0 },\n        { x: 0, y: this.table.getRowsHeight(0, this.table.rowCount - 1) }\n      ]\n    });\n    this.columnResizeBgLine.setAttributes({\n      visible: true,\n      x: colX,\n      points: [\n        { x: 0, y: 0 },\n        { x: 0, y: this.table.getRowsHeight(0, this.table.rowCount - 1) }\n      ]\n    });\n\n    // 标签\n    // this.columnResizeLabel.setAttribute('visible', true);\n    if (this.labelVisible) {\n      this.columnResizeLabel.showAll();\n      this.columnResizeLabel.setAttributes({\n        visible: true,\n        x: colX,\n        y\n      });\n      (this.columnResizeLabel.lastChild as Text).setAttribute('text', `${this.table.getColWidth(col)}px`);\n    }\n  }\n\n  /**\n   * @description: 更新列宽调整组件\n   * @param {number} col\n   * @param {number} y 标签显示的y坐标\n   * @return {*}\n   */\n  updateResizeCol(col: number, y: number, isRightFrozen?: boolean) {\n    // 基准线\n    const colX = getColX(col, this.table, isRightFrozen);\n    // this.columnResizeLine.setAttribute('x', x);\n    this.columnResizeLine.setAttributes({\n      x: colX,\n      points: [\n        { x: 0, y: 0 },\n        { x: 0, y: this.table.getRowsHeight(0, this.table.rowCount - 1) } // todo: 优化points赋值\n      ]\n    });\n    this.columnResizeBgLine.setAttributes({\n      x: colX,\n      points: [\n        { x: 0, y: 0 },\n        { x: 0, y: this.table.getRowsHeight(0, this.table.rowCount - 1) } // todo: 优化points赋值\n      ]\n    });\n\n    // 标签\n    if (this.labelVisible) {\n      this.columnResizeLabel.setAttributes({\n        x: colX,\n        y\n      });\n      (this.columnResizeLabel.lastChild as Text).setAttribute('text', `${Math.floor(this.table.getColWidth(col))}px`);\n    }\n  }\n\n  /**\n   * @description: 隐藏列宽调整组件\n   * @return {*}\n   */\n  hideResizeRow() {\n    // this.columnResizeLine.attribute.visible = false;\n    this.rowResizeLine.setAttribute('visible', false);\n    this.rowResizeBgLine.setAttribute('visible', false);\n    this.rowResizeLabel.setAttribute('visible', false);\n    this.rowResizeLabel.hideAll();\n  }\n\n  /**\n   * @description: 显示列宽调整组件\n   * @param {number} col\n   * @param {number} y\n   * @return {*}\n   */\n  showResizeRow(row: number, x: number, isRightFrozen?: boolean) {\n    // 基准线\n    const rowY = getRowY(row, this.table, isRightFrozen);\n    this.rowResizeLine.setAttributes({\n      visible: true,\n      y: rowY,\n      points: [\n        { y: 0, x: 0 },\n        { y: 0, x: this.table.getColsWidth(0, this.table.colCount - 1) }\n      ]\n    });\n    this.rowResizeBgLine.setAttributes({\n      visible: true,\n      y: rowY,\n      points: [\n        { y: 0, x: 0 },\n        { y: 0, x: this.table.getColsWidth(0, this.table.colCount - 1) }\n      ]\n    });\n\n    if (this.labelVisible) {\n      // 标签\n      this.rowResizeLabel.showAll();\n      this.rowResizeLabel.setAttributes({\n        visible: true,\n        y: rowY,\n        x\n      });\n      (this.rowResizeLabel.lastChild as Text).setAttribute('text', `${this.table.getRowHeight(row)}px`);\n    }\n  }\n\n  /**\n   * @description: 更新列宽调整组件\n   * @param {number} col\n   * @param {number} y 标签显示的y坐标\n   * @return {*}\n   */\n  updateResizeRow(row: number, x: number, isBottomFrozen?: boolean) {\n    // 基准线\n    const rowY = getRowY(row, this.table, isBottomFrozen);\n    // this.columnResizeLine.setAttribute('x', x);\n    this.rowResizeLine.setAttributes({\n      y: rowY,\n      points: [\n        { y: 0, x: 0 },\n        { y: 0, x: this.table.getColsWidth(0, this.table.colCount - 1) } // todo: 优化points赋值\n      ]\n    });\n    this.rowResizeBgLine.setAttributes({\n      y: rowY,\n      points: [\n        { y: 0, x: 0 },\n        { y: 0, x: this.table.getColsWidth(0, this.table.colCount - 1) } // todo: 优化points赋值\n      ]\n    });\n\n    if (this.labelVisible) {\n      // 标签\n      this.rowResizeLabel.setAttributes({\n        y: rowY,\n        x\n      });\n      (this.rowResizeLabel.lastChild as Text).setAttribute('text', `${Math.floor(this.table.getRowHeight(row))}px`);\n    }\n  }\n\n  /**\n   * @description: 隐藏列顺序调整组件\n   * @return {*}\n   */\n  hideMoveCol() {\n    this.cellMover.hide();\n  }\n\n  /**\n   * @description: 显示列顺序调整组件\n   * @param {number} col\n   * @param {number} x\n   * @return {*}\n   */\n  showMoveCol(col: number, row: number, delta: number) {\n    return this.cellMover.show(col, row, delta);\n  }\n\n  /**\n   * @description: 更新列顺序调整组件\n   * @param {number} backX\n   * @param {number} lineX\n   * @return {*}\n   */\n  updateMoveCol(backX: number, lineX: number, backY: number, lineY: number) {\n    this.cellMover.update(backX, lineX, backY, lineY);\n  }\n\n  /**\n   * @description: 显示冻结列shadow\n   * @param {number} col\n   * @return {*}\n   */\n  setFrozenColumnShadow(col: number, isRightFrozen?: boolean) {\n    const colX = getColX(col, this.table, isRightFrozen);\n    if (col < 0 || this.table.theme.frozenColumnLine?.shadow?.visible !== 'always') {\n      this.frozenShadowLine.setAttributes({\n        visible: false,\n        x: colX,\n        height: this.table.getDrawRange().height\n      });\n    } else {\n      this.frozenShadowLine.setAttributes({\n        visible: true,\n        x: colX,\n        height: this.table.getDrawRange().height\n      });\n    }\n  }\n\n  /**\n   * @description: 显示右侧冻结列shadow\n   * @param {number} col\n   * @return {*}\n   */\n  setRightFrozenColumnShadow(col: number) {\n    const colX = getColX(col, this.table, true);\n    if (col >= this.table.colCount || this.table.theme.frozenColumnLine?.shadow?.visible !== 'always') {\n      this.rightFrozenShadowLine.setAttributes({\n        visible: false,\n        x: colX - this.rightFrozenShadowLine.attribute.width,\n        height: this.table.getDrawRange().height\n      });\n    } else {\n      this.rightFrozenShadowLine.setAttributes({\n        visible: true,\n        x: colX - this.rightFrozenShadowLine.attribute.width,\n        height: this.table.getDrawRange().height\n      });\n    }\n  }\n  hideFrozenColumnShadow() {\n    const visible1 = this.table.theme.frozenColumnLine?.shadow?.visible;\n    const visible = this.table.theme.frozenColumnLine?.shadow?.visible ?? visible1;\n    if (visible !== 'scrolling') {\n      return;\n    }\n    this.frozenShadowLine.setAttribute('visible', false);\n    this.rightFrozenShadowLine.setAttribute('visible', false);\n    this.table.scenegraph.updateNextFrame();\n  }\n  showFrozenColumnShadow() {\n    const visible1 = this.table.theme.frozenColumnLine?.shadow?.visible;\n    const visible = this.table.theme.frozenColumnLine?.shadow?.visible ?? visible1;\n    if (visible !== 'scrolling') {\n      return;\n    }\n    this.frozenShadowLine.setAttribute('visible', true);\n    this.rightFrozenShadowLine.setAttribute('visible', true);\n    this.table.scenegraph.updateNextFrame();\n  }\n  hideVerticalScrollBar() {\n    const visible1 = this.table.theme.scrollStyle.visible;\n    const verticalVisible = this.table.theme.scrollStyle.verticalVisible ?? visible1;\n    if (verticalVisible !== 'focus' && verticalVisible !== 'scrolling') {\n      return;\n    }\n    this.vScrollBar.setAttribute('visible', false);\n    this.vScrollBar.hideAll();\n    this.table.scenegraph.updateNextFrame();\n  }\n  showVerticalScrollBar() {\n    const visible1 = this.table.theme.scrollStyle.visible;\n    const verticalVisible = this.table.theme.scrollStyle.verticalVisible ?? visible1;\n    if (verticalVisible !== 'focus' && verticalVisible !== 'scrolling') {\n      return;\n    }\n    this.vScrollBar.setAttribute('visible', true);\n    this.vScrollBar.showAll();\n    this.table.scenegraph.updateNextFrame();\n  }\n  hideHorizontalScrollBar() {\n    const visible1 = this.table.theme.scrollStyle.visible;\n    const horizontalVisible = this.table.theme.scrollStyle.horizontalVisible ?? visible1;\n    if (horizontalVisible !== 'focus' && horizontalVisible !== 'scrolling') {\n      return;\n    }\n    this.hScrollBar.setAttribute('visible', false);\n    this.hScrollBar.hideAll();\n    this.table.scenegraph.updateNextFrame();\n  }\n  showHorizontalScrollBar() {\n    const visible1 = this.table.theme.scrollStyle.visible;\n    const horizontalVisible = this.table.theme.scrollStyle.horizontalVisible ?? visible1;\n    if (horizontalVisible !== 'focus' && horizontalVisible !== 'scrolling') {\n      return;\n    }\n    this.hScrollBar.setAttribute('visible', true);\n    this.hScrollBar.showAll();\n    this.table.scenegraph.updateNextFrame();\n  }\n  updateVerticalScrollBarPos(topRatio: number) {\n    const range = this.vScrollBar.attribute.range;\n    const size = range[1] - range[0];\n    const range0 = topRatio * (1 - size);\n    this.vScrollBar.setAttribute('range', [range0, range0 + size]);\n    const bounds = this.vScrollBar.AABBBounds && this.vScrollBar.globalAABBBounds;\n    (this.vScrollBar as any)._viewPosition = {\n      x: bounds.x1,\n      y: bounds.y1\n    };\n  }\n  updateHorizontalScrollBarPos(leftRatio: number) {\n    const range = this.hScrollBar.attribute.range;\n    const size = range[1] - range[0];\n    const range0 = leftRatio * (1 - size);\n    this.hScrollBar.setAttribute('range', [range0, range0 + size]);\n    const bounds = this.hScrollBar.AABBBounds && this.hScrollBar.globalAABBBounds;\n    (this.hScrollBar as any)._viewPosition = {\n      x: bounds.x1,\n      y: bounds.y1\n    };\n  }\n\n  updateStyle() {\n    const theme = this.table.theme;\n\n    // scrollbar\n    const scrollRailColor = theme.scrollStyle?.scrollRailColor as string;\n    const scrollSliderColor = theme.scrollStyle?.scrollSliderColor as string;\n    const scrollSliderCornerRadius = theme.scrollStyle?.scrollSliderCornerRadius;\n    const width = theme.scrollStyle?.width as number;\n    const horizontalPadding = theme.scrollStyle?.horizontalPadding;\n    const verticalPadding = theme.scrollStyle?.verticalPadding;\n\n    let sliderStyle;\n    if (isValid(scrollSliderCornerRadius)) {\n      sliderStyle = {\n        cornerRadius: scrollSliderCornerRadius,\n        fill: scrollSliderColor\n      };\n    } else {\n      sliderStyle = {\n        fill: scrollSliderColor\n      };\n    }\n    this.hScrollBar.setAttributes({\n      height: width,\n      padding: horizontalPadding,\n      railStyle: {\n        fill: scrollRailColor\n      },\n      sliderStyle\n    });\n\n    this.vScrollBar.setAttributes({\n      width,\n      padding: verticalPadding,\n      railStyle: {\n        fill: scrollRailColor\n      },\n      sliderStyle\n    });\n\n    // columnResizeLine & columnResizeBgLine\n    const columnResizeColor = theme.columnResize?.lineColor;\n    const columnResizeWidth = theme.columnResize?.lineWidth;\n    const columnResizeBgColor = theme.columnResize?.bgColor;\n    const columnResizeBgWidth = theme.columnResize?.width;\n\n    this.columnResizeLine.setAttributes({\n      stroke: columnResizeColor as string,\n      lineWidth: columnResizeWidth as number\n    });\n    this.columnResizeBgLine = createLine({\n      stroke: columnResizeBgColor as string,\n      lineWidth: columnResizeBgWidth as number\n    });\n\n    const labelColor = theme.columnResize?.labelColor;\n    const labelFontSize = theme.columnResize?.labelFontSize;\n    const labelFontFamily = theme.columnResize?.labelFontFamily;\n    const labelBackgroundFill = theme.columnResize?.labelBackgroundFill;\n    const labelBackgroundCornerRadius = theme.columnResize?.labelBackgroundCornerRadius;\n    const labelVisible = theme.columnResize?.labelVisible ?? true;\n    this.labelVisible = labelVisible;\n\n    // columnResizeLabelBack\n    (this.columnResizeLabel.lastChild as IText).setAttributes({\n      fontSize: labelFontSize, // 10\n      fill: labelColor,\n      fontFamily: labelFontFamily,\n      dy: -labelFontSize / 2\n    });\n    // columnResizeLabelText\n    (this.columnResizeLabel.firstChild as IRect).setAttributes({\n      fill: labelBackgroundFill,\n      width: 5 * labelFontSize * 0.8,\n      height: labelFontSize + 8,\n      cornerRadius: labelBackgroundCornerRadius,\n      dy: -labelFontSize / 2 - 4\n    });\n\n    // rowResizeLabelBack\n    (this.rowResizeLabel.lastChild as IText).setAttributes({\n      fontSize: labelFontSize, // 10\n      fill: labelColor,\n      fontFamily: labelFontFamily,\n      dy: -labelFontSize / 2\n    });\n    // rowResizeLabelText\n    (this.rowResizeLabel.firstChild as IRect).setAttributes({\n      fill: labelBackgroundFill,\n      width: 5 * labelFontSize * 0.8,\n      height: labelFontSize + 8,\n      cornerRadius: labelBackgroundCornerRadius,\n      dy: -labelFontSize / 2 - 4\n    });\n\n    // frozenShadowLine\n    const shadowWidth = theme.frozenColumnLine?.shadow?.width;\n    const shadowStartColor = theme.frozenColumnLine?.shadow?.startColor;\n    const shadowEndColor = theme.frozenColumnLine?.shadow?.endColor;\n    this.frozenShadowLine.setAttributes({\n      width: shadowWidth,\n      fill: {\n        gradient: 'linear',\n        x0: 0,\n        y0: 0,\n        x1: 1,\n        y1: 0,\n        stops: [\n          { color: shadowStartColor, offset: 0 },\n          { color: shadowEndColor, offset: 1 }\n        ]\n      }\n    });\n    this.rightFrozenShadowLine.setAttributes({\n      width: shadowWidth,\n      fill: {\n        gradient: 'linear',\n        x0: 0,\n        y0: 0,\n        x1: 1,\n        y1: 0,\n        stops: [\n          { color: shadowEndColor, offset: 0 },\n          { color: shadowStartColor, offset: 1 }\n        ]\n      }\n    });\n\n    this.cellMover.updateStyle();\n    // this.menu.updateStyle();\n    // this.drillIcon.updateStyle();\n  }\n}\n"]}