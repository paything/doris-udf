{"version":3,"sources":["../src/scenegraph/component/cell-content.ts"],"names":[],"mappings":"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","file":"cell-content.js","sourcesContent":["/* eslint-disable no-undef */\nimport type { IGroupGraphicAttribute } from './../../vrender';\nimport { RichText, Text } from './../../vrender';\nimport { Group } from '../graphic/group';\nimport { Icon, TextIcon } from '../graphic/icon';\n\n/*\n * cell区域规划\n * 左侧占位区 | 中央内容区 | 右侧占位区\n *\n * cell width设置\n * 1. 固定width\n * 2. 自动撑开\n * cell height设置\n * 1. 固定height\n * 2. 无折行，单行自动撑开\n * 2. 折行，多行自动撑开\n *\n * 中央内容区横向对齐方式\n * 纵向对齐方式\n * padding\n */\n\ninterface ICellContentOption {\n  autoWidth: boolean;\n  autoHeight: boolean;\n  cellWidth: number;\n  cellHeight: number;\n  align: CanvasTextAlign;\n  baseline: CanvasTextBaseline;\n}\n\n/**\n * @description: 单元格内容组件，包含content icon & wraptext/richtext\n * @return {*}\n */\nexport class CellContent extends Group {\n  _leftGroup: Group;\n  _rightGroup: Group;\n  _centerGroup: Group;\n\n  _autoWidth = false;\n  _autoHeight = false;\n  _cellWidth: number;\n  _originCellWidth: number;\n  _cellHeight: number;\n  _align: CanvasTextAlign;\n  _baseline: CanvasTextBaseline;\n\n  constructor(params: IGroupGraphicAttribute) {\n    super(params);\n\n    this._leftGroup = new Group({\n      pickable: false,\n      fill: false,\n      stroke: false\n    });\n    this._leftGroup.role = 'content-left';\n    this._rightGroup = new Group({\n      pickable: false,\n      fill: false,\n      stroke: false\n    });\n    this._rightGroup.role = 'content-right';\n    this._centerGroup = new Group({\n      pickable: false,\n      fill: false,\n      stroke: false\n    });\n    this._centerGroup.role = 'content-center';\n\n    this.appendChild(this._leftGroup);\n    this.appendChild(this._rightGroup);\n    this.appendChild(this._centerGroup);\n  }\n\n  setCellContentOption(option: ICellContentOption) {\n    this._autoWidth = option.autoWidth;\n    this._autoHeight = option.autoHeight;\n    this._cellWidth = option.cellWidth;\n    this._originCellWidth = option.cellWidth;\n    this._cellHeight = option.cellHeight;\n    this._align = option.align;\n    this._baseline = option.baseline;\n  }\n\n  addLeftOccupyingIcon(icon: Icon | TextIcon) {\n    icon.setAttribute('x', this._leftGroup.width + (icon.attribute.marginLeft ?? 0));\n    this._leftGroup.appendChild(icon);\n    this._leftGroup.setDeltaWidth(\n      (icon.attribute.marginLeft ?? 0) + (icon.attribute.marginRight ?? 0) + icon.attribute.width\n    );\n  }\n\n  addRightOccupyingIcon(icon: Icon | TextIcon) {\n    icon.setAttribute('x', this._rightGroup.width + (icon.attribute.marginLeft ?? 0));\n    this._rightGroup.appendChild(icon);\n    this._rightGroup.setDeltaWidth(\n      (icon.attribute.marginLeft ?? 0) + (icon.attribute.marginRight ?? 0) + icon.attribute.width\n    );\n  }\n\n  addContent(content: Icon | TextIcon | Text | RichText) {\n    const lastChild = this._centerGroup.lastChild as Icon | Text | RichText;\n    if (lastChild) {\n      // 横排content，新加入content更新x坐标\n      content.setAttributes({\n        x: lastChild.attribute.x + lastChild.AABBBounds.width()\n      });\n    }\n    this._centerGroup.appendChild(content);\n    if (content instanceof Text) {\n      this._centerGroup.setAttribute('pickable', false);\n      content.setAttribute('textAlign', 'left');\n    }\n  }\n\n  layout() {\n    // 计算左侧占位区域尺寸\n    let leftOccupyingWidth = this._leftGroup.width;\n    if (leftOccupyingWidth === Infinity) {\n      leftOccupyingWidth = 0;\n    }\n    // 计算右侧占位区域尺寸\n    let rightOccupyingWidth = this._rightGroup.width;\n    if (rightOccupyingWidth === -Infinity) {\n      rightOccupyingWidth = 0;\n    }\n\n    // 计算中央内容区域尺寸\n    if (this._autoWidth) {\n      // 计算内容本身宽度\n      const centerWidth = this._centerGroup.width;\n      // 更新cell宽度\n      this._cellWidth = leftOccupyingWidth + rightOccupyingWidth + centerWidth;\n      // this.attribute.width = this._cellWidth;\n      this.setAttribute('width', this._cellWidth);\n    } else {\n      // 计算留给内容的宽度\n      const contentWidth = this._cellWidth - leftOccupyingWidth - rightOccupyingWidth;\n      // 更新内容宽度\n      this.updateCenterLayout(contentWidth);\n      const centerWidth = this._centerGroup.width;\n      this._cellWidth = leftOccupyingWidth + rightOccupyingWidth + centerWidth;\n      // this.attribute.width = this._cellWidth;\n      this.setAttribute('width', this._cellWidth);\n    }\n    // 更新水平位置\n    this.updateHorizontalPos();\n\n    // if (this._autoHeight) {\n    const leftOccupyingHeight = this._leftGroup.height;\n    const rightOccupyingHeight = this._rightGroup.height;\n    const centerHeight = this._centerGroup.height;\n\n    this._cellHeight = Math.max(leftOccupyingHeight, rightOccupyingHeight, centerHeight);\n    // this.attribute.height = this._cellHeight;\n    this.setAttribute('height', this._cellHeight);\n    // }\n\n    // 更新纵向位置\n    this.updateVerticalPos();\n  }\n\n  updateCenterLayout(contentWidth: number) {\n    // 计算留给文字的空间\n    let textWidth = contentWidth;\n    this._centerGroup.forEachChildren(child => {\n      if (child instanceof Icon || child instanceof TextIcon) {\n        textWidth -= child.AABBBounds.width();\n      }\n    });\n\n    // 更新文字宽度\n    const text = this._centerGroup.getChildByName('text');\n    if (text instanceof RichText) {\n      text.setAttribute('width', textWidth);\n    } else if (text instanceof Text) {\n      text.setAttribute('maxLineWidth', textWidth);\n    }\n\n    // 按顺序更新x\n    let x = 0;\n    this._centerGroup.forEachChildren((child: Icon | TextIcon | Text | RichText) => {\n      child.setAttribute('x', x);\n      x += child.AABBBounds.width();\n    });\n  }\n\n  updateHorizontalPos() {\n    this._leftGroup.setAttribute('x', 0);\n    this._rightGroup.setAttribute('x', this._cellWidth - this._rightGroup.width);\n    this._centerGroup.setAttribute('x', this._leftGroup.width);\n    // 对齐方式由外部处理\n    if (this._align === 'left' || this._align === 'start') {\n      this.setAttribute('dx', 0);\n    } else if (this._align === 'center') {\n      this.setAttribute('dx', -this.attribute.width / 2);\n    } else if (this._align === 'right' || this._align === 'end') {\n      this.setAttribute('dx', -this.attribute.width);\n    }\n  }\n\n  updateVerticalPos() {\n    if (this._baseline === 'top') {\n      this._leftGroup.setAttribute('y', 0);\n      this._rightGroup.setAttribute('y', 0);\n      this._centerGroup.setAttribute('y', 0);\n    } else if (this._baseline === 'middle') {\n      // 处理Group内icon对齐\n      this._leftGroup.forEachChildren((icon: Icon | TextIcon) => {\n        icon.setAttribute('y', (this._leftGroup.height - icon.AABBBounds.height()) / 2);\n      });\n      this._rightGroup.forEachChildren((icon: Icon | TextIcon) => {\n        icon.setAttribute('y', (this._rightGroup.height - icon.AABBBounds.height()) / 2);\n      });\n\n      this._leftGroup.setAttribute('y', this._cellHeight / 2 - this._leftGroup.height / 2);\n      this._rightGroup.setAttribute('y', this._cellHeight / 2 - this._rightGroup.height / 2);\n      this._centerGroup.setAttribute('y', this._cellHeight / 2 - this._centerGroup.height / 2);\n    } else if (this._baseline === 'bottom') {\n      // 处理Group内icon对齐\n      this._leftGroup.forEachChildren((icon: Icon | TextIcon) => {\n        icon.setAttribute('y', this._leftGroup.height - icon.AABBBounds.height());\n      });\n      this._rightGroup.forEachChildren((icon: Icon | TextIcon) => {\n        icon.setAttribute('y', this._rightGroup.height - icon.AABBBounds.height());\n      });\n\n      this._leftGroup.setAttribute('y', this._cellHeight - this._leftGroup.height);\n      this._rightGroup.setAttribute('y', this._cellHeight - this._rightGroup.height);\n      this._centerGroup.setAttribute('y', this._cellHeight - this._centerGroup.height);\n    }\n  }\n\n  updateWidth(width: number) {\n    this._cellWidth = width;\n    this._originCellWidth = width;\n    this.layout();\n  }\n\n  updateHeight(height: number) {\n    this._cellHeight = height;\n    this._cellWidth = this._originCellWidth;\n    const textMark = this.getChildByName('text', true);\n    if (textMark) {\n      textMark.setAttribute('heightLimit', height);\n    }\n\n    this.layout();\n  }\n}\n"]}