{"version":3,"sources":["../src/scenegraph/group-creater/init-scenegraph.ts"],"names":[],"mappings":"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","file":"init-scenegraph.js","sourcesContent":["import type { ListTableConstructorOptions } from '../..';\nimport { Group } from '../graphic/group';\nimport type { Scenegraph } from '../scenegraph';\n\nexport function initSceneGraph(scene: Scenegraph) {\n  const width = scene.table.tableNoFrameWidth;\n  const height = scene.table.tableNoFrameHeight;\n\n  scene.tableGroup = new Group({ x: 0, y: 0, width, height, clip: true, pickable: false });\n  scene.tableGroup.role = 'table';\n\n  const colHeaderGroup = createContainerGroup(\n    0,\n    0,\n    !(scene.table.options as ListTableConstructorOptions).enableTreeStickCell\n  );\n  colHeaderGroup.role = 'col-header';\n  scene.colHeaderGroup = colHeaderGroup;\n\n  const cornerHeaderGroup = createContainerGroup(\n    0,\n    0,\n    !(scene.table.options as ListTableConstructorOptions).enableTreeStickCell\n  );\n  cornerHeaderGroup.role = 'corner-header';\n  scene.cornerHeaderGroup = cornerHeaderGroup;\n\n  const rowHeaderGroup = createContainerGroup(0, 0, true);\n  rowHeaderGroup.role = 'row-header';\n  scene.rowHeaderGroup = rowHeaderGroup;\n\n  const bodyGroup = createContainerGroup(width, 0, true);\n  bodyGroup.role = 'body';\n  scene.bodyGroup = bodyGroup;\n\n  const rightFrozenGroup = createContainerGroup(0, 0, true);\n  rightFrozenGroup.role = 'right-frozen';\n  scene.rightFrozenGroup = rightFrozenGroup;\n\n  const bottomFrozenGroup = createContainerGroup(0, 0, true);\n  bottomFrozenGroup.role = 'bottom-frozen';\n  scene.bottomFrozenGroup = bottomFrozenGroup;\n\n  const componentGroup = createContainerGroup(0, 0);\n  componentGroup.role = 'component';\n  scene.componentGroup = componentGroup;\n\n  const rightTopCornerGroup = createContainerGroup(0, 0, true);\n  rightTopCornerGroup.role = 'corner-right-top-header';\n  scene.rightTopCornerGroup = rightTopCornerGroup;\n\n  const rightBottomCornerGroup = createContainerGroup(0, 0, true);\n  rightBottomCornerGroup.role = 'corner-right-bottom-header';\n  scene.rightBottomCornerGroup = rightBottomCornerGroup;\n\n  const leftBottomCornerGroup = createContainerGroup(0, 0, true);\n  leftBottomCornerGroup.role = 'corner-left-bottom-header';\n  scene.leftBottomCornerGroup = leftBottomCornerGroup;\n\n  scene.tableGroup.addChild(bodyGroup);\n  //注意这块添加的顺序 会影响select框选效果 有可能引起框选框覆盖其他部分group的问题  具体问题出在update-select-border文件中的updateComponent方法\n  scene.tableGroup.addChild(rowHeaderGroup);\n  scene.tableGroup.addChild(bottomFrozenGroup);\n\n  scene.tableGroup.addChild(colHeaderGroup);\n  scene.tableGroup.addChild(rightFrozenGroup);\n\n  scene.tableGroup.addChild(rightBottomCornerGroup);\n  scene.tableGroup.addChild(rightTopCornerGroup);\n  scene.tableGroup.addChild(leftBottomCornerGroup);\n  scene.tableGroup.addChild(cornerHeaderGroup);\n  scene.tableGroup.addChild(componentGroup);\n}\n\nfunction createContainerGroup(width: number, height: number, clip?: boolean) {\n  return new Group({\n    x: 0,\n    y: 0,\n    width,\n    height,\n    clip: clip ?? false,\n    pickable: false\n  });\n}\n"]}