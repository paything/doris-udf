{"version":3,"sources":["../src/core/tableHelper.ts"],"names":[],"mappings":"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","file":"tableHelper.js","sourcesContent":["import type { IThemeSpec } from './../vrender';\nimport type { BaseTable } from '../core';\nimport { CachedDataSource, DataSource } from '../data';\nimport { parseFont } from '../scenegraph/utils/font';\nimport { getQuadProps } from '../scenegraph/utils/padding';\nimport { Rect } from '../tools/Rect';\nimport * as calc from '../tools/calc';\nimport type {\n  Aggregation,\n  ColumnsDefine,\n  CustomAggregation,\n  FullExtendStyle,\n  ListTableAPI,\n  ListTableConstructorOptions,\n  SortState\n} from '../ts-types';\nimport type { BaseTableAPI } from '../ts-types/base-table';\nimport { defaultOrderFn } from '../tools/util';\nimport type { ListTable } from '../ListTable';\nimport { isValid } from '@visactor/vutils';\n\nexport function createRootElement(padding: any, className: string = 'vtable'): HTMLElement {\n  const element = document.createElement('div');\n  element.setAttribute('tabindex', '0');\n  element.classList.add(className);\n  element.style.outline = 'none';\n  element.style.margin = `${padding.top}px ${padding.right}px ${padding.bottom}px ${padding.left}px`;\n\n  const width = (element.offsetWidth || element.parentElement?.offsetWidth || 1) - 1;\n  const height = (element.offsetHeight || element.parentElement?.offsetHeight || 1) - 1;\n\n  element.style.width = (width && `${width - padding.left - padding.right}px`) || '0px';\n  element.style.height = (height && `${height - padding.top - padding.bottom}px`) || '0px';\n\n  return element;\n}\nexport function updateRootElementPadding(element: HTMLElement, padding: any): void {\n  element.style.margin = `${padding.top}px ${padding.right}px ${padding.bottom}px ${padding.left}px`;\n  const width = (element.offsetWidth || element.parentElement?.offsetWidth || 1) - 1;\n  const height = (element.offsetHeight || element.parentElement?.offsetHeight || 1) - 1;\n  element.style.width = (width && `${width - padding.left - padding.right}px`) || '0px';\n  element.style.height = (height && `${height - padding.top - padding.bottom}px`) || '0px';\n}\nexport function _dealWithUpdateDataSource(table: BaseTableAPI, fn: (table: BaseTableAPI) => void): void {\n  const { dataSourceEventIds } = table.internalProps;\n\n  if (dataSourceEventIds) {\n    dataSourceEventIds.forEach((id: any) => table.internalProps.handler.off(id));\n  }\n\n  fn(table);\n\n  table.internalProps.dataSourceEventIds = [\n    table.internalProps.handler.on(table.internalProps.dataSource, DataSource.EVENT_TYPE.CHANGE_ORDER, () => {\n      if (table.dataSource.hierarchyExpandLevel) {\n        table.refreshRowColCount();\n      }\n      table.render();\n    })\n  ];\n}\n/** @private */\nexport function _setRecords(table: ListTableAPI, records: any[] = []): void {\n  _dealWithUpdateDataSource(table, () => {\n    table.internalProps.records = records;\n    const newDataSource = (table.internalProps.dataSource = CachedDataSource.ofArray(\n      records,\n      table.internalProps.dataConfig,\n      table.pagination,\n      table.internalProps.columns,\n      table.internalProps.layoutMap.rowHierarchyType,\n      getHierarchyExpandLevel(table)\n    ));\n    table.addReleaseObj(newDataSource);\n  });\n}\n\nfunction getHierarchyExpandLevel(table: ListTableAPI) {\n  if ((table.options as ListTableConstructorOptions).hierarchyExpandLevel) {\n    return (table.options as ListTableConstructorOptions).hierarchyExpandLevel;\n  } else if (table.options.groupBy) {\n    return Infinity;\n  }\n  return table._hasHierarchyTreeHeader?.() ? 1 : undefined;\n}\n\nexport function _setDataSource(table: BaseTableAPI, dataSource: DataSource): void {\n  _dealWithUpdateDataSource(table, () => {\n    if (table.internalProps.dataSource) {\n      table.internalProps.releaseList.forEach(releaseObj => {\n        if (releaseObj instanceof DataSource) {\n          releaseObj.release();\n          table.internalProps.releaseList.splice(table.internalProps.releaseList.indexOf(releaseObj), 1);\n        }\n      });\n    }\n    if (dataSource) {\n      if (dataSource instanceof DataSource) {\n        table.internalProps.dataSource = dataSource;\n        table.internalProps.dataSource.supplementConfig(\n          table.pagination,\n          (table.options as ListTableConstructorOptions).columns,\n          table.internalProps.layoutMap.rowHierarchyType,\n          getHierarchyExpandLevel(table as ListTableAPI)\n        );\n      } else {\n        table.internalProps.dataSource = new CachedDataSource(dataSource);\n      }\n    } else {\n      table.internalProps.dataSource = DataSource.EMPTY;\n    }\n    table.addReleaseObj(table.internalProps.dataSource);\n    table.internalProps.records = null;\n  });\n}\nexport function _getTargetFrozenRowAt(\n  table: BaseTableAPI,\n  absoluteY: number\n): {\n  top: number;\n  row: number;\n  bottom: number;\n  height: number;\n} | null {\n  if (!table.internalProps.frozenRowCount) {\n    return null;\n  }\n  let { scrollTop } = table;\n  const rowCount = table.internalProps.frozenRowCount;\n  for (let row = 0; row < rowCount; row++) {\n    const height = table.getRowHeight(row);\n    const bottom = scrollTop + height;\n    if (bottom > absoluteY) {\n      return {\n        top: scrollTop,\n        row,\n        bottom,\n        height\n      };\n    }\n    scrollTop = bottom;\n  }\n  return null;\n}\n\nexport function _getTargetFrozenColAt(\n  table: BaseTableAPI,\n  absoluteX: number\n): {\n  left: number;\n  col: number;\n  right: number;\n  width: number;\n} | null {\n  if (!table.internalProps.frozenColCount) {\n    return null;\n  }\n  let { scrollLeft } = table;\n  const colCount = table.internalProps.frozenColCount;\n  for (let col = 0; col < colCount; col++) {\n    const width = table.getColWidth(col);\n    const right = scrollLeft + width;\n    if (right > absoluteX) {\n      return {\n        left: scrollLeft,\n        col,\n        right,\n        width\n      };\n    }\n    scrollLeft = right;\n  }\n  return null;\n}\n\nexport function _toPxWidth(table: BaseTable, width: string | number): number {\n  return Math.round(calc.toPx(width, table.internalProps.calcWidthContext));\n}\n\nexport function _applyColWidthLimits(limits: { min?: number; max?: number } | void | null, orgWidth: number): number {\n  if (!limits) {\n    return orgWidth;\n  }\n\n  if (limits.min) {\n    if (limits.min > orgWidth) {\n      return limits.min;\n    }\n  }\n  if (limits.max) {\n    if (limits.max < orgWidth) {\n      return limits.max;\n    }\n  }\n  return orgWidth;\n}\n/**\n * 检查设置的width是否为'auto'\n * @param {string|number} width width definition\n * @returns {boolean}\n */\nexport function isAutoDefine(width: string | number): width is 'auto' {\n  return Boolean(width && typeof width === 'string' && width.toLowerCase() === 'auto');\n}\n\nexport function _getScrollableVisibleRect(table: BaseTableAPI): Rect {\n  let frozenColsWidth = 0;\n  let rightFrozenColsWidth = 0;\n  if (table.frozenColCount > 0) {\n    //有固定列时绘制固定列\n    frozenColsWidth = table.getFrozenColsWidth();\n  }\n  if (table.rightFrozenColCount > 0) {\n    //有固定列时绘制固定列\n    rightFrozenColsWidth = table.getRightFrozenColsWidth();\n  }\n  let frozenRowsHeight = 0;\n  let bottomFrozenRowsHeight = 0;\n  if (table.frozenRowCount > 0) {\n    //有固定列时绘制固定列\n    frozenRowsHeight = table.getFrozenRowsHeight();\n  }\n  if (table.bottomFrozenRowCount > 0) {\n    //有固定列时绘制固定列\n    bottomFrozenRowsHeight = table.getBottomFrozenRowsHeight();\n  }\n  return new Rect(\n    table.scrollLeft + frozenColsWidth,\n    table.scrollTop + frozenRowsHeight,\n    table.tableNoFrameWidth - frozenColsWidth - rightFrozenColsWidth,\n    table.tableNoFrameHeight - frozenRowsHeight - bottomFrozenRowsHeight\n  );\n}\n/**\n * @description: 从style对象里获取theme所需要的属性\n * @param {FullExtendStyle} headerStyle\n * @param {BaseTableAPI} table\n * @param {number} col\n * @param {number} row\n * @param {any} getProp\n * @return {*}\n */\nexport function getStyleTheme(\n  headerStyle: FullExtendStyle,\n  table: BaseTableAPI,\n  col: number,\n  row: number,\n  getProp: any,\n  needGetTheme = true\n) {\n  // 属性参考IStyleOption\n  const padding = getQuadProps(getProp('padding', headerStyle, col, row, table));\n  const bgColor = getProp('bgColor', headerStyle, col, row, table);\n\n  const font = getProp('font', headerStyle, col, row, table);\n  let fontFamily;\n  let fontSize;\n  let fontWeight;\n  let fontStyle;\n  let fontVariant;\n  if (font) {\n    // 后期会弃用直接设置font，而使用fontFamily fontSize fontWeight 等属性\n    const { family, size, weight, style, variant } = parseFont(font);\n    fontFamily = family.join(' ');\n    fontSize = size;\n    fontWeight = weight;\n    fontStyle = style;\n    fontStyle = variant;\n  } else {\n    fontFamily = getProp('fontFamily', headerStyle, col, row, table);\n    fontSize = getProp('fontSize', headerStyle, col, row, table);\n    fontWeight = getProp('fontWeight', headerStyle, col, row, table);\n    fontStyle = getProp('fontStyle', headerStyle, col, row, table);\n    fontVariant = getProp('fontVariant', headerStyle, col, row, table);\n  }\n\n  // const fontSize = getFontSize(font);\n  // const fontWeight = getFontWeight(font);\n\n  const textAlign = getProp('textAlign', headerStyle, col, row, table);\n  const textBaseline = getProp('textBaseline', headerStyle, col, row, table);\n  const color = getProp('color', headerStyle, col, row, table);\n  const strokeColor = getProp('strokeColor', headerStyle, col, row, table);\n\n  const lineHeight = getProp('lineHeight', headerStyle, col, row, table);\n  const underline = getProp('underline', headerStyle, col, row, table); // boolean\n  // const underlineColor = getProp('underlineColor', headerStyle, col, row, table);\n  const underlineDash = getProp('underlineDash', headerStyle, col, row, table);\n  const underlineOffset = getProp('underlineOffset', headerStyle, col, row, table);\n  const lineThrough = getProp('lineThrough', headerStyle, col, row, table); // boolean\n  // const lineThroughColor = getProp('lineThroughColor', headerStyle, col, row, table);\n  // const lineThroughDash = getProp('lineThroughDash', headerStyle, col, row, table);\n  const textDecorationWidth = Math.max(1, Math.floor(fontSize / 10));\n\n  const textOverflow = getProp('textOverflow', headerStyle, col, row, table); // 'clip' | 'ellipsis' | string\n  const borderColor = getProp('borderColor', headerStyle, col, row, table); // string | string[]\n  const borderLineWidth = getProp('borderLineWidth', headerStyle, col, row, table); // number | number[]\n  const borderLineDash = getProp('borderLineDash', headerStyle, col, row, table); // number[] | (number[] | null)[]\n\n  const marked = getProp('marked', headerStyle, col, row, table); // boolean\n  const cursor = getProp('cursor', headerStyle, col, row, table); // boolean\n\n  const hasFunctionPros =\n    !padding ||\n    !bgColor ||\n    !font ||\n    !textAlign ||\n    !textBaseline ||\n    !color ||\n    !textOverflow ||\n    !borderColor ||\n    !borderLineWidth ||\n    !borderLineDash ||\n    typeof underline !== 'boolean' ||\n    typeof lineThrough !== 'boolean' ||\n    typeof marked !== 'boolean';\n  if (!needGetTheme) {\n    return { hasFunctionPros };\n  }\n  const theme: IThemeSpec & { _vtable: any } = {\n    text: {\n      fontFamily,\n      fontSize,\n      fontWeight,\n      fontStyle,\n      fontVariant,\n      fill: color,\n      stroke: strokeColor ?? false,\n      textAlign,\n      textBaseline,\n      lineHeight: lineHeight ?? fontSize,\n      underline: underline ? textDecorationWidth : undefined,\n      underlineDash,\n      underlineOffset,\n      lineThrough: lineThrough ? textDecorationWidth : undefined,\n      ellipsis:\n        textOverflow === 'clip'\n          ? ''\n          : textOverflow === 'ellipsis'\n          ? '...'\n          : isValid(textOverflow)\n          ? textOverflow\n          : undefined\n    },\n    group: {\n      fill: bgColor,\n      lineDash: borderLineDash,\n      lineWidth: borderLineWidth,\n      stroke: borderColor,\n      cursor: cursor === 'auto' || cursor === 'default' ? undefined : cursor\n      // cornerRadius: getCellCornerRadius(col, row, table)\n    },\n    _vtable: {\n      padding,\n      marked\n    }\n  };\n\n  if (Array.isArray(borderLineWidth)) {\n    (theme.group as any).strokeArrayWidth = getQuadProps(borderLineWidth);\n  }\n  if (Array.isArray(borderColor)) {\n    const strokeColors = getQuadProps(borderColor);\n    (theme.group as any).stroke = strokeColors.every(color => !color) ? false : strokeColors; // deal width strokeColor: [null, null, null, null]\n    (theme.group as any).strokeArrayColor = getQuadProps(borderColor);\n  }\n\n  return {\n    theme,\n    hasFunctionPros\n  };\n}\n\nexport function getCellCornerRadius(col: number, row: number, table: BaseTableAPI) {\n  const tableCornerRadius = table.theme.frameStyle.cornerRadius;\n  if (table.theme.cellInnerBorder) {\n    if (Array.isArray(tableCornerRadius)) {\n      const radius = [0, 0, 0, 0];\n      if (col === 0 && row === 0) {\n        // return [tableCornerRadius[0], 0, 0, 0];\n        radius[0] = tableCornerRadius[0];\n      }\n      if (col === table.colCount - 1 && row === 0) {\n        // return [0, tableCornerRadius[1], 0, 0];\n        radius[1] = tableCornerRadius[1];\n      }\n      if (col === 0 && row === table.rowCount - 1) {\n        // return [0, 0, 0, tableCornerRadius[3]];\n        radius[3] = tableCornerRadius[3];\n      }\n      if (col === table.colCount - 1 && row === table.rowCount - 1) {\n        // return [0, 0, tableCornerRadius[2], 0];\n        radius[2] = tableCornerRadius[2];\n      }\n      return radius;\n    } else if (tableCornerRadius) {\n      const radius = [0, 0, 0, 0];\n      if (col === 0 && row === 0) {\n        // return [tableCornerRadius, 0, 0, 0];\n        radius[0] = tableCornerRadius;\n      }\n      if (col === table.colCount - 1 && row === 0) {\n        // return [0, tableCornerRadius, 0, 0];\n        radius[1] = tableCornerRadius;\n      }\n      if (col === 0 && row === table.rowCount - 1) {\n        // return [0, 0, 0, tableCornerRadius];\n        radius[3] = tableCornerRadius;\n      }\n      if (col === table.colCount - 1 && row === table.rowCount - 1) {\n        // return [0, 0, tableCornerRadius, 0];\n        radius[2] = tableCornerRadius;\n      }\n      return radius;\n    }\n  }\n  return 0;\n}\n\nexport function parseMarkLineGetExtendRange(markLine: any): number | 'sum' | 'max' {\n  if (markLine) {\n    if (Array.isArray(markLine)) {\n      let extendRange: number | 'sum' | 'max';\n      for (let i = 0; i < markLine.length; i++) {\n        if (markLine[i].autoRange) {\n          if (\n            markLine[i].y === 'sum' ||\n            markLine[i].x === 'sum' ||\n            markLine[i].y1 === 'sum' ||\n            markLine[i].x1 === 'sum'\n          ) {\n            return 'sum';\n          }\n          if (\n            markLine[i].y === 'max' ||\n            markLine[i].x === 'max' ||\n            markLine[i].y1 === 'max' ||\n            markLine[i].x1 === 'max'\n          ) {\n            extendRange = 'max';\n          }\n          if (typeof markLine[i].y === 'number' && typeof (extendRange ?? 0) === 'number') {\n            extendRange = Math.max(<number>extendRange ?? 0, markLine[i].y);\n          }\n          if (typeof markLine[i].x === 'number' && typeof (extendRange ?? 0) === 'number') {\n            extendRange = Math.max(<number>extendRange ?? 0, markLine[i].x);\n          }\n          if (typeof markLine[i].y1 === 'number' && typeof (extendRange ?? 0) === 'number') {\n            extendRange = Math.max(<number>extendRange ?? 0, markLine[i].y1);\n          }\n          if (typeof markLine[i].x1 === 'number' && typeof (extendRange ?? 0) === 'number') {\n            extendRange = Math.max(<number>extendRange ?? 0, markLine[i].x1);\n          }\n        }\n      }\n      return extendRange;\n    } else if (markLine.autoRange) {\n      if (markLine.y === 'sum' || markLine.x === 'sum' || markLine.y1 === 'sum' || markLine.x1 === 'sum') {\n        return 'sum';\n      }\n      if (markLine.y === 'max' || markLine.x === 'max' || markLine.y1 === 'max' || markLine.x1 === 'max') {\n        return 'max';\n      }\n      if (typeof markLine.y === 'number') {\n        return markLine.y;\n      }\n      if (typeof markLine.x === 'number') {\n        return markLine.x;\n      }\n      if (typeof markLine.y1 === 'number') {\n        return markLine.y1;\n      }\n      if (typeof markLine.x1 === 'number') {\n        return markLine.x1;\n      }\n    }\n  }\n  return undefined;\n}\n\nexport function generateAggregationForColumn(table: ListTable) {\n  for (let col = 0; col < table.internalProps.columns.length; col++) {\n    const colDef = table.internalProps.columns[col];\n    if (colDef.aggregation) {\n    } else if (table.options.aggregation) {\n      let aggregation;\n      if (typeof table.options.aggregation === 'function') {\n        aggregation = table.options.aggregation({\n          col: col,\n          field: colDef.field as string\n        });\n      } else {\n        aggregation = table.options.aggregation;\n      }\n\n      if (aggregation) {\n        if (Array.isArray(aggregation)) {\n          const aggregations: (Aggregation | CustomAggregation)[] = [];\n          aggregation.forEach(item => {\n            aggregations.push(Object.assign({ showOnTop: false }, item));\n          });\n          colDef.aggregation = aggregations;\n        } else {\n          colDef.aggregation = Object.assign({ showOnTop: false }, aggregation);\n        }\n      }\n    }\n  }\n}\n\nexport function checkHasAggregationOnColumnDefine(colDefs: ColumnsDefine) {\n  for (let i = 0; i < colDefs.length; i++) {\n    const colDef = colDefs[i];\n    if (colDef.aggregation) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * 检查是否有列设置了autoWidth\n * @param table\n * @returns\n */\nexport function checkHasColumnAutoWidth(table: BaseTableAPI) {\n  if (table.options.widthMode === 'autoWidth') {\n    return true;\n  }\n  if (\n    table.options.defaultHeaderColWidth === 'auto' ||\n    (Array.isArray(table.options.defaultHeaderColWidth) && table.options.defaultHeaderColWidth.includes('auto'))\n  ) {\n    return true;\n  }\n  const columnObjects = table.internalProps.layoutMap.columnObjects;\n  for (let i = 0; i < columnObjects.length; i++) {\n    const column = columnObjects[i];\n    if (column.width === 'auto') {\n      return true;\n    }\n  }\n\n  return false;\n}\n"]}