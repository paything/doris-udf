{"version":3,"sources":["../src/state/hover/update-cell.ts"],"names":[],"mappings":";;;AAAA,6CAA2C;AAE3C,yDAA4D;AAE5D,SAAgB,UAAU,CAAC,UAAsB,EAAE,GAAW,EAAE,GAAW;IACzE,MAAM,SAAS,GAAG,UAAU,CAAC,sBAAsB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC9D,IACE,SAAS,CAAC,IAAI,KAAK,MAAM;QACzB,IAAA,gBAAO,EAAC,SAAS,CAAC,aAAa,CAAC;QAChC,IAAA,gBAAO,EAAC,SAAS,CAAC,aAAa,CAAC;QAChC,IAAA,gBAAO,EAAC,SAAS,CAAC,WAAW,CAAC;QAC9B,IAAA,gBAAO,EAAC,SAAS,CAAC,WAAW,CAAC,EAC9B;QACA,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,IAAA,+BAAiB,EAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QACxF,KAAK,IAAI,GAAG,GAAG,QAAQ,EAAE,GAAG,IAAI,MAAM,EAAE,GAAG,EAAE,EAAE;YAC7C,KAAK,IAAI,GAAG,GAAG,QAAQ,EAAE,GAAG,IAAI,MAAM,EAAE,GAAG,EAAE,EAAE;gBAC7C,MAAM,SAAS,GAAG,UAAU,CAAC,sBAAsB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gBAC9D,IAAI,SAAS,CAAC,IAAI,KAAK,MAAM,EAAE;oBAC7B,SAAS;iBACV;gBACD,SAAS,CAAC,iBAAiB,EAAE,CAAC;aAC/B;SACF;KACF;SAAM;QACL,SAAS,CAAC,iBAAiB,EAAE,CAAC;KAC/B;AACH,CAAC;AAtBD,gCAsBC","file":"update-cell.js","sourcesContent":["import { isValid } from '@visactor/vutils';\nimport type { Scenegraph } from '../../scenegraph/scenegraph';\nimport { getCellMergeRange } from '../../tools/merge-range';\n\nexport function updateCell(scenegraph: Scenegraph, col: number, row: number) {\n  const cellGroup = scenegraph.highPerformanceGetCell(col, row);\n  if (\n    cellGroup.role === 'cell' &&\n    isValid(cellGroup.mergeStartCol) &&\n    isValid(cellGroup.mergeStartRow) &&\n    isValid(cellGroup.mergeEndCol) &&\n    isValid(cellGroup.mergeEndRow)\n  ) {\n    const { colStart, colEnd, rowStart, rowEnd } = getCellMergeRange(cellGroup, scenegraph);\n    for (let col = colStart; col <= colEnd; col++) {\n      for (let row = rowStart; row <= rowEnd; row++) {\n        const mergeCell = scenegraph.highPerformanceGetCell(col, row);\n        if (mergeCell.role !== 'cell') {\n          continue;\n        }\n        mergeCell.addUpdateBoundTag();\n      }\n    }\n  } else {\n    cellGroup.addUpdateBoundTag();\n  }\n}\n"]}