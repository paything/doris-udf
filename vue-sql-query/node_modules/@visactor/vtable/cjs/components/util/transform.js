"use strict";

Object.defineProperty(exports, "__esModule", {
    value: !0
}), exports.transformAxisLineStyle = exports.transformStateStyle = exports.transformComponentStyle = exports.transformToGraphic = exports.transformLegendTitleAttributes = void 0;

const vutils_1 = require("@visactor/vutils");

function transformLegendTitleAttributes(title) {
    var _a, _b;
    const transformedTitle = Object.assign({}, title);
    return (0, vutils_1.isEmpty)(title.style) || (transformedTitle.textStyle = transformToGraphic(title.style)), 
    (0, vutils_1.isEmpty)(title.textStyle) || (0, vutils_1.merge)(transformedTitle.textStyle, transformToGraphic(title.textStyle)), 
    (null === (_a = title.shape) || void 0 === _a ? void 0 : _a.style) && transformToGraphic(transformedTitle.shape.style), 
    (null === (_b = title.background) || void 0 === _b ? void 0 : _b.style) && transformToGraphic(transformedTitle.background.style), 
    transformedTitle;
}

function transformToGraphic(style) {
    return (0, vutils_1.isEmpty)(style) || style.angle && (style.angle = (0, vutils_1.degreeToRadian)(style.angle)), 
    style;
}

function transformComponentStyle(cfg = {}) {
    return (0, vutils_1.isEmpty)(cfg.style) || (cfg.style = transformToGraphic(cfg.style)), 
    (0, vutils_1.isEmpty)(cfg.state) || Object.keys(cfg.state).forEach((key => {
        (0, vutils_1.isEmpty)(cfg.state[key]) || (cfg.state[key] = transformToGraphic(cfg.state[key]));
    })), cfg;
}

function transformStateStyle(stateStyle) {
    return (0, vutils_1.isEmpty)(stateStyle) ? null : (Object.keys(stateStyle).forEach((key => {
        (0, vutils_1.isEmpty)(stateStyle[key]) || (stateStyle[key] = transformToGraphic(stateStyle[key]));
    })), stateStyle);
}

function transformAxisLineStyle(lineCfg) {
    return transformComponentStyle(lineCfg), transformComponentStyle(lineCfg.startSymbol), 
    transformComponentStyle(lineCfg.endSymbol), lineCfg;
}

exports.transformLegendTitleAttributes = transformLegendTitleAttributes, exports.transformToGraphic = transformToGraphic, 
exports.transformComponentStyle = transformComponentStyle, exports.transformStateStyle = transformStateStyle, 
exports.transformAxisLineStyle = transformAxisLineStyle;
//# sourceMappingURL=transform.js.map
