{"version":3,"sources":["../src/render/layout/element.ts"],"names":[],"mappings":";;;AAqBA,MAAa,WAAW;IA0BtB,YAAY,OAAuB;;QAvBnC,MAAC,GAAG,CAAC,CAAC;QACN,MAAC,GAAG,CAAC,CAAC;QACN,UAAK,GAAG,CAAC,CAAC;QACV,WAAM,GAAG,CAAC,CAAC;QAOX,OAAE,GAAG,CAAC,CAAC;QACP,OAAE,GAAG,CAAC,CAAC;QAaL,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,MAAA,OAAO,CAAC,UAAU,mCAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,WAAW,GAAG,MAAA,OAAO,CAAC,WAAW,mCAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,SAAS,GAAG,MAAA,OAAO,CAAC,SAAS,mCAAI,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,GAAG,MAAA,OAAO,CAAC,YAAY,mCAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,IAAI,SAAS,CAAC;IACpD,CAAC;IAED,OAAO,CAAC,KAAmB;QACzB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;QACnE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC;QAErE,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACvD,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;SACzD;QAED,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;QAC1B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC;IAC3B,CAAC;CACF;AAnDD,kCAmDC","file":"element.js","sourcesContent":["import type { BaseTableAPI } from '../../ts-types/base-table';\n\nexport type ElementOptions = {\n  id?: string;\n  marginLeft?: number;\n  marginRight?: number;\n  marginTop?: number;\n  marginBottom?: number;\n  background?: {\n    // fill?: boolean;\n    // stroke?: boolean;\n    stroke?: string | boolean;\n    fill?: string | boolean;\n    lineWidth?: number;\n    cornerRadius?: number;\n    expandX?: number;\n    expandY?: number;\n  };\n};\n\n// Element用作基础布局，图元继承Element\nexport class BaseElement {\n  type: string;\n  id?: string;\n  x = 0;\n  y = 0;\n  width = 0;\n  height = 0;\n  marginLeft: number;\n  marginRight: number;\n  marginTop: number;\n  marginBottom: number;\n  layoutWidth: number;\n  layoutHeight: number;\n  dx = 0;\n  dy = 0;\n  background?: {\n    // fill?: boolean;\n    // stroke?: boolean;\n    stroke?: string | boolean;\n    fill?: string | boolean;\n    lineWidth?: number;\n    cornerRadius?: number;\n    expandX?: number;\n    expandY?: number;\n  };\n\n  constructor(options: ElementOptions) {\n    this.id = options.id;\n    this.marginLeft = options.marginLeft ?? 0;\n    this.marginRight = options.marginRight ?? 0;\n    this.marginTop = options.marginTop ?? 0;\n    this.marginBottom = options.marginBottom ?? 0;\n    this.background = options.background || undefined;\n  }\n\n  getSize(table: BaseTableAPI) {\n    this.initLayoutSize();\n  }\n\n  initLayoutSize() {\n    this.layoutWidth = this.width + this.marginLeft + this.marginRight;\n    this.layoutHeight = this.height + this.marginTop + this.marginBottom;\n\n    if (this.background) {\n      this.layoutWidth += (this.background.expandX || 0) * 2;\n      this.layoutHeight += (this.background.expandY || 0) * 2;\n    }\n\n    this.dx = this.marginLeft;\n    this.dy = this.marginTop;\n  }\n}\n"]}