{"version":3,"sources":["../src/scenegraph/utils/text-pos.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AACrC,OAAO,EAAE,YAAY,EAAE,MAAM,WAAW,CAAC;AAOzC,MAAM,UAAU,UAAU,CACxB,OAAiB,EACjB,SAA0B,EAC1B,YAAgC,EAChC,KAAa,EACb,MAAc;IAEd,IAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;IAC7B,IAAI,SAAS,KAAK,OAAO,IAAI,SAAS,KAAK,KAAK,EAAE;QAChD,KAAK,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;KACxC;SAAM,IAAI,SAAS,KAAK,QAAQ,EAAE;QACjC,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;KACvE;IACD,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;IACnC,IAAI,YAAY,KAAK,QAAQ,IAAI,YAAY,KAAK,YAAY,IAAI,YAAY,KAAK,aAAa,EAAE;QAChG,KAAK,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;KACzC;SAAM,IAAI,YAAY,KAAK,QAAQ,EAAE;QACpC,KAAK,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;KAC7F;IAED,OAAO;QACL,CAAC,EAAE,KAAK;QACR,CAAC,EAAE,KAAK;KACT,CAAC;AACJ,CAAC;AAMD,MAAM,UAAU,cAAc,CAAC,KAAmB,EAAE,IAAW,EAAE,GAAW,EAAE,GAAW,EAAE,KAAqB;IAC9G,MAAM,WAAW,GAAG,KAAK,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAClD,MAAM,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;IAC/E,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAS,CAAC;IACjD,IAAI,CAAC,aAAa,CAChB,UAAU,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAChH,CAAC;AACJ,CAAC","file":"text-pos.js","sourcesContent":["/* eslint-disable no-undef */\nimport type { IFullThemeSpec, Text } from './../../vrender';\nimport type { Group } from '../graphic/group';\nimport { getProp } from './get-prop';\nimport { getQuadProps } from './padding';\nimport type { BaseTableAPI } from '../../ts-types/base-table';\n\n/**\n * @description: 获取对应样式和容器尺寸下的文字位置\n * @return {*}\n */\nexport function getTextPos(\n  padding: number[],\n  textAlign: CanvasTextAlign,\n  textBaseline: CanvasTextBaseline,\n  width: number,\n  height: number\n) {\n  let textX = padding[3] || 10;\n  if (textAlign === 'right' || textAlign === 'end') {\n    textX = width - 0 - (padding[1] || 10);\n  } else if (textAlign === 'center') {\n    textX = 0 + (width - 0 + (padding[3] || 10) - (padding[1] || 10)) / 2;\n  }\n  let textY = 0 + (padding[0] || 10);\n  if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n    textY = height - 0 - (padding[2] || 10);\n  } else if (textBaseline === 'middle') {\n    textY = 0 + (height - 0 - (padding[0] || 10) - (padding[2] || 10)) / 2 + (padding[0] || 10);\n  }\n\n  return {\n    x: textX,\n    y: textY\n  };\n}\n\n/**\n * @description: 更新单元格中的文字位置\n * @return {*}\n */\nexport function updateTextPose(table: BaseTableAPI, cell: Group, col: number, row: number, theme: IFullThemeSpec) {\n  const headerStyle = table._getCellStyle(col, row);\n  const padding = getQuadProps(getProp('padding', headerStyle, col, row, table));\n  const text = cell.getChildByName('text') as Text;\n  text.setAttributes(\n    getTextPos(padding, theme.text.textAlign, theme.text.textBaseline, cell.attribute.width, cell.attribute.height)\n  );\n}\n"]}