{"version":3,"sources":["../src/scenegraph/component/drill-icon.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,IAAI,EAAE,MAAM,iBAAiB,CAAC;AACvC,OAAO,KAAK,KAAK,MAAM,aAAa,CAAC;AAKrC,MAAM,UAAU,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;AAE/B,MAAM,OAAO,SAAS;IAGpB;QACE,MAAM,UAAU,GAAG,UAAU,CAAC,SAAoB,CAAC;QACnD,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC;YACnB,CAAC,EAAE,CAAC,IAAI;YACR,CAAC,EAAE,CAAC,IAAI;YACR,KAAK,EAAE,UAAU,CAAC,GAAG;YACrB,KAAK,EAAE,UAAU,CAAC,KAAK;YACvB,MAAM,EAAE,UAAU,CAAC,MAAM;YACzB,EAAE,EAAE,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC;YACzB,EAAE,EAAE,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC;YAC1B,OAAO,EAAE,KAAK;YACd,QAAQ,EAAE,UAAU,CAAC,QAAQ;YAC7B,MAAM,EAAE,UAAU,CAAC,MAAgB;SACpC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC;IAChC,CAAC;IAED,MAAM,CAAC,MAAa;QAClB,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,MAAM,CAAC,OAAgB,EAAE,CAAS,EAAE,CAAS,EAAE,SAAkB,EAAE,OAAgB,EAAE,KAAiB;QACpG,IAAI,CAAC,OAAO,IAAI,CAAC,SAAS,IAAI,OAAO,CAAC,EAAE;YACtC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;gBACtB,CAAC,EAAE,CAAC,IAAI;gBACR,CAAC,EAAE,CAAC,IAAI;gBACR,OAAO,EAAE,KAAK;aACf,CAAC,CAAC;YACH,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,OAAO;SACR;QAED,MAAM,eAAe,GAAG,UAAU,CAAC,SAAoB,CAAC;QACxD,MAAM,aAAa,GAAG,UAAU,CAAC,OAAkB,CAAC;QACpD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YACtB,CAAC;YACD,CAAC;YACD,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,aAAa,CAAC,GAAG;YAC1D,OAAO,EAAE,IAAI;SACd,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC/C,KAAK,CAAC,eAAe,EAAE,CAAC;IAC1B,CAAC;CACF","file":"drill-icon.js","sourcesContent":["import type { Cursor } from './../../vrender';\nimport { Icon } from '../graphic/icon';\nimport * as icons from '../../icons';\nimport type { SvgIcon } from '../../ts-types';\nimport type { Group } from '../graphic/group';\nimport type { Scenegraph } from '../scenegraph';\n\nconst regedIcons = icons.get();\n\nexport class DrillIcon {\n  icon: Icon;\n\n  constructor() {\n    const iconOption = regedIcons.drillDown as SvgIcon;\n    this.icon = new Icon({\n      x: -1000,\n      y: -1000,\n      image: iconOption.svg,\n      width: iconOption.width,\n      height: iconOption.height,\n      dx: -iconOption.width / 2,\n      dy: -iconOption.height / 2,\n      visible: false,\n      funcType: iconOption.funcType,\n      cursor: iconOption.cursor as Cursor\n    });\n    this.icon.role = 'icon-drill';\n  }\n\n  appand(parent: Group) {\n    parent.appendChild(this.icon);\n  }\n\n  update(visible: boolean, x: number, y: number, drillDown: boolean, drillUp: boolean, scene: Scenegraph) {\n    if (!visible || (drillDown && drillUp)) {\n      this.icon.setAttributes({\n        x: -1000,\n        y: -1000,\n        visible: false\n      });\n      scene.updateNextFrame();\n      return;\n    }\n\n    const drillDownOption = regedIcons.drillDown as SvgIcon;\n    const drillUpOption = regedIcons.drillUp as SvgIcon;\n    this.icon.setAttributes({\n      x,\n      y,\n      image: drillDown ? drillDownOption.svg : drillUpOption.svg,\n      visible: true\n    });\n    this.icon.loadImage(this.icon.attribute.image);\n    scene.updateNextFrame();\n  }\n}\n"]}