{"version":3,"sources":["../src/state/select/custom-select.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAC7C,OAAO,EAAE,wBAAwB,EAAE,MAAM,8CAA8C,CAAC;AAGxF,MAAM,UAAU,wBAAwB,CAAC,KAAmB;IAC1D,MAAM,EAAE,6BAA6B,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC;IAEjE,6BAA6B,CAAC,OAAO,CAAC,CAAC,UAA2B,EAAE,GAAW,EAAE,EAAE;QACjF,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC,CAAC,CAAC;IACH,6BAA6B,CAAC,KAAK,EAAE,CAAC;IACtC,KAAK,CAAC,MAAM,CAAC,kBAAkB,GAAG,EAAE,CAAC;AACvC,CAAC;AAED,MAAM,UAAU,qBAAqB,CACnC,kBAGG,EACH,KAAmB;IAEnB,MAAM,EAAE,6BAA6B,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC;IACjE,kBAAkB,CAAC,OAAO,CAAC,CAAC,WAA8D,EAAE,EAAE;;QAC5F,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC;QACrC,MAAM,IAAI,GAAG,UAAU,CAAC;YACtB,IAAI,EAAE,MAAA,KAAK,CAAC,WAAW,mCAAI,KAAK;YAChC,MAAM,EAAE,MAAA,KAAK,CAAC,eAAe,mCAAI,KAAK;YACtC,SAAS,EAAE,MAAA,KAAK,CAAC,mBAAmB,mCAAI,CAAC;YACzC,QAAQ,EAAE,MAAA,KAAK,CAAC,kBAAkB,mCAAI,EAAE;YACxC,QAAQ,EAAE,KAAK;SAChB,CAAC,CAAC;QACH,6BAA6B,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE;YAC3G,IAAI;YACJ,IAAI,EAAE,MAAM;SACb,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IACH,KAAK,CAAC,MAAM,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;IACrD,wBAAwB,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IACjD,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC;AAC3C,CAAC","file":"custom-select.js","sourcesContent":["import type { CustomSelectionStyle, StateManager } from '../state';\nimport type { CellRange } from '../../ts-types';\nimport type { IRect, IRectGraphicAttribute } from './../../vrender';\nimport { createRect } from './../../vrender';\nimport { updateAllSelectComponent } from '../../scenegraph/select/update-select-border';\nimport type { Scenegraph } from '../../scenegraph/scenegraph';\n\nexport function deletaCustomSelectRanges(state: StateManager) {\n  const { customSelectedRangeComponents } = state.table.scenegraph;\n  // delete graphic\n  customSelectedRangeComponents.forEach((selectComp: { rect: IRect }, key: string) => {\n    selectComp.rect.delete();\n  });\n  customSelectedRangeComponents.clear();\n  state.select.customSelectRanges = [];\n}\n\nexport function addCustomSelectRanges(\n  customSelectRanges: {\n    range: CellRange;\n    style: CustomSelectionStyle;\n  }[],\n  state: StateManager\n) {\n  const { customSelectedRangeComponents } = state.table.scenegraph;\n  customSelectRanges.forEach((customRange: { range: CellRange; style: CustomSelectionStyle }) => {\n    const { range, style } = customRange;\n    const rect = createRect({\n      fill: style.cellBgColor ?? false,\n      stroke: style.cellBorderColor ?? false,\n      lineWidth: style.cellBorderLineWidth ?? 0,\n      lineDash: style.cellBorderLineDash ?? [],\n      pickable: false\n    });\n    customSelectedRangeComponents.set(`${range.start.col}-${range.start.row}-${range.end.col}-${range.end.row}`, {\n      rect,\n      role: 'body'\n    });\n  });\n  state.select.customSelectRanges = customSelectRanges;\n  updateAllSelectComponent(state.table.scenegraph);\n  state.table.scenegraph.updateNextFrame();\n}\n"]}