"use strict";

Object.defineProperty(exports, "__esModule", {
    value: !0
}), exports.cloneDeepSpec = void 0;

const vutils_1 = require("@visactor/vutils"), vdataset_1 = require("@visactor/vdataset");

function cloneDeepSpec(spec, excludeKeys = [ "data" ]) {
    const value = spec;
    let result;
    if (!(0, vutils_1.isValid)(value) || "object" != typeof value) return value;
    if ((0, vdataset_1.isDataView)(value) || (0, vutils_1.isHTMLElement)(value)) return value;
    const isArr = (0, vutils_1.isArray)(value), length = value.length;
    result = isArr ? new Array(length) : "object" == typeof value ? {} : (0, vutils_1.isBoolean)(value) || (0, 
    vutils_1.isNumber)(value) || (0, vutils_1.isString)(value) ? value : (0, vutils_1.isDate)(value) ? new Date(+value) : void 0;
    const props = isArr ? void 0 : Object.keys(Object(value));
    let index = -1;
    if (result) for (;++index < (props || value).length; ) {
        const key = props ? props[index] : index, subValue = value[key];
        (null == excludeKeys ? void 0 : excludeKeys.includes(key.toString())) ? result[key] = subValue : result[key] = cloneDeepSpec(subValue, excludeKeys);
    }
    return result;
}

exports.cloneDeepSpec = cloneDeepSpec;
//# sourceMappingURL=clone-deep.js.map